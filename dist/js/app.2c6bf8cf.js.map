{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/img/sinksWashings/855.svg","webpack:///./src/assets/img/sinksWashings sync ^\\.\\/.*\\.svg$","webpack:///./src/assets/img/edges/edge_empty_hover.svg","webpack:///./src/assets/img/sinksWashings/871.svg","webpack:///./src/App.vue?986f","webpack:///./src/components/Drawer.vue?bfff","webpack:///./src/components/Manage.vue?f03b","webpack:///./src/components/manage/add-menu/AddPart.vue?2d60","webpack:///./src/mixins/getId.js","webpack:///src/components/manage/add-menu/AddPart.vue","webpack:///./src/components/manage/add-menu/AddPart.vue?ee5b","webpack:///./src/components/manage/add-menu/AddPart.vue","webpack:///./src/components/manage/add-menu/AddText.vue?50ea","webpack:///src/components/manage/add-menu/AddText.vue","webpack:///./src/components/manage/add-menu/AddText.vue?4e90","webpack:///./src/components/manage/add-menu/AddText.vue","webpack:///./src/components/manage/add-menu/AddLegend.vue?eafc","webpack:///./src/modules/fills.js","webpack:///src/components/manage/add-menu/AddLegend.vue","webpack:///./src/components/manage/add-menu/AddLegend.vue?23fd","webpack:///./src/components/manage/add-menu/AddLegend.vue","webpack:///src/components/Manage.vue","webpack:///./src/components/Manage.vue?0a57","webpack:///./src/components/Manage.vue","webpack:///./src/components/Canvas.vue?b2e4","webpack:///./src/components/canvas/Konva.vue?0a78","webpack:///./src/components/canvas/ContextMenu.vue?f5b5","webpack:///src/components/canvas/ContextMenu.vue","webpack:///./src/components/canvas/ContextMenu.vue?1e9c","webpack:///./src/components/canvas/ContextMenu.vue","webpack:///./src/components/canvas/Part.vue?b341","webpack:///./src/components/canvas/Borders.vue?b8ba","webpack:///./src/components/canvas/LineBorder.vue?a6f9","webpack:///./src/components/canvas/SizeArrowTag.vue?5c08","webpack:///src/components/canvas/SizeArrowTag.vue","webpack:///./src/components/canvas/SizeArrowTag.vue?d214","webpack:///./src/components/canvas/SizeArrowTag.vue","webpack:///./src/components/canvas/EdgeTag.vue?6f32","webpack:///src/components/canvas/EdgeTag.vue","webpack:///./src/components/canvas/EdgeTag.vue?7981","webpack:///./src/components/canvas/EdgeTag.vue","webpack:///src/components/canvas/LineBorder.vue","webpack:///./src/components/canvas/LineBorder.vue?a9db","webpack:///./src/components/canvas/LineBorder.vue","webpack:///./src/components/canvas/CurveBorder.vue?5269","webpack:///./src/components/canvas/RadiusTag.vue?a261","webpack:///src/components/canvas/RadiusTag.vue","webpack:///./src/components/canvas/RadiusTag.vue?87f6","webpack:///./src/components/canvas/RadiusTag.vue","webpack:///src/components/canvas/CurveBorder.vue","webpack:///./src/components/canvas/CurveBorder.vue?c7e5","webpack:///./src/components/canvas/CurveBorder.vue","webpack:///./src/modules/ConfirmModal.js","webpack:///src/components/canvas/Borders.vue","webpack:///./src/components/canvas/Borders.vue?055f","webpack:///./src/components/canvas/Borders.vue","webpack:///./src/components/canvas/Point.vue?a3df","webpack:///./src/components/canvas/AngleTag.vue?933e","webpack:///src/components/canvas/AngleTag.vue","webpack:///./src/components/canvas/AngleTag.vue?3aee","webpack:///./src/components/canvas/AngleTag.vue","webpack:///src/components/canvas/Point.vue","webpack:///./src/components/canvas/Point.vue?8bd4","webpack:///./src/components/canvas/Point.vue","webpack:///./src/components/canvas/InsetBulge.vue?cee8","webpack:///src/components/canvas/InsetBulge.vue","webpack:///./src/components/canvas/InsetBulge.vue?aae5","webpack:///./src/components/canvas/InsetBulge.vue","webpack:///./src/components/canvas/SingleSizeTag.vue?abd0","webpack:///src/components/canvas/SingleSizeTag.vue","webpack:///./src/components/canvas/SingleSizeTag.vue?6583","webpack:///./src/components/canvas/SingleSizeTag.vue","webpack:///./src/components/canvas/Washing.vue?1533","webpack:///src/components/canvas/Washing.vue","webpack:///./src/components/canvas/Washing.vue?afbb","webpack:///./src/components/canvas/Washing.vue","webpack:///src/components/canvas/Part.vue","webpack:///./src/components/canvas/Part.vue?94f2","webpack:///./src/components/canvas/Part.vue","webpack:///./src/components/manage/element-menu/ElementMenu.vue?81f4","webpack:///./src/components/manage/element-menu/LineBorderMenu.vue?87c7","webpack:///./src/components/manage/element-menu/ChangeLineByEnd.vue?3c15","webpack:///src/components/manage/element-menu/ChangeLineByEnd.vue","webpack:///./src/components/manage/element-menu/ChangeLineByEnd.vue?24d7","webpack:///./src/components/manage/element-menu/ChangeLineByEnd.vue","webpack:///src/components/manage/element-menu/LineBorderMenu.vue","webpack:///./src/components/manage/element-menu/LineBorderMenu.vue?4ac5","webpack:///./src/components/manage/element-menu/LineBorderMenu.vue","webpack:///./src/components/manage/element-menu/CurveBorderMenu.vue?d418","webpack:///src/components/manage/element-menu/CurveBorderMenu.vue","webpack:///./src/components/manage/element-menu/CurveBorderMenu.vue?622d","webpack:///./src/components/manage/element-menu/CurveBorderMenu.vue","webpack:///./src/components/manage/element-menu/InsetBulgeMenu.vue?a796","webpack:///src/components/manage/element-menu/InsetBulgeMenu.vue","webpack:///./src/components/manage/element-menu/InsetBulgeMenu.vue?9055","webpack:///./src/components/manage/element-menu/InsetBulgeMenu.vue","webpack:///./src/components/manage/element-menu/EdgeMenu.vue?835b","webpack:///src/components/manage/element-menu/EdgeMenu.vue","webpack:///./src/components/manage/element-menu/EdgeMenu.vue?919d","webpack:///./src/components/manage/element-menu/EdgeMenu.vue","webpack:///./src/components/manage/element-menu/PartMenu.vue?3e97","webpack:///src/components/manage/element-menu/PartMenu.vue","webpack:///./src/components/manage/element-menu/PartMenu.vue?c70e","webpack:///./src/components/manage/element-menu/PartMenu.vue","webpack:///./src/components/manage/element-menu/TextMenu.vue?2d92","webpack:///src/components/manage/element-menu/TextMenu.vue","webpack:///./src/components/manage/element-menu/TextMenu.vue?c016","webpack:///./src/components/manage/element-menu/TextMenu.vue","webpack:///./src/components/manage/element-menu/SingleSizeTagMenu.vue?b69c","webpack:///src/components/manage/element-menu/SingleSizeTagMenu.vue","webpack:///./src/components/manage/element-menu/SingleSizeTagMenu.vue?097f","webpack:///./src/components/manage/element-menu/SingleSizeTagMenu.vue","webpack:///./src/components/manage/element-menu/LegendMenu.vue?c734","webpack:///src/components/manage/element-menu/LegendMenu.vue","webpack:///./src/components/manage/element-menu/LegendMenu.vue?5e48","webpack:///./src/components/manage/element-menu/LegendMenu.vue","webpack:///src/components/manage/element-menu/ElementMenu.vue","webpack:///./src/components/manage/element-menu/ElementMenu.vue?a7e6","webpack:///./src/components/manage/element-menu/ElementMenu.vue","webpack:///./src/components/manage/Logs.vue?1cb7","webpack:///./src/components/manage/Save.vue?b5e9","webpack:///src/components/manage/Save.vue","webpack:///./src/components/manage/Save.vue?9204","webpack:///./src/components/manage/Save.vue","webpack:///src/components/manage/Logs.vue","webpack:///./src/components/manage/Logs.vue?4160","webpack:///./src/components/manage/Logs.vue","webpack:///./src/components/manage/TextEdit.vue?a83a","webpack:///src/components/manage/TextEdit.vue","webpack:///./src/components/manage/TextEdit.vue?57b5","webpack:///./src/components/manage/TextEdit.vue","webpack:///./src/components/canvas/TotalText.vue?1751","webpack:///src/components/canvas/TotalText.vue","webpack:///./src/components/canvas/TotalText.vue?3bd8","webpack:///./src/components/canvas/TotalText.vue","webpack:///./src/components/canvas/Legend.vue?6599","webpack:///src/components/canvas/Legend.vue","webpack:///./src/components/canvas/Legend.vue?2417","webpack:///./src/components/canvas/Legend.vue","webpack:///./src/components/manage/add-menu/AddWashing.vue?bf2f","webpack:///src/components/manage/add-menu/AddWashing.vue","webpack:///./src/components/manage/add-menu/AddWashing.vue?d61c","webpack:///./src/components/manage/add-menu/AddWashing.vue","webpack:///src/components/canvas/Konva.vue","webpack:///./src/components/canvas/Konva.vue?e795","webpack:///./src/components/canvas/Konva.vue","webpack:///src/components/Canvas.vue","webpack:///./src/components/Canvas.vue?5d92","webpack:///./src/components/Canvas.vue","webpack:///src/components/Drawer.vue","webpack:///./src/components/Drawer.vue?1a5b","webpack:///./src/components/Drawer.vue","webpack:///./src/components/manage/ConfirmModal.vue?f78d","webpack:///src/components/manage/ConfirmModal.vue","webpack:///./src/components/manage/ConfirmModal.vue?0ea0","webpack:///./src/components/manage/ConfirmModal.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/store/parts.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///./src/assets/img/edges/edge_half_hover.svg","webpack:///./src/assets/img/sinksWashings/410.svg","webpack:///./src/assets/img/edges/edge_full_hover.svg","webpack:///./src/assets/img/sinksWashings/813.svg","webpack:///./src/assets/img/sinksWashings/851.svg","webpack:///./src/assets/img/sinksWashings/853.svg","webpack:///./src/assets/img/edges/edge_empty.svg","webpack:///./src/assets/img/edges/edge_half.svg","webpack:///./src/components/manage/Logs.vue?edef","webpack:///./src/assets/img/edges/edge_full.svg","webpack:///./src/components/manage/element-menu/ElementMenu.vue?18ff"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","directives","rawName","expression","modifiers","domProps","on","$event","target","composing","width","_n","$forceUpdate","_v","height","add","computed","$store","state","methods","getId","commit","mixins","els","pxPerMm","canvasWidthInMm","canvasHeightInMm","position","type","fill","insetsBulges","texts","singleSizeTags","washings","points","part","borders","sizeTag","radiusPosition","dispatch","component","addText","x","y","fontSizeK","text","openModal","ref","_m","_l","el","subType","staticStyle","addLegend","indexOf","img","style","backgroundImage","bg","backgroundColor","_s","title","params","svg","color","size","rotate","xml","XMLSerializer","serializeToString","$","image","Image","src","elements","sizeK","components","AddPart","_e","canvasWidthInPx","fillPatternImage","bgPattern","fillPriority","fillPatternScale","deselect","legend","index","addWashingTrigger","item","preventDefault","handleClick","contextMenuEvent","coords","top","left","parts","partsInit","partIndex","border","borderIndex","point","pointIndex","items","isClickable","action","isShown","isHoverable","edgeTag","isInside","radiusTag","watch","console","log","mounted","payload","setTimeout","groupConfig","assign","partShapeConfig","setContextMenuEvent","ib","curves","washing","allBordersIndex","config","stroke","startBorderDrag","dragend","changeMouseOver","arrowPoints","pointerAtBeginning","strokeWidth","pointerLength","arrowLength","pointerWidth","dash","textPosition","rotation","angle","offset","draggable","dragBoundFunc","over","dragstart","lengthText","padding","fontSize","fontFamily","selectedColor","props","isCtrlKey","isControlPressed","offsetInMm","distance","skirting","borderPoints","halfFontSize","vec","norm","multiply","startVec","clone","rotateDeg","insideK","correctPosition","correctX","correctY","originalTextPosition","p1","p2","This","dragTag","pos","absolutePosition","partPosition","contextMenuAction","borderConfig","dragTagFree","dragTagStrict","angle1","angle2","x2","y2","evt","ctrlKey","$refs","group","getNode","clearCache","edge","sizeInPx","imageOffset","sizeInMm","selectedElId","currentElId","originalDistance","correctAngle","centerAngle","nv","middleLength","correctDistance","max","vec1","borderStartPoint","dependentInsetDepth","lineCap","prev","next","isSizeTagShown","includes","hitStrokeWidth","dragBorder","Math","round","angleK","checkSiblingLines","newPoint1","newPoint2","setInsetBulgeDepth","ceil","radius","depth","insetBulge","findIndex","ids","pointsId","cursorMutation","radiusText","originalAngle","label","EdgeTag","lineJoin","innerRadius","R","outerRadius","c1","ang2","PI","ang1","clockwise","Promise","body","actions","input","confirmModal","find","allActions","buttons","button","attr","addClass","html","field","placeholder","append","modal","val","off","LineBorder","forEach","refreshSelectedElTrigger","makeBorderCurve","makeBulgeInset","addPoint","newPoints","toArray","k","newBorder","newPointId","insetBulgeId","movePoint","angleTag","angleText","pts","vec2","angleDeg","isOutside","isOpposite","getCurve","perpABdx","perpABdy","sin","res2","deletePoint","makeCorderCut","makeRounded","showAngle","toObject","iB","startIBDrag","iBIndex","iBStartPoint","pointsIndexes","closed","dragIB","insetBulgeIndex","deleteInsetBulge","Array","circles","dragPointFunc","startDragData","dragPoint","sizeTagIndex","pointNum","diffX","diffY","startPoint","files","washingIndex","Borders","PPoint","InsetBulge","SingleSizeTag","Washing","curveBorders","filter","res1","sceneFunc","ctx","beginPath","moveTo","lineTo","arc","fillStrokeShape","shape","myBB","absolute","x1","min","y1","bb","relative","abs","otherPartsBB","boundingBoxes","isLimitMoving","b","diff","block","newPos","my","isBlock","fillParams","fills","handler","immediate","setPartPosition","getPosition","element","edgeType","setBorderLength","lengthInMm","choosedPoint","class","choosed","angleStyle","transform","$emit","selectedEl","elementId","sort","currentLengthInMm","getLength","getLinearEquation","checkIfNeedFixCurvesRadiuses","prevBorder","minRadius","radiuses","curIndex","nextBorder","setParams","marginInMm","calcRadius","maxMargin","radiusInMm","maxLength","floor","currentMarginInMm","margin","h","setRadius","outLengthInMm","inLengthInMm","depthInMm","marginInMm1","marginInMm2","out","in","currentOutLength","sqrt","currentInLength","currentMargin1","currentMargin2","setPoints","setDepth","depthPoints","setMargin1","setMargin2","setPoint","_q","selectedType","types","initType","$$selectedVal","options","selected","_value","multiple","f","active","sizes","setFontSize","setTagLength","newPts","LineBorderMenu","CurveBorderMenu","InsetBulgeMenu","EdgeMenu","PartMenu","TextMenu","SingleSizeTagMenu","LegendMenu","disabledBack","disabledForward","saveImage","savePDF","getDataUrl","pixelRatio","mimeType","logs","logStep","addEventListener","saveText","isTextEditMode","setCommit","setPayload","delCommit","visible","editText","textIndex","edges","split","fontSizeInmM","legendIndex","sw","addSw","sws","trigger","w","ContextMenu","content","editorOptions","totalTexts","legends","cursor","stage","container","Konva","isMounted","Manage","Canvas","Drawer","ConfirmModal","created","a","JSON","parse","stringify","defaultEdgeType","getters","canvasSizeInPx","rootState","some","mutations","addPart","Vue","set","makeBorderLine","addInsetBulge","refreshSelectedEl","random","changePoint","changeRadius","toggleSkirting","setRadiusTagParams","setEdgeTagParams","setSizeTagParams","setAngleTagParams","setPartFill","deletePart","addTextBlock","setTextBlock","deleteTextBlock","setTextParams","setBoundingBox","assignBordersPointsIds","bordersId","bordersIndexes","addSingleSizeTag","setSingleSizeTagParams","deleteSingleSizeTag","setLegendParams","deleteLegend","addWashing","setWashingParams","deleteWashing","use","Vuex","Store","sizeArrow","showAllConsoleLogs","gridSize","setStage","setPxPerMm","setCanvasWidthInMm","setContextMenuAction","setSelectedElId","setCurrentEl","incrementId","addFile","file","setCursor","resetCursor","addLog","logBack","logForward","setTextEditMode","downloadImages","empty","require","half","full","emptyHover","halfHover","fullHover","410","813","851","853","855","871","onload","PartsModule","library","faArrowsAltH","faLongArrowAltRight","faFont","faLongArrowAltLeft","faReply","faShare","faSave","faFileImage","faFilePdf","FontAwesomeIcon","productionTip","VueKonva","mixin","store","render","App","$mount"],"mappings":"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","file":"js/app.2c6bf8cf.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Drawer/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/855.b825a08f.svg\";","var map = {\n\t\"./410.svg\": \"7637\",\n\t\"./813.svg\": \"83bd\",\n\t\"./851.svg\": \"8a10\",\n\t\"./853.svg\": \"a4de\",\n\t\"./855.svg\": \"0a73\",\n\t\"./871.svg\": \"36bb\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"1948\";","module.exports = __webpack_public_path__ + \"img/edge_empty_hover.8f8f3dc2.svg\";","module.exports = __webpack_public_path__ + \"img/871.4da8c959.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('drawer'),_c('confirm-modal')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container mt-5\"},[_c('manage'),_c('Canvas')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-left\"},[_c('add-part'),_c('add-text',{staticClass:\"ml-2\"}),_c('add-legend',{staticClass:\"ml-2\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block w-auto\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.width),expression:\"width\",modifiers:{\"number\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.width)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.width=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" X \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.height),expression:\"height\",modifiers:{\"number\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.height)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.height=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('button',{staticClass:\"btn btn-secondary ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.add}},[_vm._v(\" Элемент \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  computed: {\n    id() { return this.$store.state.id; },\n  },\n  methods: {\n    getId() {\n      this.$store.commit('incrementId');\n      const { id } = this;\n      return id;\n    },\n  },\n};\n","<template>\n  <div class=\"d-inline-block w-auto\">\n    <input type=\"text\" v-model.number=\"width\" >\n    X\n    <input type=\"text\" v-model.number=\"height\" >\n    <button class=\"btn btn-secondary ml-2\" type=\"button\" @click=\"add\">\n      Элемент\n    </button>\n  </div>\n</template>\n\n<script>\nimport getId from '../../../mixins/getId';\n\nexport default {\n  mixins: [getId],\n  data() {\n    return {\n      els: [],\n      width: 1000,\n      height: 2000,\n    };\n  },\n  computed: {\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    canvasWidthInMm() { return this.$store.state.canvasWidthInMm; },\n    canvasHeightInMm() { return this.$store.state.canvasHeightInMm; },\n  },\n  methods: {\n    add() {\n      const widthInMm = this.width;\n      const heightInMm = this.height;\n      const startPoint = [\n        (this.canvasWidthInMm - widthInMm) / 2,\n        (this.canvasHeightInMm - heightInMm) / 2,\n      ];\n      const part = {\n        id: this.getId(),\n        position: { x: 0, y: 0 },\n        type: 'part',\n        fill: null,\n        insetsBulges: [],\n        texts: [],\n        singleSizeTags: [],\n        washings: [],\n        points: [\n          { id: this.getId(), c: startPoint, angleTag: {} },\n          { id: this.getId(), c: [startPoint[0] + widthInMm, startPoint[1]], angleTag: {} },\n          {\n            id: this.getId(),\n            c: [startPoint[0] + widthInMm, startPoint[1] + heightInMm],\n            angleTag: {},\n          },\n          { id: this.getId(), c: [startPoint[0], startPoint[1] + heightInMm], angleTag: {} },\n        ],\n      };\n      part.borders = part.points.map(() => (\n        {\n          id: this.getId(),\n          type: 'lineBorder',\n          sizeTag: { isShown: true },\n          radiusPosition: 'usual',\n        }\n      ));\n      this.$store.dispatch('addPart', part);\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddPart.vue?vue&type=template&id=2703c889&\"\nimport script from \"./AddPart.vue?vue&type=script&lang=js&\"\nexport * from \"./AddPart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addText}},[_vm._v(\" Текст \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-inline-block\">\n    <button\n      class=\"btn btn-secondary\"\n      type=\"button\"\n      @click=\"addText\">\n      Текст\n    </button>\n  </div>\n</template>\n\n<script>\nimport getId from '../../../mixins/getId';\n\nexport default {\n  mixins: [getId],\n  computed: {\n    canvasHeightInMm() { return this.$store.state.canvasHeightInMm; },\n  },\n  methods: {\n    addText() {\n      this.$store.dispatch('addTextBlock', {\n        id: this.getId(),\n        x: 100,\n        y: this.canvasHeightInMm / 2,\n        type: 'totalText',\n        fontSizeK: 1,\n        text: '',\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddText.vue?vue&type=template&id=fb8b5390&\"\nimport script from \"./AddText.vue?vue&type=script&lang=js&\"\nexport * from \"./AddText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block w-auto\"},[_c('button',{staticClass:\"btn btn-secondary ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openModal}},[_vm._v(\" Легенда \")]),_c('div',{ref:\"modal\",staticClass:\"modal\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered modal-lg\"},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"row justify-content-center\"},_vm._l((_vm.elements),function(el){return _c('div',{key:el.subType,staticClass:\"col-3 border border-dark rounded m-2 p-2\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.addLegend(el)}}},[(el.subType.indexOf('edge') == 0)?_c('div',{staticClass:\"text-center\"},[_c('img',{staticStyle:{\"width\":\"3rem\"},attrs:{\"src\":el.img,\"alt\":\"кромка\"}})]):(el.subType === 'skirting')?_c('div',{staticClass:\"text-center\"},[_vm._m(1,true)]):_c('div',{staticClass:\"text-center\"},[_c('div',{staticClass:\"inline-block border border-dark rounded m-auto\",staticStyle:{\"width\":\"3rem\",\"height\":\"3rem\",\"background\":\"contain repeat\"},style:({\n                    backgroundImage: el.bg ? (\"url('\" + (el.bg) + \"')\") : null,\n                    backgroundColor: el.subType === 'color' ? 'rgb(200,200,200)' : null,\n                  })})]),_c('div',{staticClass:\"text-center\"},[_vm._v(_vm._s(el.title))])])}),0)]),_vm._m(2)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"Выберите элемент\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inline-block m-auto\",staticStyle:{\"width\":\"3rem\",\"height\":\"3rem\"}},[_c('div',{staticClass:\"bg-dark m-auto position-relative\",staticStyle:{\"height\":\"0.3rem\",\"top\":\"50%\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Отмена\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"}},[_vm._v(\"Выбрать\")])])}]\n\nexport { render, staticRenderFns }","import $ from 'jquery';\n\nexport default (params) => {\n  const { type, color } = params;\n  const size = params.size || 10;\n  let svg;\n  const rotate = `rotate(90 ${size / 2} ${size / 2})`;\n  switch (type) {\n    case 'dots':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='${size}' height='${size}'>\n          <style>svg { background-color: white; }</style>\n          <circle cx=\"1\" cy=\"1\" r=\"1\" fill=\"${color}\"/>\n        </svg>\n      `;\n      break;\n    case 'verticalLines':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='${size / 2}' height='${size}'>\n          <style>svg { background-color: white; }</style>\n          <rect x='0' y='0' width='1' height='${size}' fill='${color}' />\n        </svg>\n      `;\n      break;\n    case 'horizontalLines':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='${size}' height='${size / 2}'>\n          <style>svg { background-color: white; }</style>\n          <rect x='0' y='0' width='${size}' height='1' fill='${color}' />\n        </svg>\n      `;\n      break;\n    case 'rightDiagonalLines':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='${size}' height='${size}'>\n          <style>svg { background-color: white; }</style>\n          <path d='M-1,1 l2,-2 M0,10 l10,-10 M9,11 l2,-2' stroke='${color}' stroke-width='1'/>\n        </svg>\n      `;\n      break;\n    case 'leftDiagonalLines':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='${size}' height='${size}'>\n          <style>svg { background-color: white; }</style>\n          <path d='M-1,1 l2,-2 M0,10 l10,-10 M9,11 l2,-2' stroke='${color}' stroke-width='1' transform=\"${rotate}\"/>\n        </svg>\n      `;\n      break;\n    case 'rightSmallDiagonalLines':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='5' height='5'>\n          <style>svg { background-color: white; }</style>\n          <path d='M0 5L5 0ZM6 4L4 6ZM-1 1L1 -1Z' stroke='${color}' stroke-width='1'/>\n        </svg>\n      `;\n      break;\n    case 'rhombus':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='8' height='8'>\n          <style>svg { background-color: white; }</style>\n          <path d='M0 0L8 8ZM8 0L0 8Z' stroke-width='0.5' stroke='${color}'/>\n        </svg>\n      `;\n      break;\n    case 'square':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='20' height='20'>\n          <style>svg { background-color: white; }</style>\n          <rect x='10' y='0' width='2' height='20' fill='${color}' />\n          <rect x='0' y='10' width='20' height='2' fill='${color}' />\n        </svg>\n      `;\n      break;\n    default:\n      return null;\n  }\n  const xml = (new XMLSerializer()).serializeToString($(svg)[0]);\n  const image = new Image();\n  image.src = `data:image/svg+xml;charset=utf-8,${xml}`;\n  return image;\n};\n","<template>\n  <div class=\"d-inline-block w-auto\">\n    <button class=\"btn btn-secondary ml-2\" type=\"button\" @click=\"openModal\">\n      Легенда\n    </button>\n    <div class=\"modal\" ref=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Выберите элемент</h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"row justify-content-center\">\n              <div\n              class=\"col-3 border border-dark rounded m-2 p-2\"\n              style=\"cursor: pointer;\"\n              v-for=\"el in elements\"\n              :key=\"el.subType\"\n              @click=\"addLegend(el)\">\n                <div v-if=\"el.subType.indexOf('edge') == 0\" class=\"text-center\">\n                  <img :src=\"el.img\" alt=\"кромка\" style=\"width: 3rem;\">\n                </div>\n                <div v-else-if=\"el.subType === 'skirting'\" class=\"text-center\">\n                  <div\n                    class=\"inline-block m-auto\"\n                    style=\"width: 3rem; height: 3rem;\">\n                    <div style=\"height: 0.3rem; top: 50%;\"\n                      class=\"bg-dark m-auto position-relative\"></div>\n                  </div>\n                </div>\n                <div v-else class=\"text-center\">\n                  <div\n                    class=\"inline-block border border-dark rounded m-auto\"\n                    style=\"width: 3rem; height: 3rem; background: contain repeat;\"\n                    :style=\"{\n                      backgroundImage: el.bg ? `url('${el.bg}')` : null,\n                      backgroundColor: el.subType === 'color' ? 'rgb(200,200,200)' : null,\n                    }\">\n                  </div>\n                </div>\n                <div class=\"text-center\">{{ el.title }}</div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Отмена</button>\n            <button type=\"button\" class=\"btn btn-primary\">Выбрать</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\nimport getId from '../../../mixins/getId';\nimport edgeEmpty from '../../../assets/img/edges/edge_empty.svg';\nimport edgeHalf from '../../../assets/img/edges/edge_half.svg';\nimport edgeFull from '../../../assets/img/edges/edge_full.svg';\nimport fills from '../../../modules/fills';\n\nexport default {\n  mixins: [getId],\n  data() {\n    return {\n      elements: [\n        { subType: 'edge_empty', title: 'Кромка 1', img: edgeEmpty },\n        { subType: 'edge_half', title: 'Кромка 2', img: edgeHalf },\n        { subType: 'edge_full', title: 'Кромка 3', img: edgeFull },\n        { subType: 'skirting', title: 'Бортик' },\n        { subType: 'noBg', title: 'Без фона' },\n        ...this.$store.state.fills.map((f) => {\n          const bg = f.type === 'color' ? null : fills({ type: f.type, color: 'rgb(200,200,200)' });\n          return {\n            ...f,\n            subType: f.type,\n            bg: bg ? bg.src : null,\n          };\n        }),\n      ],\n    };\n  },\n  computed: {\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    canvasWidthInMm() { return this.$store.state.canvasWidthInMm; },\n    canvasHeightInMm() { return this.$store.state.canvasHeightInMm; },\n  },\n  methods: {\n    openModal() {\n      $(this.$refs.modal).modal('show');\n    },\n    addLegend(el) {\n      $(this.$refs.modal).modal('hide');\n      const { subType } = el;\n      this.$store.commit('addLegend', {\n        id: this.getId(),\n        type: 'legend',\n        subType,\n        text: 'Описание',\n        x: this.canvasWidthInMm * 0.4,\n        y: this.canvasHeightInMm * 0.8,\n        sizeK: 1.6,\n      });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLegend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLegend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddLegend.vue?vue&type=template&id=26405cd0&\"\nimport script from \"./AddLegend.vue?vue&type=script&lang=js&\"\nexport * from \"./AddLegend.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"text-left\">\n    <add-part />\n    <add-text class=\"ml-2\" />\n    <add-legend class=\"ml-2\" />\n  </div>\n</template>\n\n<script>\nimport AddPart from './manage/add-menu/AddPart.vue';\nimport AddText from './manage/add-menu/AddText.vue';\nimport AddLegend from './manage/add-menu/AddLegend.vue';\n\nexport default {\n  components: {\n    AddPart, AddText, AddLegend,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Manage.vue?vue&type=template&id=6e564563&\"\nimport script from \"./Manage.vue?vue&type=script&lang=js&\"\nexport * from \"./Manage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isMounted)?[_c('konva')]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"position-relative\",staticStyle:{\"margin-bottom\":\"300px\"}},[_c('div',{ref:\"nocontext\"},[_c('context-menu'),_c('v-stage',{ref:\"stage\",attrs:{\"config\":{\n        width: _vm.canvasWidthInPx,\n        height: 500,\n        type: 'stage',\n      }}},[_c('v-layer',[_c('v-rect',{attrs:{\"config\":{\n            x: 0,\n            y: 0,\n            width: _vm.canvasWidthInPx,\n            height: 500,\n            fill: 'white',\n            type: 'bgRect',\n            fillPatternImage: _vm.bgPattern,\n            fillPriority: 'pattern',\n            fillPatternScale: { x: 0.35, y: 0.35 },\n          }},on:{\"click\":_vm.deselect}}),_vm._l((_vm.parts),function(part,i){return _c('part',{key:part.id,attrs:{\"partIndex\":i,\"part\":part}})}),_vm._l((_vm.totalTexts),function(text,i){return _c('total-text',{key:text.id,attrs:{\"textIndex\":i,\"text\":text}})}),_vm._l((_vm.legends),function(legend,index){return _c('legends',{key:legend.id,attrs:{\"legend\":legend,\"legendIndex\":index}})})],2)],1)],1),_c('element-menu'),_c('logs'),_c('text-edit'),_c('add-washing',{attrs:{\"trigger\":_vm.addWashingTrigger}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"menu\",staticClass:\"dropdown-menu\",style:(_vm.coords),attrs:{\"role\":\"menu\"}},_vm._l((_vm.items),function(item,i){return _c('a',{key:i,staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleClick(item)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"dropdown-menu\"\n    ref=\"menu\"\n    :style=\"coords\"\n    role=\"menu\">\n    <a\n      class=\"dropdown-item\"\n      href=\"#\"\n      v-for=\"(item, i) in items\"\n      :key=\"i\"\n      @click.prevent=\"handleClick(item)\">\n      {{ item.name }}\n    </a>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\n\nexport default {\n  computed: {\n    contextMenuEvent() { return this.$store.state.contextMenuEvent; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    coords() {\n      const coords = { top: 0, left: 0 };\n      if (this.contextMenuEvent) {\n        coords.top = `${this.contextMenuEvent.e.evt.layerY}px`;\n        coords.left = `${this.contextMenuEvent.e.evt.layerX}px`;\n      }\n      return coords;\n    },\n    part() {\n      if (!('partIndex' in this.contextMenuEvent)) return null;\n      return this.$store.state.parts.partsInit[this.contextMenuEvent.partIndex];\n    },\n    border() {\n      if (!this.part || !('borderIndex' in this.contextMenuEvent)) return null;\n      return this.part.borders[this.contextMenuEvent.borderIndex];\n    },\n    point() {\n      if (!this.part || !('pointIndex' in this.contextMenuEvent)) return null;\n      return this.part.points[this.contextMenuEvent.pointIndex];\n    },\n    items() {\n      if (!this.contextMenuEvent) return [];\n      const items = [];\n      const { attrs } = this.contextMenuEvent.e.target;\n      const { partIndex, borderIndex } = this.contextMenuEvent;\n      switch (attrs.type) {\n        case 'part':\n          return [\n            {\n              name: 'Удалить элемент',\n              action: 'deletePart',\n              partIndex,\n            },\n            {\n              name: 'Добавить размер',\n              action: 'addSingleSizeTag',\n              partIndex,\n            },\n            {\n              name: 'Добавить мойку',\n              action: 'addWashing',\n              partIndex,\n              left: this.contextMenuEvent.e.evt.layerX / this.pxPerMm,\n              top: this.contextMenuEvent.e.evt.layerY / this.pxPerMm,\n            },\n          ];\n        case 'lineBorder':\n          if (attrs.isClickable) {\n            items.push(...[\n              {\n                name: 'Вставить точку',\n                action: 'addPoint',\n                borderIndex,\n              },\n              {\n                name: 'Сделать выпуклой',\n                isInside: false,\n                action: 'makeBorderCurve',\n                borderIndex,\n              },\n              {\n                name: 'Сделать вогнутой',\n                isInside: true,\n                action: 'makeBorderCurve',\n                borderIndex,\n              },\n              {\n                name: 'Сделать вырез',\n                isInside: true,\n                action: 'makeBulgeInset',\n                borderIndex,\n              },\n              {\n                name: 'Сделать выступ',\n                isInside: false,\n                action: 'makeBulgeInset',\n                borderIndex,\n              },\n            ]);\n          }\n          items.push({\n            name: 'Добавить/убрать бортик',\n            action: 'toggleSkirting',\n            borderIndex,\n          });\n          if (!this.border.sizeTag.isShown && attrs.isHoverable) {\n            items.push({\n              name: 'Показать размер',\n              action: 'showSizeArrow',\n              borderIndex,\n            });\n          }\n          if (this.border && (!this.border.edgeTag || !this.border.edgeTag.isShown)) {\n            items.push({\n              name: 'Добавить кромку',\n              action: 'addEdge',\n              borderIndex,\n            });\n          }\n          return items;\n        case 'curveBorder':\n          items.push(\n            {\n              name: 'Сделать прямой',\n              action: 'makeBorderLine',\n              borderIndex,\n            },\n            {\n              name: 'Добавить/убрать бортик',\n              action: 'toggleSkirting',\n              borderIndex,\n            },\n          );\n          if (attrs.isInside) {\n            items.push(\n              {\n                name: 'Сделать выпуклой',\n                isInside: false,\n                action: 'makeBorderCurve',\n                borderIndex,\n              },\n            );\n          } else {\n            items.push(\n              {\n                name: 'Сделать вогнутой',\n                isInside: true,\n                action: 'makeBorderCurve',\n                borderIndex,\n              },\n            );\n          }\n          if (!this.border.radiusTag.isShown) {\n            items.push({\n              name: 'Показать радиус',\n              action: 'showRadius',\n              borderIndex,\n            });\n          }\n          if (this.border && this.border.edgeTag && !this.border.edgeTag.isShown) {\n            items.push({\n              name: 'Добавить кромку',\n              action: 'addEdge',\n              borderIndex,\n            });\n          }\n          return items;\n        case 'point': {\n          const j2 = this.contextMenuEvent.pointIndex;\n          const j1 = j2 > 0 ? j2 - 1 : this.part.points.length - 1;\n          const border1 = this.part.borders[j1];\n          const border2 = this.part.borders[j2];\n          if (border1.type === 'lineBorder' && border2.type === 'lineBorder') {\n            if (!('insetBulgeId' in this.point)) {\n              items.push(...[\n                {\n                  name: 'Удалить точку',\n                  action: 'deletePoint',\n                  pointIndex: this.contextMenuEvent.pointIndex,\n                },\n                {\n                  name: 'Сделать вырез',\n                  action: 'makeCorderCut',\n                  pointIndex: this.contextMenuEvent.pointIndex,\n                },\n              ]);\n            }\n            items.push(\n              {\n                name: 'Закруглить угол',\n                action: 'makeRounded',\n                pointIndex: this.contextMenuEvent.pointIndex,\n              },\n            );\n            if (!this.point.angleTag.isShown) {\n              items.push({\n                name: 'Показать угол',\n                action: 'showAngle',\n                pointIndex: this.contextMenuEvent.pointIndex,\n              });\n            }\n          }\n          return items;\n        }\n        case 'inset':\n        case 'bulge':\n          return [\n            {\n              name: 'Удалить выступ/вырез',\n              action: 'deleteInsetBulge',\n              insetBulgeIndex: this.contextMenuEvent.insetBulgeIndex,\n            },\n          ];\n        case 'sizeArrow':\n          return [\n            {\n              name: 'Скрыть',\n              action: 'hideSizeArrow',\n              borderIndex,\n            },\n          ];\n        case 'radius':\n          return [\n            {\n              name: 'Скрыть',\n              action: 'hide',\n              borderIndex,\n            },\n          ];\n        case 'angleTag':\n          return [\n            {\n              name: 'Скрыть',\n              action: 'hideAngle',\n              pointIndex: this.contextMenuEvent.pointIndex,\n            },\n          ];\n        case 'edge':\n          return [\n            {\n              name: 'Скрыть',\n              action: 'hideEdge',\n              borderIndex,\n            },\n          ];\n        case 'totalText':\n          return [\n            {\n              name: 'Удалить текст',\n              action: 'deleteTotalText',\n              textIndex: this.contextMenuEvent.textIndex,\n            },\n          ];\n        case 'singleSizeTag':\n          return [\n            {\n              name: 'Удалить размер',\n              action: 'deleteSingleSizeTag',\n              sizeTagIndex: this.contextMenuEvent.sizeTagIndex,\n            },\n          ];\n        case 'legend':\n          return [\n            {\n              name: 'Удалить элемент легенды',\n              action: 'deleteLegend',\n              legendIndex: this.contextMenuEvent.legendIndex,\n            },\n          ];\n        case 'washing':\n          return [\n            {\n              name: 'Удалить мойку',\n              action: 'deleteWashing',\n              washingIndex: this.contextMenuEvent.washingIndex,\n            },\n          ];\n        default:\n          return [];\n      }\n    },\n  },\n  watch: {\n    contextMenuEvent() {\n      this.console.log('ctxtmenu');\n      $(this.$refs.menu).dropdown('show');\n    },\n  },\n  mounted() {\n    $('body')\n      .click(() => {\n        $(this.$refs.menu).dropdown('hide');\n      });\n  },\n  methods: {\n    handleClick(item) {\n      const payload = {\n        ...item,\n        partIndex: this.contextMenuEvent.partIndex,\n      };\n      this.$store.commit('setContextMenuEvent', null);\n      this.$store.commit('setContextMenuAction', payload);\n      setTimeout(() => {\n        $(this.$refs.menu).dropdown('hide');\n      }, 0);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContextMenu.vue?vue&type=template&id=63323291&\"\nimport script from \"./ContextMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./ContextMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-group',{attrs:{\"config\":_vm.groupConfig},on:{\"dragend\":_vm.log}},[_c('v-shape',{ref:\"shape\",attrs:{\"config\":Object.assign({}, _vm.partShapeConfig,\n      {fill: _vm.fill.color,\n      fillPatternImage: _vm.fill.image,\n      fillPriority: 'pattern'})},on:{\"mouseover\":function($event){return _vm.$store.commit('setCurrentEl', _vm.part.id)},\"mouseleave\":function($event){return _vm.$store.commit('setCurrentEl', null)},\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.part.id)},\"contextmenu\":_vm.setContextMenuEvent}}),_vm._l((_vm.part.insetsBulges),function(ib,index){return _c('inset-bulge',{key:ib.id,attrs:{\"partIndex\":_vm.partIndex,\"iBIndex\":index}})}),_c('borders',{attrs:{\"part\":_vm.part,\"partIndex\":_vm.partIndex,\"curves\":_vm.curves}}),_vm._l((_vm.points),function(point,index){return _c('p-point',{key:point.id,attrs:{\"pointIndex\":index,\"partIndex\":_vm.partIndex}})}),_vm._l((_vm.part.singleSizeTags),function(sizeTag,index){return _c('single-size-tag',{key:sizeTag.id,attrs:{\"partIndex\":_vm.partIndex,\"sizeTagIndex\":index}})}),_vm._l((_vm.part.washings),function(washing,index){return _c('washing',{key:washing.id,attrs:{\"partIndex\":_vm.partIndex,\"washingIndex\":index}})})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.borders.lineBorder),function(border){return _c('line-border',{key:border.id,attrs:{\"borderIndex\":border.allBordersIndex,\"partIndex\":_vm.partIndex}})}),_vm._l((_vm.borders.curveBorder),function(border){return _c('curve-border',{key:border.id,attrs:{\"borderIndex\":border.allBordersIndex,\"partIndex\":_vm.partIndex,\"curves\":_vm.curves}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-line',{ref:\"border\",attrs:{\"config\":Object.assign({}, _vm.config,\n      {stroke: _vm.stroke})},on:{\"dragstart\":function($event){return _vm.startBorderDrag($event, _vm.border)},\"dragend\":_vm.dragend,\"contextmenu\":function($event){return _vm.setContextMenuEvent($event, _vm.borderIndex)},\"mouseover\":function($event){return _vm.changeMouseOver(true, _vm.border.id)},\"mouseleave\":function($event){return _vm.changeMouseOver(false)},\"click\":function($event){_vm.config.isClickable ? _vm.$store.commit('setSelectedElId', _vm.border.id) : ''}}}),(_vm.border.sizeTag && _vm.border.sizeTag.isShown)?_c('size-arrow-tag',{attrs:{\"border\":_vm.border,\"borderConfig\":_vm.config,\"partIndex\":_vm.partIndex,\"part\":_vm.part}}):_vm._e(),(_vm.border.edgeTag && _vm.border.edgeTag.isShown)?_c('edge-tag',{attrs:{\"border\":_vm.border,\"borderConfig\":_vm.config,\"partIndex\":_vm.partIndex,\"part\":_vm.part}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.sizeTag.isShown)?_c('v-group',{ref:\"group\"},[_c('v-arrow',{attrs:{\"config\":{\n    points: _vm.params.arrowPoints,\n    stroke: 'black',\n    fill: 'black',\n    pointerAtBeginning: true,\n    strokeWidth: 1,\n    pointerLength : _vm.arrowLength,\n    pointerWidth : 3,\n    dash: _vm.dash,\n  }}}),_c('v-label',{attrs:{\"config\":Object.assign({}, _vm.params.textPosition,\n      {rotation: _vm.params.angle,\n      offset: _vm.params.offset,\n      draggable: true,\n      dragBoundFunc: _vm.params.dragBoundFunc})},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"contextmenu\":_vm.setContextMenuEvent,\"dragstart\":_vm.dragstart,\"dragend\":_vm.dragend}},[_c('v-tag',{attrs:{\"config\":{fill: 'white'}}}),_c('v-text',{attrs:{\"config\":{\n      text: _vm.params.lengthText,\n      padding: _vm.params.padding,\n      fontSize: _vm.fontSize,\n      fontFamily: 'Calibri',\n      fill: _vm.over ? _vm.selectedColor : 'black',\n      type: 'sizeArrow',\n    }}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-group\n    v-if=\"sizeTag.isShown\"\n    ref=\"group\">\n    <v-arrow :config=\"{\n      points: params.arrowPoints,\n      stroke: 'black',\n      fill: 'black',\n      pointerAtBeginning: true,\n      strokeWidth: 1,\n      pointerLength : arrowLength,\n      pointerWidth : 3,\n      dash,\n    }\" />\n    <v-label :config=\"{\n        ...params.textPosition,\n        rotation: params.angle,\n        offset: params.offset,\n        draggable: true,\n        dragBoundFunc: params.dragBoundFunc,\n      }\"\n      @mouseover=\"over = true\"\n      @mouseleave=\"over = false\"\n      @contextmenu=\"setContextMenuEvent\"\n      @dragstart=\"dragstart\"\n      @dragend=\"dragend\">\n      <v-tag :config=\"{fill: 'white'}\" />\n      <v-text :config=\"{\n        text: params.lengthText,\n        padding: params.padding,\n        fontSize,\n        fontFamily: 'Calibri',\n        fill: over ? selectedColor : 'black',\n        type: 'sizeArrow',\n      }\" />\n    </v-label>\n  </v-group>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  props: ['border', 'partIndex', 'part', 'borderConfig'],\n  data() {\n    return {\n      over: false,\n      isCtrlKey: false,\n      arrowLength: 3,\n    };\n  },\n  computed: {\n    sizeTag() { return this.border.sizeTag; },\n    isControlPressed() { return this.$store.state.isControlPressed; },\n    offsetInMm() {\n      const { sizeTag } = this;\n      if ('distance' in sizeTag) return sizeTag.distance;\n      return this.border.skirting ? 70 : 50;\n    },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    fontSize() { return this.$store.state.fontSizeInmM.sizeArrow * this.pxPerMm; },\n    borderPoints() { return this.borderConfig.points; },\n    params() {\n      this.console.log('sizeTag', this.border.id);\n      const points = this.borderPoints;\n      const insideK = this.sizeTag.isInside ? -1 : 1;\n      let startVec = new Victor(points[0], points[1]);\n      let vec = new Victor(points[2] - points[0], points[3] - points[1]);\n      let angle = vec.angleDeg();\n      angle = angle < 0 ? angle + 360 : angle;\n      const halfFontSize = this.fontSize / 2;\n      let length = vec.length();\n      const lengthText = Math.round(length / this.pxPerMm).toString();\n      length -= this.arrowLength * 2;\n      const offset = {\n        x: halfFontSize * lengthText.length,\n        y: halfFontSize,\n      };\n      const textOffset = length * 0.5 + offset.x / 2;\n      const offsetInPx = this.offsetInMm * this.pxPerMm;\n      vec = vec.norm().multiply(new Victor(this.arrowLength, this.arrowLength));\n      startVec = vec.clone().add(startVec);\n      vec = vec.norm().rotateDeg(-90 * insideK).multiply(new Victor(offsetInPx, offsetInPx));\n      startVec = vec.clone().add(startVec);\n      const p1 = startVec.toArray();\n      const textVec = vec.clone().norm().rotateDeg(90 * insideK)\n        .multiply(new Victor(textOffset, textOffset));\n      const originalTextPosition = textVec.add(startVec).toObject();\n      let textPosition;\n      const { correctPosition } = this.sizeTag;\n      let correctX;\n      let correctY;\n      if (correctPosition) {\n        correctX = correctPosition.x * this.pxPerMm;\n        correctY = correctPosition.y * this.pxPerMm;\n        textPosition = {\n          x: originalTextPosition.x + correctX,\n          y: originalTextPosition.y + correctY,\n        };\n        p1[0] += correctX;\n        p1[1] += correctY;\n      } else {\n        textPosition = originalTextPosition;\n      }\n      vec = vec.norm().rotateDeg(90 * insideK).multiply(new Victor(length, length));\n      startVec = vec.clone().add(startVec);\n      const p2 = startVec.toArray();\n      if (correctPosition) {\n        p2[0] += correctX;\n        p2[1] += correctY;\n      }\n      const This = this;\n      return {\n        arrowPoints: [...p1, ...p2],\n        originalTextPosition,\n        textPosition,\n        lengthText,\n        padding: 0,\n        angle,\n        offset,\n        dragBoundFunc(pos) {\n          This.dragTag(pos);\n          return this.absolutePosition();\n        },\n      };\n    },\n    partPosition() { return this.part.position; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    dash() { return this.$store.state.dash; },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.borderIndex !== this.borderConfig.allBordersIndex) return;\n      if (data.action === 'hideSizeArrow') {\n        this.$store.commit('setSizeTagParams', {\n          i: data.partIndex,\n          j: data.borderIndex,\n        });\n        this.$store.commit('addLog');\n      }\n    },\n    over(over) {\n      if (over) {\n        this.$store.commit('setCursor', 'move');\n      } else {\n        this.$store.commit('resetCursor');\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', {\n        e,\n        partIndex,\n        borderIndex: this.borderConfig.allBordersIndex,\n      });\n    },\n    dragTag(pos) {\n      if (this.isCtrlKey) {\n        this.dragTagFree(pos);\n      } else {\n        this.dragTagStrict(pos);\n      }\n    },\n    dragTagStrict(pos) {\n      const pts = this.borderConfig.points;\n      const x2 = pos.x - this.partPosition.x;\n      const y2 = pos.y - this.partPosition.y;\n      const vec1 = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      const vec2 = new Victor(x2 - pts[0], y2 - pts[1]);\n      let angle1 = vec1.angleDeg();\n      angle1 = angle1 >= 0 ? angle1 : angle1;\n      let angle2 = vec2.angleDeg() - angle1;\n      if (angle2 < -180) {\n        angle2 += 360;\n      } else if (angle2 > 180) {\n        angle2 -= 360;\n      }\n      const cos = vec1.dot(vec2) / (vec1.length() * vec2.length());\n      const angle = Math.acos(cos);\n      const sin = Math.sin(angle);\n      const distance = (sin * vec2.length()) / this.pxPerMm;\n      this.$store.commit('setSizeTagParams', {\n        i: this.partIndex,\n        j: this.borderConfig.allBordersIndex,\n        distance,\n        isInside: angle2 > 0,\n        isShown: true,\n      });\n    },\n    dragTagFree(pos) {\n      const x2 = pos.x - this.partPosition.x;\n      const y2 = pos.y - this.partPosition.y;\n      const { x, y } = this.params.originalTextPosition;\n      this.$store.commit('setSizeTagParams', {\n        i: this.partIndex,\n        j: this.borderConfig.allBordersIndex,\n        correctPosition: {\n          x: (x2 - x) / this.pxPerMm,\n          y: (y2 - y) / this.pxPerMm,\n        },\n        isShown: true,\n      });\n    },\n    dragstart(e) {\n      this.isCtrlKey = e.evt.ctrlKey;\n    },\n    dragend() {\n      this.$refs.group.getNode().clearCache();\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SizeArrowTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SizeArrowTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SizeArrowTag.vue?vue&type=template&id=31306ac2&\"\nimport script from \"./SizeArrowTag.vue?vue&type=script&lang=js&\"\nexport * from \"./SizeArrowTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.edge.isShown && _vm.image)?_c('v-image',{ref:\"image\",attrs:{\"config\":{\n  image: _vm.image,\n  x: _vm.params.x,\n  y: _vm.params.y,\n  width: _vm.sizeInPx,\n  height: _vm.sizeInPx,\n  rotation: _vm.params.angle,\n  offset: { x: _vm.imageOffset, y: _vm.imageOffset },\n  type: 'edge',\n  draggable: true,\n  dragBoundFunc: _vm.params.dragBoundFunc,\n}},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"contextmenu\":_vm.setContextMenuEvent,\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.edge.id)},\"dragend\":_vm.dragend}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-image :config=\"{\n    image,\n    x: params.x,\n    y: params.y,\n    width: sizeInPx,\n    height: sizeInPx,\n    rotation: params.angle,\n    offset: { x: imageOffset, y: imageOffset },\n    type: 'edge',\n    draggable: true,\n    dragBoundFunc: params.dragBoundFunc,\n  }\"\n  ref=\"image\"\n  v-if=\"edge.isShown && image\"\n  @mouseover=\"over = true\"\n  @mouseleave=\"over = false\"\n  @contextmenu=\"setContextMenuEvent\"\n  @click=\"$store.commit('setSelectedElId', edge.id)\"\n  @dragend=\"dragend\" />\n</template>\n\n<script>\nimport Victor from 'victor';\nimport getId from '../../mixins/getId';\n\nexport default {\n  mixins: [getId],\n  props: ['border', 'partIndex', 'part', 'borderConfig'],\n  data() {\n    return {\n      offsetInMm: 50,\n      over: false,\n      sizeInMm: 120,\n    };\n  },\n  computed: {\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    edge() { return this.border.edgeTag; },\n    image() {\n      const image = [this.selectedElId, this.currentElId].includes(this.edge.id)\n        ? this.$store.state.files.edges[`${this.edge.edgeType}Hover`]\n        : this.$store.state.files.edges[this.edge.edgeType];\n      return image;\n    },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    sizeInPx() { return this.sizeInMm * this.pxPerMm; },\n    imageOffset() { return this.sizeInPx / 2; },\n    params() {\n      this.console.log('edgeTag', this.border.id);\n      if (!this.edge.isShown) return {};\n      const pts = this.borderConfig.points;\n      const This = this;\n      const correctDistance = this.border.edgeTag.correctDistance || 0;\n      if (this.border.type === 'lineBorder') {\n        let startVec = new Victor(pts[0], pts[1]);\n        let vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n        const originalDistance = vec.length() / 2;\n        const middleLength = originalDistance + correctDistance * this.pxPerMm;\n        let angle = vec.angleDeg();\n        angle = angle < 0 ? angle + 180 : angle - 180;\n        vec = vec.norm().multiply(new Victor(middleLength, middleLength));\n        startVec = vec.clone().add(startVec);\n        const offset = this.offsetInMm * this.pxPerMm;\n        vec = vec.norm().rotateDeg(-90).multiply(new Victor(offset, offset));\n        const { x, y } = vec.clone().add(startVec).toObject();\n        return {\n          angle,\n          x,\n          y,\n          originalDistance: originalDistance / this.pxPerMm,\n          dragBoundFunc(pos) {\n            This.dragTag(pos, 'line');\n            return this.absolutePosition();\n          },\n        };\n      }\n      const { x, y } = this.borderConfig;\n      const correctAngle = this.border.edgeTag.correctAngle || 0;\n      let startVec = new Victor(pts[0], pts[1]);\n      let vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      let angle = vec.angleDeg();\n      angle = angle < 0 ? angle + 180 : angle - 180;\n      angle += correctAngle;\n      const halfLength = vec.length() / 2;\n      vec = vec.norm().multiply(new Victor(halfLength, halfLength));\n      const halfPoint = vec.clone().add(startVec);\n      startVec = new Victor(x, y);\n      vec = new Victor(halfPoint.x - x, halfPoint.y - y);\n      const centerAngle = vec.angleDeg();\n      const isInsideK = this.border.isInside ? 1 : -1;\n      const originalDistance = this.borderConfig.innerRadius\n        - this.offsetInMm * this.pxPerMm * isInsideK;\n      const edgeDistance = originalDistance + correctDistance * this.pxPerMm;\n      vec = vec.norm().rotateDeg(correctAngle).multiply(new Victor(edgeDistance, edgeDistance));\n      const edgePosition = vec.clone().add(startVec).toObject();\n      return {\n        ...edgePosition,\n        centerAngle,\n        originalDistance: originalDistance / this.pxPerMm,\n        angle,\n        dragBoundFunc(pos) {\n          This.dragTag(pos, 'curve');\n          return this.absolutePosition();\n        },\n      };\n    },\n    partPosition() { return this.part.position; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.borderIndex !== this.borderConfig.allBordersIndex) return;\n      if (data.action === 'hideEdge') {\n        const payload = {\n          i: data.partIndex,\n          j: data.borderIndex,\n          isShown: false,\n        };\n        this.$store.commit('setEdgeTagParams', payload);\n        this.$store.commit('addLog');\n      }\n    },\n    'params.originalDistance': function check(nv) {\n      const correctDistance = this.border.edgeTag.correctDistance || 0;\n      const middleLength = nv + correctDistance;\n      const imageOffset = this.imageOffset / this.pxPerMm;\n      if (middleLength < imageOffset) {\n        this.$store.commit('setEdgeTagParams', {\n          i: this.partIndex,\n          j: this.borderConfig.allBordersIndex,\n          correctDistance: imageOffset - nv,\n        });\n        return;\n      }\n      const max = nv * 2 - imageOffset;\n      if (middleLength > max) {\n        this.$store.commit('setEdgeTagParams', {\n          i: this.partIndex,\n          j: this.borderConfig.allBordersIndex,\n          correctDistance: max - nv,\n        });\n      }\n    },\n    over(over) {\n      if (over) {\n        this.$store.commit('setCurrentEl', this.edge.id);\n        this.$store.commit('setCursor', 'move');\n      } else {\n        this.$store.commit('setCurrentEl', null);\n        this.$store.commit('resetCursor');\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', {\n        e,\n        partIndex,\n        borderIndex: this.borderConfig.allBordersIndex,\n      });\n    },\n    dragTag(pos, type) {\n      if (type === 'curve') {\n        const { x, y } = this.borderConfig;\n        const x2 = pos.x;\n        const y2 = pos.y;\n        const x3 = this.partPosition.x;\n        const y3 = this.partPosition.y;\n        const vec = new Victor(x2 - (x + x3), y2 - (y + y3));\n        const angle = vec.angleDeg();\n        const correctAngle = angle - this.params.centerAngle;\n        this.$store.commit('setEdgeTagParams', {\n          i: this.partIndex,\n          j: this.borderConfig.allBordersIndex,\n          correctAngle,\n        });\n      } else if (type === 'line') {\n        const x2 = pos.x - this.partPosition.x;\n        const y2 = pos.y - this.partPosition.y;\n        const pts = this.borderConfig.points;\n        const vec1 = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n        const vec2 = new Victor(x2 - pts[0], y2 - pts[1]);\n        const cos = vec1.dot(vec2) / (vec1.length() * vec2.length());\n        const angle = Math.acos(cos);\n        const distance = cos * vec2.length();\n        let correctDistance;\n        if (angle > Math.PI / 2) {\n          correctDistance = -this.params.originalDistance + this.imageOffset / this.sizeInPx;\n        } else {\n          correctDistance = distance > vec1.length()\n            ? this.params.originalDistance - this.imageOffset / this.sizeInPx\n            : distance / this.pxPerMm - this.params.originalDistance;\n        }\n        this.$store.commit('setEdgeTagParams', {\n          i: this.partIndex,\n          j: this.borderConfig.allBordersIndex,\n          correctDistance,\n        });\n      }\n    },\n    dragend() {\n      this.$refs.image.getNode().clearCache();\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EdgeTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EdgeTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EdgeTag.vue?vue&type=template&id=13d55180&\"\nimport script from \"./EdgeTag.vue?vue&type=script&lang=js&\"\nexport * from \"./EdgeTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <v-line\n      :config=\"{\n        ...config,\n        stroke,\n      }\"\n      ref=\"border\"\n      @dragstart=\"startBorderDrag($event, border)\"\n      @dragend=\"dragend\"\n      @contextmenu=\"setContextMenuEvent($event, borderIndex)\"\n      @mouseover=\"changeMouseOver(true, border.id)\"\n      @mouseleave=\"changeMouseOver(false)\"\n      @click=\"config.isClickable ? $store.commit('setSelectedElId', border.id) : ''\" />\n    <size-arrow-tag\n      v-if=\"border.sizeTag && border.sizeTag.isShown\"\n      :border=\"border\"\n      :borderConfig=\"config\"\n      :partIndex=\"partIndex\"\n      :part=\"part\" />\n    <edge-tag\n      v-if=\"border.edgeTag && border.edgeTag.isShown\"\n      :border=\"border\"\n      :borderConfig=\"config\"\n      :partIndex=\"partIndex\"\n      :part=\"part\" />\n  </div>\n</template>\n\n<script>\nimport Victor from 'victor';\nimport SizeArrowTag from './SizeArrowTag.vue';\nimport EdgeTag from './EdgeTag.vue';\n\nexport default {\n  props: ['partIndex', 'borderIndex'],\n  components: { SizeArrowTag, EdgeTag },\n  data() {\n    return {\n      borderStartPoint: [0, 0],\n      isCtrlKey: false,\n      dependentInsetDepth: null,\n    };\n  },\n  computed: {\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    part() { return this.$store.state.parts.partsInit[this.partIndex]; },\n    border() { return this.part.borders[this.borderIndex]; },\n    partPosition() { return this.part.position; },\n    selectedColor() { return this.$store.state.selectedColor; },\n    lineCap() {\n      const prev = this.borderIndex ? this.part.borders[this.borderIndex - 1]\n        : this.part.borders[this.part.borders.length - 1];\n      const next = this.borderIndex < this.part.borders.length - 1\n        ? this.part.borders[this.borderIndex + 1] : this.part.borders[0];\n      return prev.skirting && next.skirting ? 'square' : 'butt';\n    },\n    points() {\n      const p1 = this.$store.state.parts.partsInit[this.partIndex]\n        .points.find((p) => p.id === this.border.pointsId[0]).c;\n      const p2 = this.$store.state.parts.partsInit[this.partIndex]\n        .points.find((p) => p.id === this.border.pointsId[1]).c;\n      return [...p1, ...p2];\n    },\n    isSizeTagShown() { return this.border.sizeTag.isShown; },\n    stroke() {\n      return [this.currentElId, this.selectedElId].includes(this.border.id)\n        || this.selectedElId === this.part.id ? this.selectedColor : 'black';\n    },\n    config() {\n      this.console.log('lineBorder', this.border.id);\n      const { type, id } = this.border;\n      const { skirting, subType } = this.border;\n      const This = this;\n      return {\n        type,\n        id,\n        points: this.points.map((p) => p * this.pxPerMm),\n        strokeWidth: skirting ? 4 : 1,\n        lineCap: this.lineCap,\n        hitStrokeWidth: 5,\n        allBordersIndex: this.borderIndex,\n        // sizeTag: { isShown: this.isSizeTagShown },\n        isClickable: !['inset', 'bulge'].includes(subType),\n        isHoverable: true,\n        draggable: true,\n        dragBoundFunc(pos) {\n          This.dragBorder(pos);\n          return this.absolutePosition();\n        },\n      };\n    },\n  },\n  watch: {\n    // border(nv, ov) {\n    //   console.log('border', this.border.id, nv, ov);\n    // },\n  },\n  // updated() {\n  //   console.log('border', this.border.id);\n  // },\n  methods: {\n    setContextMenuEvent(e, index) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, partIndex, borderIndex: index });\n    },\n    dragBorder(pos) {\n      const { border } = this;\n      const pts = this.points;\n      const pts2 = this.borderStartPoint;\n      const x2 = (pos.x - this.partPosition.x) / this.pxPerMm + pts2[0];\n      const y2 = (pos.y - this.partPosition.y) / this.pxPerMm + pts2[1];\n      let vec1 = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      const borderLength = vec1.length();\n      const vec2 = new Victor(x2 - pts2[0], y2 - pts2[1]);\n      let angle1 = vec1.angleDeg();\n      angle1 = angle1 >= 0 ? angle1 : angle1;\n      let angle2 = vec2.angleDeg() - angle1;\n      if (angle2 < -180) {\n        angle2 += 360;\n      } else if (angle2 > 180) {\n        angle2 -= 360;\n      }\n      const cos = vec1.dot(vec2) / (vec1.length() * vec2.length());\n      const angle = Math.acos(cos);\n      const sin = Math.sin(angle);\n      let distance = (sin * vec2.length());\n      if (!this.isCtrlKey) distance = Math.round(distance / 10) * 10;\n      if (!distance) return;\n      const startVec = new Victor(pts2[0], pts2[1]);\n      const angleK = angle2 > 0 ? 1 : -1;\n      vec1 = vec1.norm().rotateDeg(90 * angleK).multiply(new Victor(distance, distance));\n      const newPoint1 = vec1.clone().add(startVec).toObject();\n      vec1 = vec1.norm().rotateDeg(-90 * angleK).multiply(new Victor(borderLength, borderLength));\n      const newPoint2 = vec1.clone().add(new Victor(newPoint1.x, newPoint1.y)).toObject();\n      if (!this.checkSiblingLines(newPoint1, newPoint2)) return;\n      this.$store.commit('changePoint', { i: this.partIndex, j: border.pointsIndexes[0], point: newPoint1 });\n      this.$store.commit('changePoint', { i: this.partIndex, j: border.pointsIndexes[1], point: newPoint2 });\n      if (this.dependentInsetDepth) this.setInsetBulgeDepth(newPoint1, angle1);\n    },\n    checkSiblingLines(p1, p2) {\n      const prev = this.borderIndex ? this.part.borders[this.borderIndex - 1]\n        : this.part.borders[this.part.borders.length - 1];\n      const next = this.borderIndex < this.part.borders.length - 1\n        ? this.part.borders[this.borderIndex + 1] : this.part.borders[0];\n      if (prev.type === 'curveBorder') {\n        const point = this.part.points[prev.pointsIndexes[0]].c;\n        const vec = new Victor(p1.x - point[0], p1.y - point[1]);\n        if (vec.length() > Math.ceil(prev.radius * 2)) return false;\n      }\n      if (next.type === 'curveBorder') {\n        const point = this.part.points[next.pointsIndexes[1]].c;\n        const vec = new Victor(point[0] - p2.x, point[1] - p2.y);\n        if (vec.length() > Math.ceil(next.radius * 2)) return false;\n      }\n      return true;\n    },\n    setInsetBulgeDepth(point, angle1) {\n      const pts = this.part.points[this.dependentInsetDepth.insetBulge.pointsIndexes[0]].c;\n      const vec = new Victor(pts[0] - point.x, pts[1] - point.y);\n      const angle = angle1 - vec.angleDeg();\n      const depth = vec.length() * Math.sin(angle * (Math.PI / 180));\n      this.$store.commit('setInsetBulgeDepth', {\n        i: this.partIndex,\n        j: this.dependentInsetDepth.index,\n        depth: this.dependentInsetDepth.insetBulge.type === 'inset' ? depth : -depth,\n      });\n    },\n    startBorderDrag(e, border) {\n      this.isCtrlKey = e.evt.ctrlKey;\n      const { points } = this;\n      this.borderStartPoint = [points[0], points[1]];\n      let index = -1;\n      if (this.part.insetsBulges) {\n        index = this.part.insetsBulges.findIndex((ib) => {\n          const ids = [ib.pointsId[1], ib.pointsId[2]];\n          return ids.includes(border.pointsId[0]) && ids.includes(border.pointsId[1]);\n        });\n      }\n      this.dependentInsetDepth = index < 0 ? null : {\n        index,\n        insetBulge: this.clone(this.part.insetsBulges[index]),\n      };\n    },\n    dragend() {\n      this.$refs.border.getNode().clearCache();\n      setTimeout(() => {\n        this.$store.commit('addLog');\n      }, 0);\n    },\n    changeMouseOver(isOver, borderId) {\n      const id = isOver ? borderId : null;\n      const cursorMutation = isOver ? 'setCursor' : 'resetCursor';\n      this.$store.commit('setCurrentEl', id);\n      this.$store.commit(cursorMutation, 'move');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineBorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineBorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LineBorder.vue?vue&type=template&id=011327e7&\"\nimport script from \"./LineBorder.vue?vue&type=script&lang=js&\"\nexport * from \"./LineBorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-arc',{ref:\"border\",attrs:{\"config\":Object.assign({}, _vm.config,\n      {stroke: _vm.stroke})},on:{\"contextmenu\":function($event){return _vm.setContextMenuEvent($event, _vm.config.allBordersIndex)},\"mouseover\":function($event){return _vm.$store.commit('setCurrentEl', _vm.border.id)},\"mouseleave\":function($event){return _vm.$store.commit('setCurrentEl', null)},\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.border.id)}}}),(_vm.border.edgeTag && _vm.border.edgeTag.isShown)?_c('edge-tag',{attrs:{\"border\":_vm.border,\"borderConfig\":_vm.config,\"partIndex\":_vm.partIndex,\"part\":_vm.part}}):_vm._e(),(_vm.border.radiusTag && _vm.border.radiusTag.isShown)?_c('radius-tag',{attrs:{\"border\":_vm.border,\"borderConfig\":_vm.config,\"partIndex\":_vm.partIndex,\"part\":_vm.part}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.border.radiusTag.isShown)?_c('v-label',{ref:\"label\",attrs:{\"config\":Object.assign({}, _vm.params.textPosition,\n    {rotation: _vm.params.angle,\n    offset: _vm.params.offset,\n    draggable: true,\n    dragBoundFunc: _vm.params.dragBoundFunc})},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"contextmenu\":_vm.setContextMenuEvent,\"dragend\":_vm.dragend}},[_c('v-tag',{attrs:{\"config\":{fill: 'white'}}}),_c('v-text',{attrs:{\"config\":{\n    text: _vm.params.radiusText,\n    padding: _vm.params.padding,\n    fontSize: _vm.fontSize,\n    fontFamily: 'Calibri',\n    fill: _vm.over ? _vm.selectedColor : 'black',\n    type: 'radius',\n  }}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-label\n    v-if=\"border.radiusTag.isShown\"\n    ref=\"label\"\n    :config=\"{\n      ...params.textPosition,\n      rotation: params.angle,\n      offset: params.offset,\n      draggable: true,\n      dragBoundFunc: params.dragBoundFunc,\n    }\"\n    @mouseover=\"over = true\"\n    @mouseleave=\"over = false\"\n    @contextmenu=\"setContextMenuEvent\"\n    @dragend=\"dragend\">\n    <v-tag :config=\"{fill: 'white'}\" />\n    <v-text :config=\"{\n      text: params.radiusText,\n      padding: params.padding,\n      fontSize,\n      fontFamily: 'Calibri',\n      fill: over ? selectedColor : 'black',\n      type: 'radius',\n    }\" />\n  </v-label>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  props: ['border', 'partIndex', 'part', 'borderConfig'],\n  data() {\n    return {\n      over: false,\n      offsetInMm: 100,\n      correctAngle: 0,\n      correctDistance: 0,\n    };\n  },\n  computed: {\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    fontSize() { return this.$store.state.fontSizeInmM.radius * this.pxPerMm; },\n    params() {\n      this.console.log('radiusTag', this.border.id);\n      const { x, y } = this.borderConfig;\n      const correctAngle = this.border.radiusTag.correctAngle || 0;\n      const correctDistance = this.border.radiusTag.correctDistance || 0;\n      const pts = this.borderConfig.points;\n      let startVec = new Victor(pts[0], pts[1]);\n      let vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      let originalAngle = vec.angleDeg();\n      originalAngle = originalAngle < 0 ? originalAngle + 360 : originalAngle;\n      const angle = originalAngle + correctAngle;\n      const halfLength = vec.length() / 2;\n      vec = vec.norm().multiply(new Victor(halfLength, halfLength));\n      const halfPoint = vec.clone().add(startVec);\n      startVec = new Victor(x, y);\n      vec = new Victor(halfPoint.x - x, halfPoint.y - y);\n      const centerAngle = vec.angleDeg();\n      const isInsideK = this.border.isInside ? 1 : -1;\n      const originalDistance = this.borderConfig.innerRadius\n        - this.offsetInMm * this.pxPerMm * isInsideK;\n      const textDistance = originalDistance + correctDistance * this.pxPerMm;\n      vec = vec.norm().rotateDeg(correctAngle).multiply(new Victor(textDistance, textDistance));\n      const textPosition = vec.clone().add(startVec).toObject();\n      const halfFontSize = this.fontSize / 2;\n      const radiusText = `R ${Math.round(this.border.radius)}`;\n      const offset = {\n        x: (halfFontSize * radiusText.length) / 2,\n        y: halfFontSize,\n      };\n      const This = this;\n      return {\n        padding: 0,\n        textPosition,\n        angle,\n        centerAngle,\n        originalDistance: originalDistance / this.pxPerMm,\n        offset,\n        radiusText,\n        dragBoundFunc(pos) {\n          This.dragTag(pos);\n          return this.absolutePosition();\n        },\n      };\n    },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    partPosition() { return this.part.position; },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.borderIndex !== this.borderConfig.allBordersIndex) return;\n      if (data.action === 'hide') {\n        this.$store.commit('setRadiusTagParams', {\n          i: data.partIndex,\n          j: data.borderIndex,\n        });\n        this.$store.commit('addLog');\n      }\n    },\n    over(over) {\n      if (over) {\n        this.$store.commit('setCursor', 'move');\n      } else {\n        this.$store.commit('resetCursor');\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', {\n        e,\n        partIndex,\n        borderIndex: this.borderConfig.allBordersIndex,\n      });\n    },\n    dragTag(pos) {\n      const { x, y } = this.borderConfig;\n      const x2 = pos.x;\n      const y2 = pos.y;\n      const x3 = this.partPosition.x;\n      const y3 = this.partPosition.y;\n      const vec = new Victor(x2 - (x + x3), y2 - (y + y3));\n      const angle = vec.angleDeg();\n      const correctAngle = angle - this.params.centerAngle;\n      const correctDistance = vec.length() / this.pxPerMm - this.params.originalDistance;\n      this.$store.commit('setRadiusTagParams', {\n        i: this.partIndex,\n        j: this.borderConfig.allBordersIndex,\n        correctAngle,\n        correctDistance,\n        isShown: true,\n      });\n    },\n    dragend() {\n      this.$refs.label.getNode().clearCache();\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadiusTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadiusTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RadiusTag.vue?vue&type=template&id=30533d83&\"\nimport script from \"./RadiusTag.vue?vue&type=script&lang=js&\"\nexport * from \"./RadiusTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <v-arc\n      :config=\"{\n        ...config,\n        stroke,\n      }\"\n      ref=\"border\"\n      @contextmenu=\"setContextMenuEvent($event, config.allBordersIndex)\"\n      @mouseover=\"$store.commit('setCurrentEl', border.id)\"\n      @mouseleave=\"$store.commit('setCurrentEl', null)\"\n      @click=\"$store.commit('setSelectedElId', border.id)\" />\n    <edge-tag\n      v-if=\"border.edgeTag && border.edgeTag.isShown\"\n      :border=\"border\"\n      :borderConfig=\"config\"\n      :partIndex=\"partIndex\"\n      :part=\"part\" />\n    <radius-tag\n      v-if=\"border.radiusTag && border.radiusTag.isShown\"\n      :border=\"border\"\n      :borderConfig=\"config\"\n      :partIndex=\"partIndex\"\n      :part=\"part\" />\n  </div>\n</template>\n\n<script>\n// import Victor from 'victor';\nimport EdgeTag from './EdgeTag.vue';\nimport RadiusTag from './RadiusTag.vue';\n\nexport default {\n  props: ['partIndex', 'curves', 'borderIndex'],\n  components: {\n    EdgeTag, RadiusTag,\n  },\n  computed: {\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    part() { return this.$store.state.parts.partsInit[this.partIndex]; },\n    border() { return this.part.borders[this.borderIndex]; },\n    partPosition() { return this.part.position; },\n    selectedColor() { return this.$store.state.selectedColor; },\n    points() {\n      const p1 = this.$store.state.parts.partsInit[this.partIndex]\n        .points.find((p) => p.id === this.border.pointsId[0]).c;\n      const p2 = this.$store.state.parts.partsInit[this.partIndex]\n        .points.find((p) => p.id === this.border.pointsId[1]).c;\n      return [...p1, ...p2];\n    },\n    lineJoin() {\n      const prev = this.borderIndex ? this.part.borders[this.borderIndex - 1]\n        : this.part.borders[this.part.borders.length - 1];\n      const next = this.borderIndex < this.part.borders.length - 1\n        ? this.part.borders[this.borderIndex + 1] : this.part.borders[0];\n      return prev.skirting && next.skirting ? 'round' : 'miter';\n    },\n    stroke() {\n      return [this.currentElId, this.selectedElId].includes(this.border.id)\n        || this.selectedElId === this.part.id ? this.selectedColor : 'black';\n    },\n    config() {\n      this.console.log('curveBorder', this.border.id);\n      const { type, id, isInside } = this.border;\n      const { skirting } = this.border;\n      const c = { ...this.curves[id] };\n      return {\n        type,\n        id,\n        points: this.points.map((p) => p * this.pxPerMm),\n        isInside,\n        strokeWidth: skirting ? 4 : 1,\n        lineJoin: this.lineJoin,\n        hitStrokeWidth: 5,\n        allBordersIndex: this.borderIndex,\n        innerRadius: c.R,\n        outerRadius: c.R,\n        x: c.c1.x,\n        y: c.c1.y,\n        angle: c.ang2 * (180 / Math.PI) - c.ang1 * (180 / Math.PI),\n        rotation: c.ang1 * (180 / Math.PI),\n        clockwise: c.isInside,\n      };\n    },\n  },\n  methods: {\n    setContextMenuEvent(e, index) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, partIndex, borderIndex: index });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurveBorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurveBorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CurveBorder.vue?vue&type=template&id=1bcae3b9&\"\nimport script from \"./CurveBorder.vue?vue&type=script&lang=js&\"\nexport * from \"./CurveBorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import $ from 'jquery';\n\nexport default (payload) => new Promise((resolve) => {\n  const { body, actions, input } = payload;\n  const { title } = payload;\n  const confirmModal = $('#confirm_modal');\n  $(confirmModal).find('.modal-body').text(body);\n  $(confirmModal).find('.modal-title').text(title);\n  const allActions = actions || [\n    {\n      action: '0',\n      style: 'secondary',\n      text: 'Нет',\n    },\n    {\n      action: '1',\n      style: 'primary',\n      text: 'Да',\n    },\n  ];\n  const buttons = allActions.map((action) => {\n    const button = $('<button class=\"btn\" type=\"button\"></button>');\n    $(button).attr('data-action', action.action).addClass(`btn-${action.style}`).text(action.text);\n    return button;\n  });\n  $(confirmModal).find('.modal-footer').html(buttons);\n  if (input) {\n    const field = $(`<input id=\"data\" type=\"${input.type}\" placeholder=\"${input.placeholder}\" />`);\n    $(field).addClass('form-control mt-3');\n    $(confirmModal).find('.modal-body').append(field);\n  }\n  $(confirmModal).modal('show').on('hide.bs.modal', (e) => {\n    const result = $(e.target).attr('data-result');\n    if (input && result === '1') {\n      const data = $(confirmModal).find('#data').val();\n      resolve(data);\n    } else {\n      resolve(result === '1');\n    }\n    $(confirmModal).off('hide.bs.modal');\n  });\n});\n","<template>\n  <div>\n    <line-border\n      v-for=\"(border) in borders.lineBorder\"\n      :key=\"border.id\"\n      :borderIndex=\"border.allBordersIndex\"\n      :partIndex=\"partIndex\" />\n    <curve-border\n      v-for=\"border in borders.curveBorder\"\n      :key=\"border.id\"\n      :borderIndex=\"border.allBordersIndex\"\n      :partIndex=\"partIndex\"\n      :curves=\"curves\" />\n  </div>\n</template>\n\n<script>\nimport Victor from 'victor';\nimport toastr from 'toastr';\nimport getId from '../../mixins/getId';\nimport LineBorder from './LineBorder.vue';\nimport CurveBorder from './CurveBorder.vue';\nimport confirmModal from '../../modules/ConfirmModal';\n\nexport default {\n  mixins: [getId],\n  props: ['part', 'partIndex', 'curves'],\n  components: {\n    LineBorder, CurveBorder,\n  },\n  computed: {\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    partPosition() { return this.part.position; },\n    borders() {\n      const borders = {};\n      this.part.borders.forEach((border, i) => {\n        if (!(border.type in borders)) borders[border.type] = [];\n        borders[border.type].push({ ...border, allBordersIndex: i });\n      });\n      return borders;\n    },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    refreshSelectedElTrigger() { return this.$store.state.parts.refreshSelectedElTrigger; },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.action === 'makeBorderCurve') {\n        this.makeBorderCurve(data);\n      } else if (data.action === 'makeBorderLine') {\n        this.$store.dispatch('makeBorderLine', data);\n        this.$store.commit('addLog');\n      } else if (data.action === 'makeBulgeInset') {\n        this.makeBulgeInset(data);\n      } else if (data.action === 'toggleSkirting') {\n        this.$store.commit('toggleSkirting', { i: data.partIndex, j: data.borderIndex });\n        this.$store.commit('addLog');\n      } else if (data.action === 'showSizeArrow') {\n        this.$store.commit('setSizeTagParams', {\n          i: data.partIndex,\n          j: data.borderIndex,\n          isShown: true,\n        });\n        this.$store.commit('addLog');\n      } else if (data.action === 'addEdge') {\n        const payload = {\n          i: data.partIndex,\n          j: data.borderIndex,\n          isShown: true,\n          id: this.getId(),\n        };\n        this.$store.commit('setEdgeTagParams', payload);\n        this.$store.commit('addLog');\n      } else if (data.action === 'addPoint') {\n        this.addPoint(data);\n      } else if (data.action === 'showRadius') {\n        this.$store.commit('setRadiusTagParams', {\n          i: data.partIndex,\n          j: data.borderIndex,\n          isShown: true,\n        });\n        this.$store.commit('addLog');\n      }\n    },\n    refreshSelectedElTrigger() {\n      this.$refs[`border${this.selectedElId}`][0].getNode().fire('click');\n    },\n    // borders: {\n    //   handler() {\n    //     console.log('allborders');\n    //   },\n    //   deep: true,\n    // },\n  },\n  methods: {\n    setContextMenuEvent(e, index) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, partIndex, borderIndex: index });\n    },\n    async makeBorderCurve(data) {\n      const { points } = this.part;\n      const border = this.part.borders[data.borderIndex];\n      const p1 = points[border.pointsIndexes[0]].c;\n      const p2 = points[border.pointsIndexes[1]].c;\n      const pts = [...p1, ...p2];\n      const borderLength = Math.sqrt((pts[2] - pts[0]) ** 2 + (pts[3] - pts[1]) ** 2);\n      let payload = {\n        body: `Введите отступ ${data.isInside ? 'вогнутой' : 'выпуклой'} от прямой`,\n        title: `Сделать ${data.isInside ? 'вогнутой' : 'выпуклой'}`,\n      };\n      payload = {\n        ...payload,\n        input: {\n          type: 'number',\n          placeholder: `отступ в мм, максимум ${Math.ceil(borderLength / 2)}`,\n        },\n      };\n      payload.actions = [\n        { action: '0', style: 'secondary', text: 'Отмена' },\n        { action: '1', style: 'primary', text: 'Применить' },\n      ];\n      const confirmation = await confirmModal(payload);\n      if (!confirmation) return;\n      const margin = parseInt(confirmation, 10);\n      if (Number.isNaN(margin) || !margin || margin > borderLength / 2) {\n        toastr.warning('Отступ введен неверно');\n        return;\n      }\n      const radius = ((borderLength / 2) ** 2 + (margin ** 2)) / (2 * margin);\n      this.$store.dispatch('makeBorderCurve', Object.assign(data, { radius }));\n      this.$store.commit('addLog');\n    },\n    makeBulgeInset(data) {\n      const { points } = this.part;\n      const border = this.part.borders[data.borderIndex];\n      const p1 = points[border.pointsIndexes[0]].c;\n      const p2 = points[border.pointsIndexes[1]].c;\n      const pts = [...p1, ...p2];\n      const newPoints = [];\n      const depth = 300;\n      const k = data.isInside ? 1 : -1;\n      let startVec = new Victor(pts[0], pts[1]);\n      let vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      const length = vec.length();\n      const norm = vec.norm();\n      vec = norm.multiply(new Victor(length / 3, length / 3));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      vec = vec.norm().rotateDeg(90 * k).multiply(new Victor(depth, depth));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      vec = vec.norm().rotateDeg(-90 * k).multiply(new Victor(length / 3, length / 3));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      vec = vec.norm().rotateDeg(-90 * k).multiply(new Victor(depth, depth));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      const { partIndex, borderIndex } = data;\n      const subType = data.isInside ? 'inset' : 'bulge';\n      const pointsId = [];\n      const insetBulgeId = this.getId();\n      newPoints.forEach((p, index) => {\n        const newBorder = { id: this.getId(), type: 'lineBorder' };\n        if (index < 3) border.subType = subType;\n        const newPointId = this.getId();\n        const point = { id: newPointId, c: p, subType };\n        this.$store.dispatch('addPoint', {\n          i: partIndex,\n          j: borderIndex + index + 1,\n          point: { ...point, insetBulgeId },\n          border: newBorder,\n        });\n        pointsId.push(newPointId);\n      });\n      const insetBulge = { partIndex, pointsId, id: insetBulgeId };\n      this.$store.dispatch('addInsetBulge', { ...insetBulge, type: subType, depth });\n      this.$store.commit('setSelectedElId', insetBulgeId);\n      this.$store.commit('addLog');\n    },\n    addPoint(data) {\n      const index = data.borderIndex;\n      const pt1 = this.part.points[index].c;\n      const pt2 = index < this.part.points.length - 1\n        ? this.part.points[index + 1].c : this.part.points[0].c;\n      const pt3 = [pt1[0] + (pt2[0] - pt1[0]) / 2, pt1[1] + (pt2[1] - pt1[1]) / 2];\n      const { partIndex } = data;\n      this.$store.dispatch('addPoint', {\n        i: partIndex,\n        j: index + 1,\n        border: { id: this.getId(), type: 'lineBorder' },\n        point: { id: this.getId(), c: pt3, addedByUser: true },\n      });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Borders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Borders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Borders.vue?vue&type=template&id=60761eac&\"\nimport script from \"./Borders.vue?vue&type=script&lang=js&\"\nexport * from \"./Borders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-circle',{attrs:{\"config\":{\n      type: 'point',\n      x: _vm.point.c[0] * _vm.pxPerMm,\n      y: _vm.point.c[1] * _vm.pxPerMm,\n      radius: _vm.radius,\n      fill: [_vm.currentElId, _vm.selectedElId].includes(_vm.point.id)\n        ? _vm.selectedColor : 'transparent',\n      //angleTag: point.angleTag,\n      //isInsetBulge: !!point.insetBulgeId,\n    }},on:{\"mouseover\":function($event){return _vm.$store.commit('setCurrentEl', _vm.point.id)},\"mouseleave\":function($event){return _vm.$store.commit('setCurrentEl', null)},\"dragmove\":function($event){return _vm.movePoint($event, _vm.pointIndex)},\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.point.id)},\"contextmenu\":function($event){return _vm.setContextMenuEvent($event, _vm.pointIndex)}}}),(_vm.point.addedByUser)?_c('v-circle',{attrs:{\"config\":{\n      x: _vm.point.c[0] * _vm.pxPerMm,\n      y: _vm.point.c[1] * _vm.pxPerMm,\n      radius: 2,\n      fill: 'black',\n    }}}):_vm._e(),(_vm.point.angleTag && _vm.point.angleTag.isShown)?_c('angle-tag',{attrs:{\"partIndex\":_vm.partIndex,\"point\":_vm.point,\"pointIndex\":_vm.pointIndex}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.point.angleTag.isShown)?_c('div',[_c('v-label',{ref:\"angle\",attrs:{\"config\":Object.assign({}, _vm.params.textPosition,\n      {rotation: _vm.params.angle,\n      offset: _vm.params.offset,\n      draggable: true,\n      dragBoundFunc: _vm.params.dragBoundFunc})},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"contextmenu\":_vm.setContextMenuEvent,\"dragend\":_vm.dragend}},[_c('v-tag',{attrs:{\"config\":{fill: 'transparent'}}}),_c('v-text',{attrs:{\"config\":{\n      text: _vm.params.angleText,\n      fontSize: _vm.fontSize,\n      fontFamily: 'Calibri',\n      fill: _vm.over ? _vm.selectedColor : 'black',\n      type: 'angleTag',\n    }}})],1),_c('v-arc',{attrs:{\"config\":{\n    stroke: 'black',\n    strokeWidth: 1,\n    innerRadius: _vm.params.radius,\n    outerRadius: _vm.params.radius,\n    x: _vm.params.c1.x,\n    y: _vm.params.c1.y,\n    angle: _vm.params.ang2 * (180 / Math.PI) - _vm.params.ang1 * (180 / Math.PI),\n    rotation: _vm.params.ang1 * (180 / Math.PI),\n    clockwise: true,\n    dash: _vm.dash,\n  }}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"point.angleTag.isShown\">\n    <v-label\n      :config=\"{\n        ...params.textPosition,\n        rotation: params.angle,\n        offset: params.offset,\n        draggable: true,\n        dragBoundFunc: params.dragBoundFunc,\n      }\"\n      ref=\"angle\"\n      @mouseover=\"over = true\"\n      @mouseleave=\"over = false\"\n      @contextmenu=\"setContextMenuEvent\"\n      @dragend=\"dragend\">\n      <v-tag :config=\"{fill: 'transparent'}\" />\n      <v-text :config=\"{\n        text: params.angleText,\n        fontSize,\n        fontFamily: 'Calibri',\n        fill: over ? selectedColor : 'black',\n        type: 'angleTag',\n      }\" />\n    </v-label>\n    <v-arc :config=\"{\n      stroke: 'black',\n      strokeWidth: 1,\n      innerRadius: params.radius,\n      outerRadius: params.radius,\n      x: params.c1.x,\n      y: params.c1.y,\n      angle: params.ang2 * (180 / Math.PI) - params.ang1 * (180 / Math.PI),\n      rotation: params.ang1 * (180 / Math.PI),\n      clockwise: true,\n      dash,\n    }\" />\n  </div>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  props: ['point', 'partIndex', 'pointIndex'],\n  data() {\n    return {\n      over: false,\n      offsetInMm: 100,\n    };\n  },\n  computed: {\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    fontSize() { return this.$store.state.fontSizeInmM.radius * this.pxPerMm; },\n    part() { return this.$store.state.parts.partsInit[this.partIndex]; },\n    params() {\n      this.console.log('angleTag', this.point.id);\n      const distance = this.point.angleTag.distance || 0;\n      const { borders, points } = this.part;\n      const border1 = borders[this.point.bordersIndexes[0]];\n      const border2 = borders[this.point.bordersIndexes[1]];\n      let pts = [...points[border1.pointsIndexes[0]].c, ...this.point.c]\n        .map((p) => p * this.pxPerMm);\n      const startVec = new Victor(pts[2], pts[3]);\n      const vec1 = new Victor(pts[0] - pts[2], pts[1] - pts[3]);\n      const offsetVec = this.offsetInMm * this.pxPerMm;\n      let vec = vec1.clone().norm().multiply(new Victor(offsetVec, offsetVec));\n      const p1Vec = vec.add(startVec);\n      pts = [...this.point.c, ...points[border2.pointsIndexes[1]].c]\n        .map((p) => p * this.pxPerMm);\n      const vec2 = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      vec = vec2.clone().norm().multiply(new Victor(offsetVec, offsetVec));\n      const p2Vec = vec.add(startVec);\n      const radius = p2Vec.clone().subtract(p1Vec).length() / 2 + 2;\n      const angle1 = vec2.angleDeg();\n      let angleDeg = vec1.angleDeg() - angle1;\n      if (angleDeg < 0) {\n        angleDeg += 360;\n      }\n      let isOpposite = angleDeg >= 180;\n      if (this.point.angleTag.isOutside) isOpposite = !isOpposite;\n      const { ang1, ang2, c1 } = this.getCurve(p1Vec.toObject(),\n        p2Vec.toObject(), radius, isOpposite);\n      const angleText = `${Math.round(angleDeg)} °`;\n      vec = new Victor(p2Vec.x - p1Vec.x, p2Vec.y - p1Vec.y);\n      const middlePoingthLength = vec.length() / 2;\n      vec = vec.clone().norm()\n        .multiply(new Victor(middlePoingthLength, middlePoingthLength)).add(p1Vec);\n      const middlePointVec = new Victor(vec.x - c1.x, vec.y - c1.y);\n      const textOffset = distance ? distance * this.pxPerMm : radius + offsetVec * 1.2;\n      const originalAngle = middlePointVec.angleDeg();\n      let correctAngle = this.point.angleTag.correctAngle || 0;\n      if (isOpposite) correctAngle += 180;\n      const textPosition = middlePointVec.clone().norm()\n        .rotateDeg(correctAngle)\n        .multiply(new Victor(textOffset, textOffset))\n        .add(new Victor(c1.x, c1.y))\n        .toObject();\n      const halfFontSize = this.fontSize / 2;\n      const offset = {\n        x: (halfFontSize * angleText.length) / 2,\n        y: halfFontSize,\n      };\n      const This = this;\n      return {\n        padding: 0,\n        textPosition,\n        angle: 0,\n        offset,\n        angleText,\n        ang1,\n        ang2,\n        radius,\n        c1,\n        originalAngle,\n        angleDeg,\n        isOpposite,\n        pts,\n        dragBoundFunc(pos) {\n          This.dragTag(pos);\n          return this.absolutePosition();\n        },\n      };\n    },\n    partPosition() { return this.part.position; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    dash() { return this.$store.state.dash; },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.pointIndex !== this.pointIndex) return;\n      if (data.action === 'hideAngle') {\n        this.$store.commit('setAngleTagParams', {\n          i: data.partIndex,\n          j: data.pointIndex,\n          angleTag: {},\n        });\n        this.$store.commit('addLog');\n      }\n    },\n    over(over) {\n      if (over) {\n        this.$store.commit('setCursor', 'move');\n      } else {\n        this.$store.commit('resetCursor');\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e) {\n      const { partIndex, pointIndex } = this;\n      this.$store.commit('setContextMenuEvent', {\n        e,\n        partIndex,\n        pointIndex,\n      });\n    },\n    getCurve(p1, p2, radius, isOpposite) {\n      const pm = { x: 0.5 * (p1.x + p2.x), y: 0.5 * (p1.y + p2.y) };\n      let perpABdx = !isOpposite ? -(p2.y - p1.y) : -(p1.y - p2.y);\n      let perpABdy = !isOpposite ? p2.x - p1.x : p1.x - p2.x;\n      const norm = Math.sqrt(perpABdx ** 2 + perpABdy ** 2);\n      perpABdx /= norm;\n      perpABdy /= norm;\n      const dpmp1 = Math.sqrt((pm.x - p1.x) ** 2 + (pm.y - p1.y) ** 2);\n      const sin = dpmp1 / radius;\n      if (sin < -1 || sin > 1) return {};\n      const cos = Math.sqrt(1 - (sin) ** 2);\n      const d = radius * cos;\n      const res1 = { x: pm.x + perpABdx * d, y: pm.y + perpABdy * d };\n      const res2 = { x: pm.x - perpABdx * d, y: pm.y - perpABdy * d };\n      const ang1 = Math.atan2(p1.y - res1.y, p1.x - res1.x);\n      const ang2 = Math.atan2(p2.y - res1.y, p2.x - res1.x);\n      const p1p2Length = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n      const p1p2Cos = (p2.x - p1.x) / p1p2Length;\n      const p1p2Angle = Math.acos(p1p2Cos);\n      const diffY = p1.x > p2.x ? p1.y - p2.y : p2.y - p1.y;\n      const m = diffY > 0 ? -1 : 1;\n      return {\n        c1: res2,\n        p1,\n        p2,\n        R: radius,\n        ang1: (Math.PI + Math.abs(1.57 - p1p2Angle) * 2 * m) - ang1,\n        ang2: (Math.PI + Math.abs(1.57 - p1p2Angle) * 2 * m) - ang2,\n      };\n    },\n    dragTag(pos) {\n      const { pts } = this.params;\n      const x2 = pos.x;\n      const y2 = pos.y;\n      const x3 = this.partPosition.x;\n      const y3 = this.partPosition.y;\n      const vec = new Victor(x2 - (pts[0] + x3), y2 - (pts[1] + y3));\n      const angle = vec.angleDeg();\n      const correctAngle = angle - this.params.originalAngle;\n      const distance = vec.length() / this.pxPerMm;\n      this.$store.commit('setAngleTagParams', {\n        i: this.partIndex,\n        j: this.pointIndex,\n        correctAngle: this.params.isOpposite ? correctAngle + 180 : correctAngle,\n        distance,\n        isShown: true,\n        isOutside: this.point.angleTag.isOutside,\n      });\n    },\n    dragend() {\n      this.$refs.angle.getNode().clearCache();\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AngleTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AngleTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AngleTag.vue?vue&type=template&id=164dc1e6&\"\nimport script from \"./AngleTag.vue?vue&type=script&lang=js&\"\nexport * from \"./AngleTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <v-circle\n      :config=\"{\n        type: 'point',\n        x: point.c[0] * pxPerMm,\n        y: point.c[1] * pxPerMm,\n        radius,\n        fill: [currentElId, selectedElId].includes(point.id)\n          ? selectedColor : 'transparent',\n        //angleTag: point.angleTag,\n        //isInsetBulge: !!point.insetBulgeId,\n      }\"\n      @mouseover=\"$store.commit('setCurrentEl', point.id)\"\n      @mouseleave=\"$store.commit('setCurrentEl', null)\"\n      @dragmove=\"movePoint($event, pointIndex)\"\n      @click=\"$store.commit('setSelectedElId', point.id)\"\n      @contextmenu=\"setContextMenuEvent($event, pointIndex)\">\n    </v-circle>\n    <v-circle\n      :config=\"{\n        x: point.c[0] * pxPerMm,\n        y: point.c[1] * pxPerMm,\n        radius: 2,\n        fill: 'black',\n      }\"\n      v-if=\"point.addedByUser\"\n      >\n    </v-circle>\n    <angle-tag\n      v-if=\"point.angleTag && point.angleTag.isShown\"\n      :partIndex=\"partIndex\"\n      :point=\"point\"\n      :pointIndex=\"pointIndex\" />\n  </div>\n</template>\n\n<script>\nimport Victor from 'victor';\nimport toastr from 'toastr';\nimport getId from '../../mixins/getId';\nimport AngleTag from './AngleTag.vue';\nimport confirmModal from '../../modules/ConfirmModal';\n\nexport default {\n  mixins: [getId],\n  components: { AngleTag },\n  props: ['partIndex', 'pointIndex'],\n  computed: {\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    part() { return this.$store.state.parts.partsInit[this.partIndex]; },\n    point() { return this.part.points[this.pointIndex]; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    radius() { return 60 * this.pxPerMm; },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex || data.pointIndex !== this.pointIndex) return;\n      if (data.action === 'deletePoint') {\n        this.deletePoint(data);\n      } else if (data.action === 'makeCorderCut') {\n        this.makeCorderCut(data);\n      } else if (data.action === 'makeRounded') {\n        this.makeRounded(data);\n      } else if (data.action === 'showAngle') {\n        this.showAngle(data);\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e, index) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, partIndex, pointIndex: index });\n    },\n    movePoint(event, pointIndex) {\n      const { partIndex } = this;\n      const c = Object.values(event.target.position()).map((pc) => pc / this.pxPerMm);\n      this.$store.commit('movePoint', { pointIndex, partIndex, c });\n    },\n    deletePoint(data) {\n      const { partIndex, pointIndex } = data;\n      this.$store.dispatch('deletePoint', { i: partIndex, j: pointIndex });\n      this.$store.commit('addLog');\n    },\n    makeCorderCut(data) {\n      const { pointIndex, partIndex } = data;\n      const { points } = this.part;\n      const prev = pointIndex ? points[pointIndex - 1] : points[this.points.length - 1];\n      const newPoints = [];\n      const depth = 300;\n      let startVec = new Victor(this.point.c[0], this.point.c[1]);\n      let vec = new Victor(prev.c[0] - this.point.c[0], prev.c[1] - this.point.c[1]);\n      vec = vec.norm().multiply(new Victor(depth, depth));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toObject());\n      vec = vec.norm().rotateDeg(-90).multiply(new Victor(depth, depth));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      vec = vec.norm().rotateDeg(-90).multiply(new Victor(depth, depth));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      newPoints.forEach((p, index) => {\n        if (!index) {\n          const payload = { i: partIndex, j: pointIndex, point: p };\n          this.$store.dispatch('changePoint', payload);\n          return;\n        }\n        const border = { id: this.getId(), type: 'lineBorder' };\n        const newPointId = this.getId();\n        this.$store.dispatch('addPoint', {\n          i: partIndex,\n          j: pointIndex + index,\n          border,\n          point: { id: newPointId, c: p },\n        });\n      });\n      this.$store.commit('addLog');\n    },\n    async makeRounded(data) {\n      let payload = { body: 'Введите радиус', title: 'Закруглить угол' };\n      payload = { ...payload, input: { type: 'number', placeholder: 'радиус в мм' } };\n      payload.actions = [\n        { action: '0', style: 'secondary', text: 'Отмена' },\n        { action: '1', style: 'primary', text: 'Применить' },\n      ];\n      const confirmation = await confirmModal(payload);\n      if (!confirmation) return;\n      const radius = parseInt(confirmation, 10);\n      if (Number.isNaN(radius)) {\n        toastr.warning('Радиус введен неверно');\n      }\n      const { points } = this.part;\n      const j2 = data.pointIndex;\n      const j1 = j2 > 0 ? j2 - 1 : points.length - 1;\n      const border1 = this.part.borders[j1];\n      const pts1 = [...points[border1.pointsIndexes[0]].c, ...this.point.c];\n      const border2 = this.part.borders[j2];\n      const pts2 = [...this.point.c, ...points[border2.pointsIndexes[1]].c];\n      const startVec = new Victor(pts1[2], pts1[3]);\n      const vec1 = new Victor(pts1[0] - pts1[2], pts1[1] - pts1[3]);\n      const newPoint1 = vec1.norm().multiply(new Victor(radius, radius)).add(startVec).toArray();\n      const vec2 = new Victor(pts2[2] - pts2[0], pts2[3] - pts2[1]);\n      const newPoint2 = vec2.norm().multiply(new Victor(radius, radius)).add(startVec).toArray();\n      const { partIndex, pointIndex } = data;\n      this.$store.dispatch('addPoint', {\n        i: partIndex,\n        j: j2 + 1,\n        border: { id: this.getId(), type: 'lineBorder' },\n        point: { id: this.getId(), c: newPoint2 },\n      });\n      this.$store.commit('movePoint', { pointIndex, partIndex, c: newPoint1 });\n      const params = { borderIndex: j2, radius, isInside: false };\n      this.$store.dispatch('makeBorderCurve', { ...params, partIndex });\n      this.$store.commit('addLog');\n    },\n    showAngle(data) {\n      const angleTag = { isShown: true, isOutside: false };\n      this.$store.commit('setAngleTagParams', {\n        i: data.partIndex,\n        j: data.pointIndex,\n        ...angleTag,\n      });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Point.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Point.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Point.vue?vue&type=template&id=47d01905&\"\nimport script from \"./Point.vue?vue&type=script&lang=js&\"\nexport * from \"./Point.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-line',{ref:\"iB\",attrs:{\"config\":Object.assign({}, _vm.config,\n      {strokeWidth: [_vm.currentElId, _vm.selectedElId].includes(_vm.iB.id) ? 2 : 0})},on:{\"dragstart\":_vm.startIBDrag,\"dragend\":_vm.dragend,\"mouseover\":function($event){return _vm.$store.commit('setCurrentEl', _vm.iB.id)},\"mouseleave\":function($event){return _vm.$store.commit('setCurrentEl', null)},\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.iB.id)},\"contextmenu\":function($event){return _vm.setContextMenuEvent($event, _vm.iBIndex)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-line\n      :config=\"{\n        ...config,\n        strokeWidth: [currentElId, selectedElId].includes(iB.id) ? 2 : 0,\n      }\"\n      ref=\"iB\"\n      @dragstart=\"startIBDrag\"\n      @dragend=\"dragend\"\n      @mouseover=\"$store.commit('setCurrentEl', iB.id)\"\n      @mouseleave=\"$store.commit('setCurrentEl', null)\"\n      @click=\"$store.commit('setSelectedElId', iB.id)\"\n      @contextmenu=\"setContextMenuEvent($event, iBIndex)\" />\n  </div>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  props: ['partIndex', 'iBIndex'],\n  data() {\n    return {\n      iBStartPoint: [0, 0],\n      isCtrlKey: false,\n    };\n  },\n  computed: {\n    part() { return this.$store.state.parts.partsInit[this.partIndex]; },\n    iB() { return this.part.insetsBulges[this.iBIndex]; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    dash() { return [this.pxPerMm * 30, this.pxPerMm * 15]; },\n    selectedColor() { return this.$store.state.selectedColor; },\n    points() {\n      const points = [];\n      this.iB.pointsIndexes.forEach((j) => {\n        points.push(...this.part.points[j].c);\n      });\n      return points;\n    },\n    config() {\n      const This = this;\n      const { iB, points } = this;\n      const { id, type } = iB;\n      this.console.log('insetBulge', id);\n      return {\n        id,\n        points: points.map((p) => p * this.pxPerMm),\n        closed: true,\n        dash: this.dash,\n        stroke: this.selectedColor,\n        type,\n        draggable: true,\n        dragBoundFunc(pos) {\n          This.dragIB(pos);\n          return this.absolutePosition();\n        },\n      };\n    },\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    partPosition() { return this.part.position; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.insetBulgeIndex !== this.iBIndex) return;\n      if (data.action === 'deleteInsetBulge') {\n        this.deleteInsetBulge();\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e, index) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, partIndex, insetBulgeIndex: index });\n    },\n    deleteInsetBulge() {\n      const { pointsIndexes } = this.iB;\n      const { partIndex } = this;\n      this.$store.commit('setSelectedElId', null);\n      this.$store.dispatch('deleteInsetBulge', { i: partIndex, j: this.iBIndex });\n      new Array(4).fill('').forEach(() => {\n        this.$store.dispatch('deletePoint', { i: partIndex, j: pointsIndexes[0] });\n      });\n      this.$store.commit('addLog');\n    },\n    startIBDrag(e) {\n      this.isCtrlKey = e.evt.ctrlKey;\n      this.iBStartPoint = this.clone(this.points);\n    },\n    dragIB(pos) {\n      const pts = this.points;\n      const pts2 = this.iBStartPoint;\n      const x2 = (pos.x - this.partPosition.x) / this.pxPerMm + pts2[0];\n      const y2 = (pos.y - this.partPosition.y) / this.pxPerMm + pts2[1];\n      const vec1 = new Victor(pts[6] - pts[0], pts[7] - pts[1]);\n      const vec2 = new Victor(x2 - pts2[0], y2 - pts2[1]);\n      let angle1 = vec1.angleDeg();\n      angle1 = angle1 >= 0 ? angle1 : angle1;\n      let angle2 = vec2.angleDeg() - angle1;\n      if (angle2 < -180) {\n        angle2 += 360;\n      } else if (angle2 > 180) {\n        angle2 -= 360;\n      }\n      const cos = vec1.dot(vec2) / (vec1.length() * vec2.length());\n      let distance = (cos * vec2.length());\n      if (!this.isCtrlKey) distance = Math.round(distance / 10) * 10;\n      if (!distance) return;\n      const dopVec = new Victor().norm().rotateDeg(angle1)\n        .multiply(new Victor(distance, distance));\n      this.iB.pointsId.forEach((id, index) => {\n        this.$store.commit('changePoint', {\n          i: this.partIndex,\n          j: this.iB.pointsIndexes[index],\n          point: new Victor(pts2[index * 2], pts2[index * 2 + 1]).add(dopVec).toObject(),\n        });\n      });\n    },\n    dragend() {\n      this.$refs.iB.getNode().clearCache();\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsetBulge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsetBulge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InsetBulge.vue?vue&type=template&id=cc86a0e0&\"\nimport script from \"./InsetBulge.vue?vue&type=script&lang=js&\"\nexport * from \"./InsetBulge.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-group',{ref:\"group\",on:{\"mouseover\":function($event){return _vm.$store.commit('setCurrentEl', _vm.sizeTag.id)},\"mouseleave\":function($event){return _vm.$store.commit('setCurrentEl', null)},\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.sizeTag.id)}}},[_c('v-arrow',{attrs:{\"config\":{\n    points: _vm.params.arrowPoints,\n    stroke: 'black',\n    fill: 'black',\n    pointerAtBeginning: true,\n    strokeWidth: 1,\n    pointerLength : _vm.arrowLength,\n    pointerWidth : 3,\n    dash: _vm.dash,\n  }}}),_c('v-label',{attrs:{\"config\":Object.assign({}, _vm.params.textPosition,\n      {rotation: _vm.params.angle,\n      offset: _vm.params.offset,\n      draggable: true,\n      dragBoundFunc: _vm.params.dragBoundFunc})},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"contextmenu\":_vm.setContextMenuEvent,\"dragstart\":_vm.dragstart,\"dragend\":_vm.dragend}},[_c('v-tag',{attrs:{\"config\":{fill: 'white'}}}),_c('v-text',{attrs:{\"config\":{\n      text: _vm.params.lengthText,\n      padding: _vm.params.padding,\n      fontSize: _vm.fontSize,\n      fontFamily: 'Calibri',\n      fill: _vm.over ? _vm.selectedColor : 'black',\n      type: 'singleSizeTag',\n    }}})],1),_c('v-circle',{attrs:{\"config\":Object.assign({}, _vm.circles,\n      {x: _vm.params.arrowPoints[0],\n      y: _vm.params.arrowPoints[1],\n      draggable: true,\n      dragBoundFunc: _vm.dragPointFunc})},on:{\"dragstart\":function($event){return _vm.dragstart($event, 1)},\"dragend\":_vm.dragend}}),_c('v-circle',{attrs:{\"config\":Object.assign({}, _vm.circles,\n      {x: _vm.params.arrowPoints[2],\n      y: _vm.params.arrowPoints[3],\n      draggable: true,\n      dragBoundFunc: _vm.dragPointFunc})},on:{\"dragstart\":function($event){return _vm.dragstart($event, 2)},\"dragend\":_vm.dragend}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-group\n    ref=\"group\"\n    @mouseover=\"$store.commit('setCurrentEl', sizeTag.id)\"\n    @mouseleave=\"$store.commit('setCurrentEl', null)\"\n    @click=\"$store.commit('setSelectedElId', sizeTag.id)\">\n    <v-arrow :config=\"{\n      points: params.arrowPoints,\n      stroke: 'black',\n      fill: 'black',\n      pointerAtBeginning: true,\n      strokeWidth: 1,\n      pointerLength : arrowLength,\n      pointerWidth : 3,\n      dash,\n    }\" />\n    <v-label :config=\"{\n        ...params.textPosition,\n        rotation: params.angle,\n        offset: params.offset,\n        draggable: true,\n        dragBoundFunc: params.dragBoundFunc,\n      }\"\n      @mouseover=\"over = true\"\n      @mouseleave=\"over = false\"\n      @contextmenu=\"setContextMenuEvent\"\n      @dragstart=\"dragstart\"\n      @dragend=\"dragend\">\n      <v-tag :config=\"{fill: 'white'}\" />\n      <v-text :config=\"{\n        text: params.lengthText,\n        padding: params.padding,\n        fontSize,\n        fontFamily: 'Calibri',\n        fill: over ? selectedColor : 'black',\n        type: 'singleSizeTag',\n      }\" />\n    </v-label>\n    <v-circle\n      :config=\"{\n        ...circles,\n        x: params.arrowPoints[0],\n        y: params.arrowPoints[1],\n        draggable: true,\n        dragBoundFunc: dragPointFunc,\n      }\"\n      @dragstart=\"dragstart($event, 1)\"\n      @dragend=\"dragend\"  />\n    <v-circle\n      :config=\"{\n        ...circles,\n        x: params.arrowPoints[2],\n        y: params.arrowPoints[3],\n        draggable: true,\n        dragBoundFunc: dragPointFunc,\n      }\"\n      @dragstart=\"dragstart($event, 2)\"\n      @dragend=\"dragend\"  />\n  </v-group>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  props: ['partIndex', 'sizeTagIndex'],\n  data() {\n    const This = this;\n    return {\n      over: false,\n      isCtrlKey: false,\n      arrowLength: 3,\n      startDragData: {},\n      dragPointFunc(pos) {\n        This.dragPoint(pos);\n        return this.absolutePosition();\n      },\n    };\n  },\n  computed: {\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    fontSize() { return this.$store.state.fontSizeInmM.sizeArrow * this.pxPerMm; },\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    part() { return this.$store.state.parts.partsInit[this.partIndex]; },\n    sizeTag() { return this.part.singleSizeTags[this.sizeTagIndex]; },\n    points() { return this.sizeTag.points; },\n    circles() {\n      const circles = { radius: 60 * this.pxPerMm, fill: 'transparent' };\n      if ([this.currentElId, this.selectedElId].includes(this.sizeTag.id)) {\n        circles.fill = this.selectedColor;\n      }\n      return circles;\n    },\n    params() {\n      const pts = this.sizeTag.points.map((c) => c * this.pxPerMm);\n      const startVec = new Victor(pts[0], pts[1]);\n      const vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      let angle = vec.angleDeg();\n      angle = angle < 0 ? angle + 360 : angle;\n      const halfFontSize = this.fontSize / 2;\n      const length = vec.length();\n      const lengthText = Math.round((length + this.arrowLength * 2) / this.pxPerMm).toString();\n      // length -= this.arrowLength * 2;\n      const offset = {\n        x: halfFontSize * lengthText.length,\n        y: halfFontSize,\n      };\n      const textOffset = length * 0.5 + offset.x / 2;\n      const textVec = vec.clone().norm().multiply(new Victor(textOffset, textOffset));\n      const textPosition = textVec.add(startVec).toObject();\n      const This = this;\n      return {\n        arrowPoints: pts,\n        textPosition,\n        lengthText,\n        padding: 0,\n        angle,\n        offset,\n        dragBoundFunc(pos) {\n          This.dragTag(pos);\n          // return pos;\n          return this.absolutePosition();\n        },\n      };\n    },\n    partPosition() { return this.part.position; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    dash() { return this.$store.state.dash; },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.sizeTagIndex !== this.sizeTagIndex) return;\n      if (data.action === 'deleteSingleSizeTag') {\n        setTimeout(() => {\n          this.$store.commit('deleteSingleSizeTag', {\n            i: data.partIndex,\n            j: data.sizeTagIndex,\n          });\n          this.$store.commit('addLog');\n        }, 0);\n      }\n    },\n    over(over) {\n      if (over) {\n        this.$store.commit('setCursor', 'move');\n      } else {\n        this.$store.commit('resetCursor');\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e) {\n      const { partIndex, sizeTagIndex } = this;\n      this.$store.commit('setContextMenuEvent', {\n        e,\n        partIndex,\n        sizeTagIndex,\n      });\n    },\n    dragTag(pos) {\n      const { startPoint, pts } = this.startDragData;\n      const diffX = (pos.x - startPoint.x) / this.pxPerMm;\n      const diffY = (pos.y - startPoint.y) / this.pxPerMm;\n      const points = [\n        pts[0] + diffX,\n        pts[1] + diffY,\n        pts[2] + diffX,\n        pts[3] + diffY,\n      ];\n      this.$store.commit('setSingleSizeTagParams', {\n        i: this.partIndex,\n        j: this.sizeTagIndex,\n        points,\n      });\n    },\n    dragPoint(pos) {\n      const { startPoint, pts, pointNum } = this.startDragData;\n      const diffX = (pos.x - startPoint.x) / this.pxPerMm;\n      const diffY = (pos.y - startPoint.y) / this.pxPerMm;\n      const points = this.clone(pts);\n      if (pointNum === 1) {\n        points[0] += diffX;\n        points[1] += diffY;\n      } else {\n        points[2] += diffX;\n        points[3] += diffY;\n      }\n      this.$store.commit('setSingleSizeTagParams', {\n        i: this.partIndex,\n        j: this.sizeTagIndex,\n        points,\n      });\n    },\n    dragstart(e, pointNum) {\n      this.isCtrlKey = e.evt.ctrlKey;\n      this.startDragData = {\n        startPoint: e.target.absolutePosition(),\n        pts: this.clone(this.sizeTag.points),\n        pointNum,\n      };\n    },\n    dragend() {\n      this.$refs.group.getNode().clearCache();\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleSizeTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleSizeTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingleSizeTag.vue?vue&type=template&id=aa751a9c&\"\nimport script from \"./SingleSizeTag.vue?vue&type=script&lang=js&\"\nexport * from \"./SingleSizeTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-image',{ref:\"image\",attrs:{\"config\":Object.assign({}, _vm.config)},on:{\"dragend\":_vm.dragend,\"contextmenu\":_vm.setContextMenuEvent}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-image\n    :config=\"{\n      ...config,\n    }\"\n    ref=\"image\"\n    @dragend=\"dragend\"\n    @contextmenu=\"setContextMenuEvent\" />\n</template>\n\n<script>\nexport default {\n  props: ['washingIndex', 'partIndex'],\n  data() {\n    return {\n      isCtrlKey: false,\n      startPoint: {},\n    };\n  },\n  computed: {\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    part() { return this.$store.state.parts.partsInit[this.partIndex]; },\n    washing() { return this.part.washings[this.washingIndex]; },\n    partPosition() { return this.part.position; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    config() {\n      const { washing } = this;\n      return {\n        x: washing.x * this.pxPerMm,\n        y: washing.y * this.pxPerMm,\n        height: washing.height * this.pxPerMm,\n        width: washing.width * this.pxPerMm,\n        type: 'washing',\n        draggable: true,\n        subType: washing.subType,\n        image: this.$store.state.files.washings[washing.subType],\n      };\n    },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.washingIndex !== this.washingIndex) return;\n      if (data.action === 'deleteWashing') {\n        setTimeout(() => {\n          this.$store.commit('deleteWashing', {\n            i: data.partIndex,\n            j: data.washingIndex,\n          });\n          this.$store.commit('addLog');\n        }, 0);\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e) {\n      const { partIndex, washingIndex } = this;\n      this.$store.commit('setContextMenuEvent', {\n        e,\n        partIndex,\n        washingIndex,\n      });\n    },\n    dragend(e) {\n      this.$refs.image.getNode().clearCache();\n      const coords = e.target.absolutePosition();\n      this.$store.commit('setWashingParams', {\n        i: this.partIndex,\n        j: this.washingIndex,\n        x: (coords.x - this.partPosition.x) / this.pxPerMm,\n        y: (coords.y - this.partPosition.y) / this.pxPerMm,\n      });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Washing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Washing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Washing.vue?vue&type=template&id=52b209a8&\"\nimport script from \"./Washing.vue?vue&type=script&lang=js&\"\nexport * from \"./Washing.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <v-group\n      :config=\"groupConfig\"\n      @dragend=\"log\">\n      <v-shape :config=\"{\n        ...partShapeConfig,\n        fill: fill.color,\n        fillPatternImage: fill.image,\n        fillPriority: 'pattern',\n      }\"\n      ref=\"shape\"\n      @mouseover=\"$store.commit('setCurrentEl', part.id)\"\n      @mouseleave=\"$store.commit('setCurrentEl', null)\"\n      @click=\"$store.commit('setSelectedElId', part.id)\"\n      @contextmenu=\"setContextMenuEvent\" />\n      <inset-bulge\n        v-for=\"(ib, index) in part.insetsBulges\"\n        :key=\"ib.id\"\n        :partIndex=\"partIndex\"\n        :iBIndex=\"index\" />\n      <borders\n        :part=\"part\"\n        :partIndex=\"partIndex\"\n        :curves=\"curves\" />\n      <p-point\n        v-for=\"(point, index) in points\"\n        :key=\"point.id\"\n        :pointIndex=\"index\"\n        :partIndex=\"partIndex\" />\n      <single-size-tag\n        v-for=\"(sizeTag, index) in part.singleSizeTags\"\n        :key=\"sizeTag.id\"\n        :partIndex=\"partIndex\"\n        :sizeTagIndex=\"index\"  />\n      <washing\n        v-for=\"(washing, index) in part.washings\"\n        :key=\"washing.id\"\n        :partIndex=\"partIndex\"\n        :washingIndex=\"index\"  />\n    </v-group>\n  </div>\n</template>\n\n<script>\nimport Borders from './Borders.vue';\nimport PPoint from './Point.vue';\nimport InsetBulge from './InsetBulge.vue';\nimport fills from '../../modules/fills';\nimport SingleSizeTag from './SingleSizeTag.vue';\nimport Washing from './Washing.vue';\nimport getId from '../../mixins/getId';\n\nexport default {\n  mixins: [getId],\n  props: ['partIndex', 'part'],\n  data() {\n    return {\n    };\n  },\n  components: {\n    Borders,\n    PPoint,\n    InsetBulge,\n    SingleSizeTag,\n    Washing,\n  },\n  computed: {\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    curveBorders() {\n      return this.part.borders.filter((b) => b.type === 'curveBorder')\n        .map((b) => (\n          {\n            pointsIndexes: b.pointsIndexes,\n            isInside: b.isInside,\n            id: b.id,\n            radius: b.radius,\n          }));\n    },\n    curves() {\n      const curves = {};\n      // console.log('curves', this.part.id);\n      const { points } = this.part;\n      this.curveBorders.forEach((border) => {\n        const radius = border.radius * this.pxPerMm;\n        const coords1 = points[border.pointsIndexes[0]].c.map((a) => a * this.pxPerMm);\n        const coords2 = points[border.pointsIndexes[1]].c.map((a) => a * this.pxPerMm);\n        const p1 = { x: coords1[0], y: coords1[1] };\n        const p2 = { x: coords2[0], y: coords2[1] };\n        const pm = { x: 0.5 * (p1.x + p2.x), y: 0.5 * (p1.y + p2.y) };\n        let perpABdx = -(p2.y - p1.y);\n        let perpABdy = p2.x - p1.x;\n        const norm = Math.sqrt(perpABdx ** 2 + perpABdy ** 2);\n        perpABdx /= norm;\n        perpABdy /= norm;\n        const dpmp1 = Math.sqrt((pm.x - p1.x) ** 2 + (pm.y - p1.y) ** 2);\n        const sin = dpmp1 / radius;\n        if (sin < -1 || sin > 1) return;\n        const cos = Math.sqrt(1 - (sin) ** 2);\n        const d = radius * cos;\n        const res1 = { x: pm.x + perpABdx * d, y: pm.y + perpABdy * d };\n        const res2 = { x: pm.x - perpABdx * d, y: pm.y - perpABdy * d };\n        const ang1 = Math.atan2(p1.y - res1.y, p1.x - res1.x);\n        const ang2 = Math.atan2(p2.y - res1.y, p2.x - res1.x);\n        const p1p2Length = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n        const p1p2Cos = (p2.x - p1.x) / p1p2Length;\n        const p1p2Angle = Math.acos(p1p2Cos);\n        const diffY = p1.x > p2.x ? p1.y - p2.y : p2.y - p1.y;\n        const m = diffY > 0 ? -1 : 1;\n        curves[border.id] = {\n          c1: border.isInside ? res2 : res1,\n          p1,\n          p2,\n          R: radius,\n          ang1: border.isInside ? (Math.PI + Math.abs(1.57 - p1p2Angle) * 2 * m) - ang1 : ang1,\n          ang2: border.isInside ? (Math.PI + Math.abs(1.57 - p1p2Angle) * 2 * m) - ang2 : ang2,\n          isInside: border.isInside,\n        };\n      });\n      return curves;\n    },\n    points() {\n      return this.part.points.map((p) => p.c.map((c) => c * this.pxPerMm));\n    },\n    borders() {\n      return this.part.borders.map((border) => (\n        {\n          type: border.type,\n          id: border.id,\n        }\n      ));\n    },\n    partShapeConfig() {\n      this.console.log('partShape', this.part.id);\n      const { type, id } = this.part;\n      const { points, curves, borders } = this;\n      return {\n        type,\n        id,\n        sceneFunc(ctx, shape) {\n          ctx.beginPath();\n          ctx.moveTo(...points[0]);\n          points.forEach((point, i) => {\n            if (borders[i].type === 'lineBorder') {\n              ctx.lineTo(...point);\n            } else if (borders[i].type === 'curveBorder') {\n              const c = curves[borders[i].id];\n              ctx.arc(c.c1.x, c.c1.y, c.R, c.ang1, c.ang2, c.isInside);\n            }\n          });\n          ctx.fillStrokeShape(shape);\n        },\n      };\n    },\n    myBB() {\n      const { part } = this;\n      const xs = part.points.map((p) => p.c[0] * this.pxPerMm);\n      const ys = part.points.map((p) => p.c[1] * this.pxPerMm);\n      const bb = {\n        id: part.id,\n        absolute: {\n          x1: Math.min(...xs),\n          x2: Math.max(...xs),\n          y1: Math.min(...ys),\n          y2: Math.max(...ys),\n        },\n      };\n      bb.relative = {\n        x1: bb.absolute.x1 + part.position.x,\n        x2: bb.absolute.x2 + part.position.x,\n        y1: bb.absolute.y1 + part.position.y,\n        y2: bb.absolute.y2 + part.position.y,\n      };\n      bb.width = Math.abs(bb.absolute.x2 - bb.absolute.x1);\n      bb.height = Math.abs(bb.absolute.y2 - bb.absolute.y1);\n      return bb;\n    },\n    otherPartsBB() {\n      return this.$store.state.parts.boundingBoxes\n        .filter((b) => b.id !== this.part.id);\n    },\n    groupConfig() {\n      const bb = this.otherPartsBB;\n      const my = this.myBB.absolute;\n      const isLimitMoving = false;\n      let block = null;\n      const config = {\n        type: 'part',\n        draggable: true,\n        dragBoundFunc(pos) {\n          if (!isLimitMoving) return pos;\n          // console.log(pos);\n          const newPos = pos;\n          if (bb.length) {\n            const x1 = my.x1 + pos.x;\n            const x2 = my.x2 + pos.x;\n            const y1 = my.y1 + pos.y;\n            const y2 = my.y2 + pos.y;\n            const isBlock = bb.some((bBox) => {\n              const b = bBox.relative;\n              if (x1 >= b.x2 || x2 <= b.x1) return false;\n              if (y1 >= b.y2 || y2 <= b.y1) return false;\n              const diff = { x: 0, y: 0 };\n              diff.x = x2 > b.x2 ? b.x2 - x1 : x2 - b.x1;\n              diff.y = y2 > b.y2 ? b.y2 - y1 : y2 - b.y1;\n              if (diff.x < diff.y && (block === null || block === 'x')) {\n                newPos.x = x2 >= b.x2 ? b.x2 - my.x1 : b.x1 - my.x2;\n                block = 'x';\n              } else {\n                newPos.y = y2 >= b.y2 ? b.y2 - my.y1 : b.y1 - my.y2;\n                block = 'y';\n              }\n              return true;\n            });\n            block = isBlock ? block : null;\n          }\n          return newPos;\n        },\n      };\n      if (this.part.position) {\n        Object.assign(config, { ...this.part.position });\n      }\n      return config;\n    },\n    fill() {\n      const { fill } = this.$store.state.parts.partsInit[this.partIndex];\n      const fillParams = { color: 'white', image: null };\n      if (!fill) return fillParams;\n      if (fill === 'color') {\n        fillParams.color = 'rgb(200,200,200)';\n      } else {\n        fillParams.image = fills({ type: fill, color: 'rgb(200,200,200)' });\n      }\n      return fillParams;\n    },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.action === 'deletePart') {\n        setTimeout(() => {\n          this.$store.commit('deletePart', data.partIndex);\n          this.$store.commit('addLog');\n        }, 0);\n      } else if (data.action === 'addSingleSizeTag') {\n        const params = {\n          points: [\n            this.part.points[0].c[0],\n            this.part.points[0].c[1] - 500,\n            this.part.points[0].c[0] + 500,\n            this.part.points[0].c[1] - 500,\n          ],\n          id: this.getId(),\n          i: data.partIndex,\n          type: 'singleSizeTag',\n        };\n        this.$store.commit('addSingleSizeTag', params);\n        this.$store.commit('addLog');\n      }\n    },\n    myBB: {\n      handler(bb) {\n        this.$store.commit('setBoundingBox', { i: this.partIndex, bb });\n      },\n      immediate: true,\n    },\n    // partShapeConfig: {\n    //   handler() {\n    //     // console.log('curveBorders');\n    //     this.$refs.shape.getNode().cache();\n    //     console.log('cached');\n    //   },\n    //   // deep: true,\n    //   // immediate: true,\n    // },\n  },\n  methods: {\n    log(e) {\n      if (e.target.attrs.type !== 'part') return;\n      this.setPartPosition(e.target.getPosition());\n    },\n    setPartPosition(pos) {\n      this.$store.commit('setPartPosition', { i: this.partIndex, pos });\n      this.$store.commit('addLog');\n    },\n    setContextMenuEvent(e) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, partIndex });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Part.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Part.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Part.vue?vue&type=template&id=e74454e0&\"\nimport script from \"./Part.vue?vue&type=script&lang=js&\"\nexport * from \"./Part.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.element)?_c('div',{staticClass:\"d-inline-block bg-white p-4 position-absolute element-menu\"},[(_vm.element.type === 'lineBorder')?_c('line-border-menu'):(_vm.element.type === 'curveBorder')?_c('curve-border-menu'):(['inset', 'bulge'].includes(_vm.element.type))?_c('inset-bulge-menu'):(_vm.element.type === 'edge')?_c('edge-menu',{attrs:{\"initType\":_vm.element.edgeType}}):(_vm.element.type === 'part')?_c('part-menu'):(['totalText', 'partText'].includes(_vm.element.type))?_c('text-menu'):(_vm.element.type === 'singleSizeTag')?_c('single-size-tag-menu'):(_vm.element.type === 'legend')?_c('legend-menu'):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setBorderLength($event)}}},[_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Длина\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lengthInMm),expression:\"lengthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.lengthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.lengthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_vm._m(0),_c('div',{staticClass:\"col-auto\"},[_c('change-line-by-end',{attrs:{\"element\":_vm.element,\"points\":_vm.points},on:{\"setChoosedPoint\":function($event){_vm.choosedPoint = $event}}})],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-auto text-left\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Установить\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-group ml-3\",attrs:{\"role\":\"group\",\"title\":\"За счет какой стороны менять длину\"}},[_c('button',{staticClass:\"btn\",class:[(\"btn\" + (_vm.choosed === 1 ? '' : '-outline') + \"-secondary\")],attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.choosed = 1}}},[_c('font-awesome-icon',{style:(_vm.angleStyle),attrs:{\"icon\":\"long-arrow-alt-right\"}})],1),_c('button',{staticClass:\"btn\",class:[(\"btn\" + (!_vm.choosed ? '' : '-outline') + \"-secondary\")],attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.choosed = 0}}},[_c('font-awesome-icon',{style:(_vm.angleStyle),attrs:{\"icon\":\"long-arrow-alt-left\"}})],1),_c('button',{staticClass:\"btn\",class:[(\"btn\" + (_vm.choosed === 'both' ? '' : '-outline') + \"-secondary\")],attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.choosed = 'both'}}},[_c('font-awesome-icon',{style:(_vm.angleStyle),attrs:{\"icon\":\"arrows-alt-h\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"btn-group ml-3\"\n    role=\"group\"\n    title=\"За счет какой стороны менять длину\">\n    <button\n      type=\"button\"\n      @click=\"choosed = 1\"\n      :class=\"[`btn${choosed === 1 ? '' : '-outline'}-secondary`]\"\n      class=\"btn\">\n      <font-awesome-icon icon=\"long-arrow-alt-right\" :style=\"angleStyle\" />\n    </button>\n    <button\n      type=\"button\"\n      @click=\"choosed = 0\"\n      :class=\"[`btn${!choosed ? '' : '-outline'}-secondary`]\"\n      class=\"btn\">\n      <font-awesome-icon icon=\"long-arrow-alt-left\" :style=\"angleStyle\" />\n    </button>\n    <button\n      type=\"button\"\n      @click=\"choosed = 'both'\"\n      :class=\"[`btn${choosed === 'both' ? '' : '-outline'}-secondary`]\"\n      class=\"btn\">\n      <font-awesome-icon icon=\"arrows-alt-h\" :style=\"angleStyle\" />\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['element', 'points'],\n  data() {\n    return {\n      choosed: 1,\n    };\n  },\n  computed: {\n    angleStyle() {\n      if (!this.points) return null;\n      const { points } = this;\n      const p1 = points[0];\n      const p2 = points[1];\n      const length = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n      const cos = (p2.x - p1.x) / length;\n      let angle = Math.acos(cos) * (180 / Math.PI);\n      angle = p2.y > p1.y ? angle : -angle;\n      return {\n        transform: `rotate(${angle}deg)`,\n      };\n    },\n  },\n  watch: {\n    choosed: {\n      handler(choosed) {\n        // const pts = this.points;\n        // const changePointId = typeof choosed === 'string'\n        // ? [pts[0].id, pts[1].id] : pts[choosed];\n        this.$emit('setChoosedPoint', choosed);\n      },\n      immediate: true,\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeLineByEnd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeLineByEnd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangeLineByEnd.vue?vue&type=template&id=6b5327ec&\"\nimport script from \"./ChangeLineByEnd.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangeLineByEnd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <form @submit.prevent=\"setBorderLength\">\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Длина</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"lengthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <div class=\"col-auto text-left\">\n          <button type=\"submit\" class=\"btn btn-primary\">Установить</button>\n        </div>\n        <div class=\"col-auto\">\n          <change-line-by-end\n            :element=\"element\"\n            :points=\"points\"\n            @setChoosedPoint=\"choosedPoint = $event\" />\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport ChangeLineByEnd from './ChangeLineByEnd.vue';\nimport confirmModal from '../../../modules/ConfirmModal';\n\nexport default {\n  components: { ChangeLineByEnd },\n  data() {\n    return {\n      choosedPoint: null,\n      lengthInMm: 0,\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    part() { return this.$store.state.parts.partsInit[this.selectedEl.i]; },\n    element() { return this.selectedEl.el; },\n    elementId() { return this.element.id; },\n    points() {\n      const curIndex = this.selectedEl.j;\n      const nextIndex = curIndex < this.part.points.length - 1 ? curIndex + 1 : 0;\n      const p1 = this.part.points[curIndex];\n      const p2 = this.part.points[nextIndex];\n      const pts = [\n        { x: p1.c[0], y: p1.c[1], id: p1.id },\n        { x: p2.c[0], y: p2.c[1], id: p2.id },\n      ].sort((pt1, pt2) => pt1.x - pt2.x);\n      if (pts[0].x === pts[1].x) pts.sort((pt1, pt2) => pt1.y - pt2.y);\n      return pts;\n    },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    currentLengthInMm() {\n      const [p1, p2] = this.points;\n      const length = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n      return Math.round(length);\n    },\n  },\n  watch: {\n    points: {\n      handler() {\n        this.getLength();\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    getLength() {\n      this.lengthInMm = this.currentLengthInMm;\n    },\n    async setBorderLength() {\n      const { m, n } = this.getLinearEquation();\n      const pts = this.points;\n      const nums = this.choosedPoint === 'both' ? [0, 1] : [this.choosedPoint];\n      const newCoords = [];\n      const currentLength = this.currentLengthInMm;\n      const diffX = (pts[0].x - pts[1].x) / currentLength;\n      const newLength = this.lengthInMm;\n      nums.forEach((num) => {\n        const p = this.clone(pts[num]);\n        const other = !num ? this.clone(pts[1]) : this.clone(pts[0]);\n        const diffLength = this.choosedPoint === 'both'\n          ? (newLength - currentLength) / 2 : newLength - currentLength;\n        if (p.x === other.x) {\n          const sign = p.y > other.y ? 1 : -1;\n          p.y += diffLength * sign;\n        } else if (p.y === other.y) {\n          const sign = p.x > other.x ? 1 : -1;\n          p.x += diffLength * sign;\n        } else {\n          const sign = (p.y > other.y && m < 0) || (p.y < other.y && m > 0) ? 1 : -1;\n          const addX = diffX * diffLength * sign;\n          p.x += addX;\n          p.y = p.x * m + n;\n        }\n        newCoords.push(p);\n      });\n      const { i } = this.selectedEl;\n      const radiuses = this.checkIfNeedFixCurvesRadiuses(newCoords);\n      if (radiuses.length) {\n        const body = 'При изменении данной длины будут увеличены радиус(ы) прилегающих выпуклых/вогнутых линий. Продолжить?';\n        const title = 'Подтверждение';\n        const confirmation = await confirmModal({ body, title });\n        if (!confirmation) return;\n      }\n      if (radiuses.length) {\n        radiuses.forEach((r) => {\n          const { j, radius } = r;\n          this.$store.dispatch('changeRadius', { i, j, radius });\n        });\n      }\n      const insetsBulges = [];\n      this.part.points.some((point, j) => {\n        const index = newCoords.findIndex((p) => p.id === point.id);\n        if (index >= 0) {\n          if (['inset', 'bulge'].includes(point.subType)) {\n            insetsBulges.push({\n              insetBulgeId: point.insetBulgeId,\n              fromPointId: point.id,\n              x: newCoords[index].x - point.c[0],\n              y: newCoords[index].y - point.c[1],\n            });\n          }\n          this.$store.dispatch('changePoint', {\n            i,\n            j,\n            point: newCoords.splice(index, 1)[0],\n          });\n        }\n        return !newCoords.length;\n      });\n      if (insetsBulges.length) {\n        insetsBulges.forEach((iB) => {\n          const insetBulge = this.part.insetsBulges.find((ib) => ib.id === iB.insetBulgeId);\n          insetBulge.pointsId.filter((id) => id !== iB.fromPointId).forEach((id) => {\n            const index = this.part.points.findIndex((p) => p.id === id);\n            const [x, y] = this.part.points[index].c;\n            this.$store.dispatch('changePoint', {\n              i,\n              j: index,\n              point: { x: x + iB.x, y: y + iB.y },\n            });\n          });\n        });\n      }\n      this.$store.commit('addLog');\n    },\n    getLinearEquation() {\n      // y = mx + n - формула линейного уравнения\n      const pts = this.points;\n      const m = (pts[1].y - pts[0].y) / (pts[1].x - pts[0].x);\n      const n = -pts[0].x * m + pts[0].y;\n      return { m, n };\n    },\n    checkIfNeedFixCurvesRadiuses(pts) {\n      const radiuses = [];\n      const { borders, points } = this.part;\n      let curIndex = this.selectedEl.j;\n      const prevIndex = curIndex > 0 ? curIndex - 1 : borders.length - 1;\n      const prevBorder = borders[prevIndex];\n      if (prevBorder.type === 'curveBorder') {\n        const p1 = { x: points[prevIndex].c[0], y: points[prevIndex].c[1] };\n        const p2 = pts.find((p) => p.id === points[curIndex].id);\n        if (p2) {\n          const minRadius = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2) / 2 + 2;\n          if (prevBorder.radius < minRadius) radiuses.push({ j: prevIndex, radius: minRadius });\n        }\n      }\n      curIndex = curIndex < borders.length - 1 ? curIndex + 1 : 0;\n      const nextIndex = curIndex < borders.length - 1 ? curIndex + 1 : 0;\n      const nextBorder = borders[curIndex];\n      if (nextBorder.type === 'curveBorder') {\n        const p1 = { x: points[nextIndex].c[0], y: points[nextIndex].c[1] };\n        const p2 = pts.find((p) => p.id === points[curIndex].id);\n        if (p2) {\n          const minRadius = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2) / 2 + 2;\n          if (nextBorder.radius < minRadius) radiuses.push({ j: curIndex, radius: minRadius });\n        }\n      }\n      return radiuses;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineBorderMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineBorderMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LineBorderMenu.vue?vue&type=template&id=56856184&\"\nimport script from \"./LineBorderMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./LineBorderMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setParams($event)}}},[_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Отступ от прямой\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.marginInMm),expression:\"marginInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.marginInMm)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.marginInMm=$event.target.value},_vm.calcRadius]}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")]),_c('div',{staticClass:\"w-100\"}),_c('small',{staticClass:\"form-text text-muted col-auto text-left\"},[_vm._v(\" \"+_vm._s((\"Максимальный отступ \" + _vm.maxMargin + \" мм\"))+\" \")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Радиус\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.radiusInMm),expression:\"radiusInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.radiusInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.radiusInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")]),_c('div',{staticClass:\"w-100\"}),_c('small',{staticClass:\"form-text text-muted col-auto text-left\"},[_vm._v(\" \"+_vm._s((\"Минимальный радиус \" + _vm.minRadius + \" мм\"))+\" \")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Длина по прямой\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lengthInMm),expression:\"lengthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.lengthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.lengthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")]),_c('div',{staticClass:\"w-100\"}),_c('small',{staticClass:\"form-text text-muted col-auto text-left\"},[_vm._v(\" \"+_vm._s((\"Максимальная длина \" + _vm.maxLength + \" мм\"))+\" \")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_vm._m(0),_c('div',{staticClass:\"col-auto\"},[_c('change-line-by-end',{attrs:{\"element\":_vm.element,\"points\":_vm.points},on:{\"setChoosedPoint\":function($event){_vm.choosedPoint = $event}}})],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-auto text-left\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Установить\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <form @submit.prevent=\"setParams\">\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Отступ от прямой</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"marginInMm\" @input=\"calcRadius\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n        <div class=\"w-100\"></div>\n        <small\n          class=\"form-text text-muted col-auto text-left\">\n          {{ `Максимальный отступ ${maxMargin} мм` }}\n        </small>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Радиус</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"radiusInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n        <div class=\"w-100\"></div>\n        <small\n          class=\"form-text text-muted col-auto text-left\">\n          {{ `Минимальный радиус ${minRadius} мм` }}\n        </small>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Длина по прямой</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"lengthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n        <div class=\"w-100\"></div>\n        <small\n          class=\"form-text text-muted col-auto text-left\">\n          {{ `Максимальная длина ${maxLength} мм` }}\n        </small>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <div class=\"col-auto text-left\">\n          <button type=\"submit\" class=\"btn btn-primary\">Установить</button>\n        </div>\n        <div class=\"col-auto\">\n          <change-line-by-end\n            :element=\"element\"\n            :points=\"points\"\n            @setChoosedPoint=\"choosedPoint = $event\" />\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport toastr from 'toastr';\nimport ChangeLineByEnd from './ChangeLineByEnd.vue';\nimport confirmModal from '../../../modules/ConfirmModal';\n\nexport default {\n  components: { ChangeLineByEnd },\n  data() {\n    return {\n      radiusInMm: 0,\n      choosedPoint: null,\n      lengthInMm: 0,\n      marginInMm: 0,\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    part() { return this.$store.state.parts.partsInit[this.selectedEl.i]; },\n    element() { return this.selectedEl.el; },\n    elementId() { return this.element.id; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    points() {\n      const curIndex = this.selectedEl.j;\n      const nextIndex = curIndex < this.part.points.length - 1 ? curIndex + 1 : 0;\n      const p1 = this.part.points[curIndex];\n      const p2 = this.part.points[nextIndex];\n      const pts = [\n        { x: p1.c[0], y: p1.c[1], id: p1.id },\n        { x: p2.c[0], y: p2.c[1], id: p2.id },\n      ].sort((pt1, pt2) => pt1.x - pt2.x);\n      if (pts[0].x === pts[1].x) pts.sort((pt1, pt2) => pt1.y - pt2.y);\n      return pts;\n    },\n    currentLengthInMm() {\n      const [p1, p2] = this.points;\n      const length = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n      return Math.round(length);\n    },\n    minRadius() {\n      return Math.floor(this.lengthInMm / 2);\n    },\n    maxLength() {\n      return Math.ceil(this.radiusInMm * 2);\n    },\n    maxMargin() {\n      return Math.ceil(this.lengthInMm / 2);\n    },\n    currentMarginInMm() {\n      const r = this.radiusInMm;\n      const margin = r - Math.sqrt(((r ** 2) - ((this.currentLengthInMm ** 2) / 4)));\n      return Math.round(margin * 1000) / 1000;\n    },\n  },\n  watch: {\n    points: {\n      handler() {\n        this.radiusInMm = this.element.radius;\n        this.lengthInMm = this.currentLengthInMm;\n        this.marginInMm = this.currentMarginInMm;\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    calcRadius() {\n      const l = this.currentLengthInMm;\n      const h = this.marginInMm;\n      let radius = ((h ** 2) + ((l ** 2) / 4)) / (2 * h);\n      if (h > this.maxMargin) radius = 0;\n      this.radiusInMm = Math.round(radius * 1000) / 1000;\n    },\n    setParams() {\n      if (this.lengthInMm > this.maxLength) {\n        toastr.warning(`При таком радиусе длина не может быть больше ${this.maxLength} мм`);\n        return;\n      }\n      if (this.radiusInMm < this.minRadius) {\n        toastr.warning(`Радиус не может быть меньше ${this.minRadius} мм`);\n        return;\n      }\n      this.setRadius();\n      this.setBorderLength();\n      this.$store.commit('addLog');\n    },\n    setRadius() {\n      const { i, j } = this.selectedEl;\n      this.$store.dispatch('changeRadius', { i, j, radius: this.radiusInMm });\n    },\n    async setBorderLength() {\n      const { m, n } = this.getLinearEquation();\n      const pts = this.points;\n      const nums = this.choosedPoint === 'both' ? [0, 1] : [this.choosedPoint];\n      const newCoords = [];\n      const currentLength = this.currentLengthInMm;\n      const diffX = (pts[0].x - pts[1].x) / currentLength;\n      const newLength = this.lengthInMm;\n      nums.forEach((num) => {\n        const p = this.clone(pts[num]);\n        const other = !num ? this.clone(pts[1]) : this.clone(pts[0]);\n        const diffLength = this.choosedPoint === 'both'\n          ? (newLength - currentLength) / 2 : newLength - currentLength;\n        if (p.x === other.x) {\n          const sign = p.y > other.y ? 1 : -1;\n          p.y += diffLength * sign;\n        } else if (p.y === other.y) {\n          const sign = p.x > other.x ? 1 : -1;\n          p.x += diffLength * sign;\n        } else {\n          const sign = (p.y > other.y && m < 0) || (p.y < other.y && m > 0) ? 1 : -1;\n          const addX = diffX * diffLength * sign;\n          p.x += addX;\n          p.y = p.x * m + n;\n        }\n        newCoords.push(p);\n      });\n      const { i } = this.selectedEl;\n      const radiuses = this.checkIfNeedFixCurvesRadiuses(newCoords);\n      if (radiuses.length) {\n        const body = 'При изменении данной длины будут увеличены радиус(ы) прилегающих выпуклых/вогнутых линий. Продолжить?';\n        const title = 'Подтверждение';\n        const confirmation = await confirmModal({ body, title });\n        if (!confirmation) return;\n        radiuses.forEach((r) => {\n          const { j, radius } = r;\n          this.$store.dispatch('changeRadius', { i, j, radius });\n        });\n      }\n      this.part.points.some((point, j) => {\n        const index = newCoords.findIndex((p) => p.id === point.id);\n        if (index >= 0) {\n          this.$store.dispatch('changePoint', {\n            i,\n            j,\n            point: newCoords.splice(index, 1)[0],\n          });\n        }\n        return !newCoords.length;\n      });\n    },\n    getLinearEquation() {\n      // y = mx + n - формула линейного уравнения\n      const pts = this.points;\n      const m = (pts[1].y - pts[0].y) / (pts[1].x - pts[0].x);\n      const n = -pts[0].x * m + pts[0].y;\n      return { m, n };\n    },\n    checkIfNeedFixCurvesRadiuses(pts) {\n      const radiuses = [];\n      const { borders, points } = this.part;\n      let curIndex = this.selectedEl.j;\n      const prevIndex = curIndex > 0 ? curIndex - 1 : borders.length - 1;\n      const prevBorder = borders[prevIndex];\n      if (prevBorder.type === 'curveBorder') {\n        const p1 = { x: points[prevIndex].c[0], y: points[prevIndex].c[1] };\n        const p2 = pts.find((p) => p.id === points[curIndex].id);\n        if (p2) {\n          const minRadius = Math.floor(Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2) / 2);\n          if (prevBorder.radius < minRadius) radiuses.push({ j: prevIndex, radius: minRadius });\n        }\n      }\n      curIndex = curIndex < borders.length - 1 ? curIndex + 1 : 0;\n      const nextIndex = curIndex < borders.length - 1 ? curIndex + 1 : 0;\n      const nextBorder = borders[curIndex];\n      if (nextBorder.type === 'curveBorder') {\n        const p1 = { x: points[nextIndex].c[0], y: points[nextIndex].c[1] };\n        const p2 = pts.find((p) => p.id === points[curIndex].id);\n        if (p2) {\n          const minRadius = Math.floor(Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2) / 2);\n          if (nextBorder.radius < minRadius) radiuses.push({ j: curIndex, radius: minRadius });\n        }\n      }\n      return radiuses;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurveBorderMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurveBorderMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CurveBorderMenu.vue?vue&type=template&id=a49294f2&\"\nimport script from \"./CurveBorderMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./CurveBorderMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setParams($event)}}},[_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Внешняя длина\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.outLengthInMm),expression:\"outLengthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.outLengthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.outLengthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Внутренняя длина\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inLengthInMm),expression:\"inLengthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.inLengthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inLengthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Глубина\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.depthInMm),expression:\"depthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.depthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.depthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Отступ 1\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.marginInMm1),expression:\"marginInMm1\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.marginInMm1)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.marginInMm1=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Отступ 2\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.marginInMm2),expression:\"marginInMm2\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.marginInMm2)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.marginInMm2=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group row no-gutters\"},[_c('div',{staticClass:\"col-auto text-left\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Установить\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <form @submit.prevent=\"setParams\">\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Внешняя длина</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"number\" class=\"form-control\" v-model=\"outLengthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Внутренняя длина</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"number\" class=\"form-control\" v-model=\"inLengthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Глубина</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"number\" class=\"form-control\" v-model=\"depthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Отступ 1</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"number\" class=\"form-control\" v-model=\"marginInMm1\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Отступ 2</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"number\" class=\"form-control\" v-model=\"marginInMm2\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <div class=\"col-auto text-left\">\n          <button type=\"submit\" class=\"btn btn-primary\">Установить</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  data() {\n    return {\n      outLengthInMm: 0,\n      inLengthInMm: 0,\n      depthInMm: 0,\n      marginInMm1: 0,\n      marginInMm2: 0,\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    part() { return this.$store.state.parts.partsInit[this.selectedEl.i]; },\n    element() { return this.selectedEl.el; },\n    points() {\n      const points = this.element.pointsId.map((id) => {\n        const point = this.part.points.find((p) => p.id === id);\n        return { id, c: point.c };\n      });\n      return {\n        out: this.element.type === 'inset' ? [points[0], points[3]] : [points[1], points[2]],\n        in: this.element.type === 'inset' ? [points[1], points[2]] : [points[0], points[3]],\n      };\n    },\n    currentOutLength() {\n      const pts = this.points.out.map((p) => p.c);\n      return Math.sqrt((pts[1][0] - pts[0][0]) ** 2 + (pts[1][1] - pts[0][1]) ** 2);\n    },\n    currentInLength() {\n      const pts = this.points.in.map((p) => p.c);\n      return Math.sqrt((pts[1][0] - pts[0][0]) ** 2 + (pts[1][1] - pts[0][1]) ** 2);\n    },\n    currentMargin1() {\n      const prevIndex = this.element.pointsIndexes[0] > 0\n        ? this.element.pointsIndexes[0] - 1 : this.part.points.length - 1;\n      const p1 = this.part.points[prevIndex].c;\n      const p2 = this.part.points[this.element.pointsIndexes[0]].c;\n      const vec = new Victor(p2[0] - p1[0], p2[1] - p1[1]);\n      return vec.length();\n    },\n    currentMargin2() {\n      const nextIndex = this.element.pointsIndexes[3] < this.part.points.length - 1\n        ? this.element.pointsIndexes[3] + 1 : 0;\n      const p1 = this.part.points[this.element.pointsIndexes[3]].c;\n      const p2 = this.part.points[nextIndex].c;\n      const vec = new Victor(p2[0] - p1[0], p2[1] - p1[1]);\n      return vec.length();\n    },\n  },\n  watch: {\n    points: {\n      handler() {\n        this.outLengthInMm = Math.round(this.currentOutLength);\n        this.inLengthInMm = Math.round(this.currentInLength);\n        this.depthInMm = this.element.depth;\n      },\n      immediate: true,\n    },\n    currentMargin1: {\n      handler() { this.marginInMm1 = Math.round(this.currentMargin1); },\n      immediate: true,\n    },\n    currentMargin2: {\n      handler() { this.marginInMm2 = Math.round(this.currentMargin2); },\n      immediate: true,\n    },\n  },\n  methods: {\n    setParams() {\n      if (Math.round(this.outLengthInMm) !== Math.round(this.currentOutLength)) {\n        this.setPoints(this.points.out, this.outLengthInMm, this.currentOutLength);\n      }\n      if (Math.round(this.inLengthInMm) !== Math.round(this.currentInLength)) {\n        this.setPoints(this.points.in, this.inLengthInMm, this.currentInLength);\n      }\n      if (Math.round(this.depthInMm) !== Math.round(this.element.depth)) {\n        const depthPoints = this.points[this.element.type === 'inset' ? 'in' : 'out'];\n        this.setDepth(depthPoints, this.depthInMm, this.element.depth);\n      }\n      if (Math.round(this.marginInMm1) !== Math.round(this.currentMargin1)) {\n        this.setMargin1();\n      } else if (Math.round(this.marginInMm2) !== Math.round(this.currentMargin2)) {\n        this.setMargin2();\n      }\n      this.$store.commit('addLog');\n    },\n    setPoints(pts, newLength, currentLength) {\n      let startVec = new Victor(pts[0].c[0], pts[0].c[1]);\n      let vec = new Victor(pts[1].c[0] - pts[0].c[0], pts[1].c[1] - pts[0].c[1]);\n      const diffLength = Math.abs(newLength - currentLength) / 2;\n      const angle = newLength > currentLength ? 180 : 0;\n      vec = vec.norm().rotateDeg(angle).multiply(new Victor(diffLength, diffLength));\n      startVec = vec.clone().add(startVec);\n      this.setPoint({ id: pts[0].id, c: startVec.toObject() });\n      vec = vec.norm().rotateDeg(angle).multiply(new Victor(newLength, newLength));\n      startVec = vec.clone().add(startVec);\n      this.setPoint({ id: pts[1].id, c: startVec.toObject() });\n    },\n    setPoint(point) {\n      const payload = {\n        i: this.selectedEl.i,\n        j: this.part.points.findIndex((p) => p.id === point.id),\n        point: point.c,\n      };\n      this.$store.dispatch('changePoint', payload);\n    },\n    setDepth(pts, newDepth, currentDepth) {\n      let startVec = new Victor(pts[0].c[0], pts[0].c[1]);\n      let vec = new Victor(pts[1].c[0] - pts[0].c[0], pts[1].c[1] - pts[0].c[1]);\n      const length = vec.length();\n      const diffDepth = Math.abs(newDepth - currentDepth);\n      const k = (newDepth > currentDepth && this.element.type === 'inset')\n        || (newDepth < currentDepth && this.element.type === 'bulge') ? 1 : -1;\n      vec = vec.norm().rotateDeg(90 * k).multiply(new Victor(diffDepth, diffDepth));\n      startVec = vec.clone().add(startVec);\n      this.setPoint({ id: pts[0].id, c: startVec.toObject() });\n      vec = vec.norm().rotateDeg(-90 * k).multiply(new Victor(length, length));\n      startVec = vec.clone().add(startVec);\n      this.setPoint({ id: pts[1].id, c: startVec.toObject() });\n      const { i, j } = this.selectedEl;\n      this.$store.commit('setInsetBulgeDepth', { i, j, depth: newDepth });\n    },\n    setMargin1() {\n      const prevIndex = this.element.pointsIndexes[0] > 0\n        ? this.element.pointsIndexes[0] - 1 : this.part.points.length - 1;\n      const p1 = this.part.points[prevIndex].c;\n      const p2 = this.part.points[this.element.pointsIndexes[0]].c;\n      const vec = new Victor(p2[0] - p1[0], p2[1] - p1[1]);\n      const startVec = new Victor(p1[0], p1[1]);\n      const newCoords = vec.clone().norm()\n        .multiply(new Victor(this.marginInMm1, this.marginInMm1)).add(startVec)\n        .toArray();\n      const diff = { x: newCoords[0] - p2[0], y: newCoords[1] - p2[1] };\n      this.element.pointsIndexes.forEach((index) => {\n        this.$store.dispatch('changePoint', {\n          i: this.selectedEl.i,\n          j: index,\n          point: {\n            x: this.part.points[index].c[0] + diff.x,\n            y: this.part.points[index].c[1] + diff.y,\n          },\n        });\n      });\n    },\n    setMargin2() {\n      const nextIndex = this.element.pointsIndexes[3] < this.part.points.length - 1\n        ? this.element.pointsIndexes[3] + 1 : 0;\n      const p1 = this.part.points[nextIndex].c;\n      const p2 = this.part.points[this.element.pointsIndexes[3]].c;\n      const vec = new Victor(p2[0] - p1[0], p2[1] - p1[1]);\n      const startVec = new Victor(p1[0], p1[1]);\n      const newCoords = vec.clone().norm()\n        .multiply(new Victor(this.marginInMm2, this.marginInMm2)).add(startVec)\n        .toArray();\n      const diff = { x: newCoords[0] - p2[0], y: newCoords[1] - p2[1] };\n      this.element.pointsIndexes.forEach((index) => {\n        this.$store.dispatch('changePoint', {\n          i: this.selectedEl.i,\n          j: index,\n          point: {\n            x: this.part.points[index].c[0] + diff.x,\n            y: this.part.points[index].c[1] + diff.y,\n          },\n        });\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsetBulgeMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsetBulgeMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InsetBulgeMenu.vue?vue&type=template&id=61825c46&\"\nimport script from \"./InsetBulgeMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./InsetBulgeMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"mb-0 text-left\"},[_vm._v(\"Тип\")]),_vm._l((_vm.types),function(type){return _c('div',{key:type.type,staticClass:\"custom-control custom-radio text-left\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedType),expression:\"selectedType\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"radio\",\"id\":type.type},domProps:{\"value\":type.type,\"checked\":_vm._q(_vm.selectedType,type.type)},on:{\"change\":function($event){_vm.selectedType=type.type}}}),_c('label',{staticClass:\"custom-control-label d-flex align-items-center\",attrs:{\"for\":type.type}},[_c('img',{staticClass:\"mx-2\",staticStyle:{\"width\":\"1rem\"},attrs:{\"src\":_vm.files[type.type].src}}),_vm._v(\" \"+_vm._s(type.name)+\" \")])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p class=\"mb-0 text-left\">Тип</p>\n    <div\n      class=\"custom-control custom-radio text-left\"\n      v-for=\"type in types\"\n      :key=\"type.type\">\n      <input\n        type=\"radio\"\n        :id=\"type.type\"\n        :value=\"type.type\"\n        class=\"custom-control-input\"\n        v-model=\"selectedType\">\n      <label\n        class=\"custom-control-label d-flex align-items-center\"\n        :for=\"type.type\">\n        <img :src=\"files[type.type].src\" style=\"width: 1rem;\" class=\"mx-2\">\n        {{ type.name }}\n      </label>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['initType'],\n  data() {\n    return {\n      types: [\n        { name: 'Кромка 1', type: 'empty' },\n        { name: 'Кромка 2', type: 'half' },\n        { name: 'Кромка 3', type: 'full' },\n      ],\n      selectedType: this.initType,\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    files() { return this.$store.state.files.edges; },\n  },\n  watch: {\n    selectedType(nv) {\n      const { i, j } = this.selectedEl;\n      this.$store.commit('setEdgeTagParams', { i, j, edgeType: nv });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EdgeMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EdgeMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EdgeMenu.vue?vue&type=template&id=15bf7d46&\"\nimport script from \"./EdgeMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./EdgeMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"mb-0 text-left\"},[_vm._v(\"Фон\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fill),expression:\"fill\"}],staticClass:\"custom-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.fill=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"Без фона\")]),_vm._l((_vm.fills),function(f){return _c('option',{key:f.type,domProps:{\"value\":f.type}},[_vm._v(_vm._s(f.title))])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p class=\"mb-0 text-left\">Фон</p>\n    <select class=\"custom-select\" v-model=\"fill\">\n      <option :value=\"null\">Без фона</option>\n      <option :value=\"f.type\" v-for=\"f in fills\" :key=\"f.type\">{{ f.title }}</option>\n      <!-- <option value=\"dots\">Точки</option>\n      <option value=\"verticalLines\">Вертикальные линии</option>\n      <option value=\"horizontalLines\">Горизонтальные линии</option>\n      <option value=\"rightDiagonalLines\">Правый штрих</option>\n      <option value=\"leftDiagonalLines\">Левый штрих</option>\n      <option value=\"rightSmallDiagonalLines\">Мелкий штрих</option>\n      <option value=\"rhombus\">Ромб</option> -->\n    </select>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      fill: null,\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    fills() { return this.$store.state.fills; },\n  },\n  watch: {\n    fill(fill) {\n      this.$store.commit('setPartFill', {\n        fill,\n        i: this.selectedEl.i,\n      });\n      this.$store.commit('addLog');\n    },\n    selectedEl(selectedEl) {\n      if (selectedEl.el.fill !== this.fill) this.fill = this.selectedEl.el.fill;\n    },\n  },\n  mounted() {\n    this.fill = this.selectedEl.el.fill;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PartMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PartMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PartMenu.vue?vue&type=template&id=58be55fc&\"\nimport script from \"./PartMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./PartMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-left\"},[_c('p',{staticClass:\"mb-0 text-left\"},[_vm._v(\"Размер шрифта\")]),_vm._l((5),function(i){return _c('button',{key:i,staticClass:\"btn btn-outline-secondary mr-1\",class:{active: _vm.fontSizeK === _vm.sizes[i - 1]},on:{\"click\":function($event){return _vm.setFontSize(i - 1)}}},[_c('font-awesome-icon',{style:({transform: (\"scale(\" + (_vm.sizes[i - 1] / 3) + \")\")}),attrs:{\"icon\":\"font\"}})],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"text-left\">\n    <p class=\"mb-0 text-left\">Размер шрифта</p>\n    <button\n      v-for=\"i in 5\"\n      :key=\"i\"\n      @click=\"setFontSize(i - 1)\"\n      :class=\"{active: fontSizeK === sizes[i - 1]}\"\n      class=\"btn btn-outline-secondary mr-1\">\n      <font-awesome-icon\n        icon=\"font\"\n        :style=\"{transform: `scale(${sizes[i - 1] / 3})`}\" />\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      sizes: [1, 1.5, 2, 2.5, 3],\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    fontSizeK() { return this.selectedEl.el.fontSizeK; },\n  },\n  methods: {\n    setFontSize(i) {\n      if (this.fontSizeK === this.sizes[i]) return;\n      this.$store.commit('setTextParams', {\n        i: this.selectedEl.i,\n        ...this.selectedEl.el,\n        fontSizeK: this.sizes[i],\n      });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextMenu.vue?vue&type=template&id=640f1032&\"\nimport script from \"./TextMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./TextMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setTagLength($event)}}},[_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Длина\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lengthInMm),expression:\"lengthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.lengthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.lengthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group row no-gutters\"},[_c('div',{staticClass:\"col-auto text-left\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Установить\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <form @submit.prevent=\"setTagLength\">\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Длина</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"lengthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <div class=\"col-auto text-left\">\n          <button type=\"submit\" class=\"btn btn-primary\">Установить</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  data() {\n    return {\n      lengthInMm: 0,\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    part() { return this.$store.state.parts.partsInit[this.selectedEl.i]; },\n    element() { return this.selectedEl.el; },\n    elementId() { return this.element.id; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    currentLengthInMm() {\n      const pts = this.element.points;\n      const vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      return Math.round(vec.length() + 6 / this.pxPerMm);\n    },\n  },\n  watch: {\n    currentLengthInMm: {\n      handler() {\n        this.getLength();\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    getLength() {\n      this.lengthInMm = this.currentLengthInMm;\n    },\n    setTagLength() {\n      const pts = this.element.points;\n      const startVec = new Victor(pts[0], pts[1]);\n      const vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      const length = this.lengthInMm - 6 / this.pxPerMm;\n      const newPts = vec.norm().multiply(new Victor(length, length))\n        .add(startVec).toArray();\n      const { i, j } = this.selectedEl;\n      this.$store.commit('setSingleSizeTagParams', {\n        i,\n        j,\n        points: [pts[0], pts[1], newPts[0], newPts[1]],\n      });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleSizeTagMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleSizeTagMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingleSizeTagMenu.vue?vue&type=template&id=8140e6e6&\"\nimport script from \"./SingleSizeTagMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./SingleSizeTagMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-left\"},[_c('p',{staticClass:\"mb-0 text-left\"},[_vm._v(\"Размер\")]),_vm._l((3),function(i){return _c('button',{key:i,staticClass:\"btn btn-outline-secondary mr-1\",class:{active: _vm.sizeK === _vm.sizes[i - 1]},on:{\"click\":function($event){return _vm.setFontSize(i - 1)}}},[_c('font-awesome-icon',{style:({transform: (\"scale(\" + (_vm.sizes[i - 1] / 3) + \")\")}),attrs:{\"icon\":\"font\"}})],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"text-left\">\n    <p class=\"mb-0 text-left\">Размер</p>\n    <button\n      v-for=\"i in 3\"\n      :key=\"i\"\n      @click=\"setFontSize(i - 1)\"\n      :class=\"{active: sizeK === sizes[i - 1]}\"\n      class=\"btn btn-outline-secondary mr-1\">\n      <font-awesome-icon\n        icon=\"font\"\n        :style=\"{transform: `scale(${sizes[i - 1] / 3})`}\" />\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      sizes: [1.2, 1.6, 2],\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    sizeK() { return this.selectedEl.el.sizeK; },\n  },\n  methods: {\n    setFontSize(i) {\n      if (this.sizeK === this.sizes[i]) return;\n      this.$store.commit('setLegendParams', {\n        i: this.selectedEl.i,\n        sizeK: this.sizes[i],\n      });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LegendMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LegendMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LegendMenu.vue?vue&type=template&id=1c847806&\"\nimport script from \"./LegendMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./LegendMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"d-inline-block bg-white p-4 position-absolute element-menu\"\n    v-if=\"element\">\n      <line-border-menu v-if=\"element.type === 'lineBorder'\" />\n      <curve-border-menu v-else-if=\"element.type === 'curveBorder'\" />\n      <inset-bulge-menu v-else-if=\"['inset', 'bulge'].includes(element.type)\" />\n      <edge-menu v-else-if=\"element.type === 'edge'\" :initType=\"element.edgeType\" />\n      <part-menu v-else-if=\"element.type === 'part'\" />\n      <text-menu v-else-if=\"['totalText', 'partText'].includes(element.type)\" />\n      <single-size-tag-menu v-else-if=\"element.type === 'singleSizeTag'\" />\n      <legend-menu v-else-if=\"element.type === 'legend'\" />\n  </div>\n</template>\n\n<script>\nimport LineBorderMenu from './LineBorderMenu.vue';\nimport CurveBorderMenu from './CurveBorderMenu.vue';\nimport InsetBulgeMenu from './InsetBulgeMenu.vue';\nimport EdgeMenu from './EdgeMenu.vue';\nimport PartMenu from './PartMenu.vue';\nimport TextMenu from './TextMenu.vue';\nimport SingleSizeTagMenu from './SingleSizeTagMenu.vue';\nimport LegendMenu from './LegendMenu.vue';\n\nexport default {\n  components: {\n    LineBorderMenu,\n    CurveBorderMenu,\n    InsetBulgeMenu,\n    EdgeMenu,\n    PartMenu,\n    TextMenu,\n    SingleSizeTagMenu,\n    LegendMenu,\n  },\n  computed: {\n    element() { return this.$store.getters.selectedEl.el; },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.element-menu {\n  top: 10%;\n  right: 5%;\n  width: 300px;\n  input {\n    width: 5rem;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementMenu.vue?vue&type=template&id=7abcbef7&\"\nimport script from \"./ElementMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ElementMenu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block bg-white position-absolute logs-menu\"},[_c('button',{ref:\"logBack\",staticClass:\"btn btn-outline-dark mr-2\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabledBack},on:{\"click\":function($event){return _vm.$store.commit('logBack')}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"reply\"}})],1),_c('button',{ref:\"logForward\",staticClass:\"btn btn-outline-dark\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabledForward},on:{\"click\":function($event){return _vm.$store.commit('logForward')}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"share\"}})],1),_c('save')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block\"},[_c('button',{staticClass:\"btn btn-outline-dark ml-2\",attrs:{\"type\":\"button\",\"title\":\"Скачать изображение\"},on:{\"click\":_vm.saveImage}},[_c('font-awesome-icon',{attrs:{\"icon\":\"file-image\"}})],1),_c('button',{staticClass:\"btn btn-outline-dark ml-2\",attrs:{\"type\":\"button\",\"title\":\"Скачать PDF\"},on:{\"click\":_vm.savePDF}},[_c('font-awesome-icon',{attrs:{\"icon\":\"file-pdf\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-inline-block\">\n    <button\n      class=\"btn btn-outline-dark ml-2\"\n      type=\"button\"\n      title=\"Скачать изображение\"\n      @click=\"saveImage\">\n      <font-awesome-icon icon=\"file-image\" />\n    </button>\n    <button\n      class=\"btn btn-outline-dark ml-2\"\n      type=\"button\"\n      title=\"Скачать PDF\"\n      @click=\"savePDF\">\n      <font-awesome-icon icon=\"file-pdf\" />\n    </button>\n  </div>\n</template>\n\n<script>\nimport jsPDF from 'jspdf';\n\nexport default {\n  methods: {\n    getDataUrl() {\n      return new Promise((resolve) => {\n        const { selectedElId } = this.$store.state;\n        if (selectedElId) {\n          this.$store.commit('setSelectedElId', null);\n        }\n        setTimeout(() => {\n          const params = {\n            pixelRatio: 3,\n            mimeType: 'image/jpeg',\n          };\n          resolve(this.$store.state.stage.toDataURL(params));\n          if (selectedElId) {\n            this.$store.commit('setSelectedElId', selectedElId);\n          }\n        }, 0);\n      });\n    },\n    async saveImage() {\n      const dataURL = await this.getDataUrl();\n      const link = document.createElement('a');\n      link.download = 'stage.jpg';\n      link.href = dataURL;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    },\n    async savePDF() {\n      const dataURL = await this.getDataUrl();\n      // eslint-disable-next-line new-cap\n      const pdf = new jsPDF('l', 'mm', 'a4');\n      let width = pdf.internal.pageSize.getWidth();\n      let height = pdf.internal.pageSize.getHeight();\n      const pdfRatio = width / height;\n      const stageRatio = this.$store.state.stage.width() / this.$store.state.stage.height();\n      let top = 0;\n      let left = 0;\n      if (pdfRatio < stageRatio) {\n        height = width / stageRatio;\n        top = (pdf.internal.pageSize.getHeight() - height) / 2;\n      } else {\n        width = height / stageRatio;\n        left = (pdf.internal.pageSize.getWidth() - width) / 2;\n      }\n      pdf.addImage(dataURL, 'JPEG', left, top, width, height);\n      pdf.save('stage.pdf');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Save.vue?vue&type=template&id=40c80ebe&\"\nimport script from \"./Save.vue?vue&type=script&lang=js&\"\nexport * from \"./Save.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"d-inline-block bg-white position-absolute logs-menu\">\n    <button\n      class=\"btn btn-outline-dark mr-2\"\n      type=\"button\"\n      ref=\"logBack\"\n      :disabled=\"disabledBack\"\n      @click=\"$store.commit('logBack')\">\n      <font-awesome-icon icon=\"reply\" />\n    </button>\n    <button\n      class=\"btn btn-outline-dark\"\n      type=\"button\"\n      :disabled=\"disabledForward\"\n      ref=\"logForward\"\n      @click=\"$store.commit('logForward')\">\n      <font-awesome-icon icon=\"share\" />\n    </button>\n    <save />\n  </div>\n</template>\n\n<script>\nimport Save from './Save.vue';\n\nexport default {\n  components: { Save },\n  computed: {\n    logs() { return this.$store.state.logs; },\n    logStep() { return this.$store.state.logStep; },\n    disabledBack() {\n      return !this.logs.length || !this.logStep;\n    },\n    disabledForward() {\n      return this.logStep >= this.logs.length - 1;\n    },\n  },\n  mounted() {\n    window.addEventListener('keydown', (e) => {\n      if (!e.ctrlKey) return;\n      if (e.code === 'KeyZ') {\n        this.$refs.logBack.click();\n      } else if (e.code === 'KeyY') {\n        this.$refs.logForward.click();\n      }\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.logs-menu {\n  top: 10px;\n  left: 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Logs.vue?vue&type=template&id=6ef8575a&\"\nimport script from \"./Logs.vue?vue&type=script&lang=js&\"\nexport * from \"./Logs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Logs.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.style)?_c('div',{staticClass:\"position-absolute\",style:(_vm.style)},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],ref:\"text\",staticClass:\"w-100 h-100\",staticStyle:{\"line-height\":\"1\",\"resize\":\"none\"},domProps:{\"value\":(_vm.text)},on:{\"blur\":_vm.saveText,\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-if=\"style\"\n    class=\"position-absolute\"\n    :style=\"style\">\n    <textarea\n      class=\"w-100 h-100\"\n      @blur=\"saveText\"\n      ref=\"text\"\n      style=\"line-height: 1; resize: none;\"\n      v-model=\"text\">\n    </textarea>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      text: '',\n      width: 0,\n      height: 0,\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    isTextEditMode() { return this.$store.state.isTextEditMode; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    style() {\n      const { el } = this.selectedEl;\n      if (!el || !this.isTextEditMode) return null;\n      if (!['text', 'totalText', 'legend'].includes(el.type)) return null;\n      const sizeK = el.type === 'totalText'\n        ? this.selectedEl.el.fontSizeK : this.selectedEl.el.sizeK;\n      const fontSize = this.$store.state.fontSizeInmM.text * this.pxPerMm * sizeK;\n      let style;\n      if (el.type === 'totalText' || el.type === 'legend') {\n        style = {\n          top: `${el.y * this.pxPerMm}px`,\n          left: `${el.x * this.pxPerMm}px`,\n          fontSize: `${Math.round(fontSize)}px`,\n        };\n        const textNodes = this.$store.state.stage.find('Text');\n        const textNode = textNodes.toArray().find((t) => t.id() === el.id);\n        const width = textNode.width();\n        const height = textNode.height();\n        if (width) style.width = `${width + 30}px`;\n        if (height > fontSize) style.height = `${height + 10}px`;\n        return style;\n      }\n      return null;\n    },\n  },\n  watch: {\n    style(nv) {\n      if (nv) {\n        this.text = this.selectedEl.el.text;\n        setTimeout(() => {\n          this.$refs.text.focus();\n        }, 0);\n      }\n    },\n  },\n  methods: {\n    saveText() {\n      const text = this.text.trim();\n      const { i, j, el } = this.selectedEl;\n      const { type } = el;\n      const payload = { i, j, type };\n      if (!text.length) {\n        const delCommit = el.type === 'totalText' ? 'deleteTextBlock' : 'deleteLegend';\n        this.$store.commit(delCommit, payload);\n        if (el.text.length) {\n          this.$store.commit('addLog');\n        }\n      } else {\n        const setCommit = el.type === 'totalText' ? 'setTextBlock' : 'setLegendParams';\n        const setPayload = el.type === 'totalText' ? { ...payload, text } : { i, text };\n        this.$store.commit(setCommit, setPayload);\n        this.$store.commit('addLog');\n      }\n      this.$store.commit('setTextEditMode', false);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextEdit.vue?vue&type=template&id=f65ae8e6&\"\nimport script from \"./TextEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./TextEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text',{attrs:{\"config\":{\n      type: _vm.text.type,\n      id: _vm.text.id,\n      x: _vm.text.x * this.pxPerMm,\n      y: _vm.text.y * this.pxPerMm,\n      text: _vm.text.text,\n      fontFamily: 'Calibri',\n      fontSize: _vm.fontSize,\n      fill: [_vm.currentElId, _vm.selectedElId].includes(_vm.text.id)\n        ? _vm.selectedColor : 'black',\n      draggable: true,\n      visible: !(_vm.selectedElId === _vm.text.id && _vm.isTextEditMode)\n    }},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"dragend\":_vm.dragend,\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.text.id)},\"dblclick\":_vm.editText,\"contextmenu\":_vm.setContextMenuEvent}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-text\n      :config=\"{\n        type: text.type,\n        id: text.id,\n        x: text.x * this.pxPerMm,\n        y: text.y * this.pxPerMm,\n        text: text.text,\n        fontFamily: 'Calibri',\n        fontSize,\n        fill: [currentElId, selectedElId].includes(text.id)\n          ? selectedColor : 'black',\n        draggable: true,\n        visible: !(selectedElId === text.id && isTextEditMode)\n      }\"\n      @mouseover=\"over = true\"\n      @mouseleave=\"over = false\"\n      @dragend=\"dragend\"\n      @click=\"$store.commit('setSelectedElId', text.id)\"\n      @dblclick=\"editText\"\n      @contextmenu=\"setContextMenuEvent\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['text', 'textIndex'],\n  data() {\n    return {\n      over: false,\n    };\n  },\n  computed: {\n    selectedColor() { return this.$store.state.selectedColor; },\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    fontSize() { return this.$store.state.fontSizeInmM.text * this.pxPerMm * this.text.fontSizeK; },\n    isTextEditMode() { return this.$store.state.isTextEditMode; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n  },\n  watch: {\n    over(over) {\n      if (over) {\n        this.$store.commit('setCursor', 'move');\n        this.$store.commit('setCurrentEl', this.text.id);\n      } else {\n        this.$store.commit('resetCursor');\n        this.$store.commit('setCurrentEl', null);\n      }\n    },\n    contextMenuAction(data) {\n      if (data.textIndex !== this.textIndex) return;\n      if (data.action === 'deleteTotalText') {\n        this.$store.commit('deleteTextBlock', { type: 'totalText', i: data.textIndex });\n        this.$store.commit('addLog');\n      }\n    },\n  },\n  methods: {\n    dragend(e) {\n      const pos = e.target.getPosition();\n      pos.x /= this.pxPerMm;\n      pos.y /= this.pxPerMm;\n      this.$store.commit('setTextParams', { ...this.text, ...pos, i: this.textIndex });\n      this.$store.commit('addLog');\n    },\n    editText() {\n      this.$store.commit('setTextEditMode', true);\n    },\n    setContextMenuEvent(e) {\n      const { textIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, textIndex, type: 'totalText' });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TotalText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TotalText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TotalText.vue?vue&type=template&id=d7e9e812&\"\nimport script from \"./TotalText.vue?vue&type=script&lang=js&\"\nexport * from \"./TotalText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-group',{attrs:{\"config\":{\n      x: _vm.legend.x * this.pxPerMm,\n      y: _vm.legend.y * this.pxPerMm,\n      draggable: true,\n      dragBoundFunc: function dragBoundFunc(pos) {\n        var x = Math.round(pos.x / 10) * 10;\n        var y = Math.round(pos.y / 10) * 10;\n        return { x: x, y: y };\n      },\n    }},on:{\"dragend\":_vm.dragend}},[(_vm.legend.subType.indexOf('edge') === 0)?_c('v-image',{attrs:{\"config\":{\n        image: _vm.$store.state.files.edges[_vm.legend.subType.split('_')[1]],\n        width: _vm.sizeInPx,\n        height: _vm.sizeInPx,\n        offset: { x: _vm.sizeInPx * 1.5, y: _vm.sizeInPx / 6 },\n      }}}):(_vm.legend.subType === 'skirting')?_c('v-rect',{attrs:{\"config\":{\n        width: _vm.sizeInPx,\n        fill: 'black',\n        height: _vm.sizeInPx / 5,\n        offset: { x: _vm.sizeInPx * 1.5, y: -_vm.sizeInPx / 6 },\n      }}}):(['color', 'noBg'].includes(_vm.legend.subType))?_c('v-rect',{attrs:{\"config\":{\n        width: _vm.sizeInPx,\n        stroke: 'black',\n        strokeWidth: 1,\n        fill: _vm.legend.subType === 'color' ? 'rgb(200,200,200)' : 'white',\n        height: _vm.sizeInPx,\n        offset: { x: _vm.sizeInPx * 1.5, y: _vm.sizeInPx / 6 },\n      }}}):_c('v-rect',{attrs:{\"config\":{\n        width: _vm.sizeInPx,\n        stroke: 'black',\n        strokeWidth: 1,\n        fill: 'white',\n        fillPatternImage: _vm.fills({ type: _vm.legend.subType, color: 'rgb(150,150,150)' }),\n        fillPriority: 'pattern',\n        height: _vm.sizeInPx,\n        offset: { x: _vm.sizeInPx * 1.5, y: _vm.sizeInPx / 6 },\n      }}}),_c('v-text',{attrs:{\"config\":{\n        type: 'legend',\n        id: _vm.legend.id,\n        text: _vm.legend.text,\n        fontFamily: 'Calibri',\n        fontSize: _vm.fontSize,\n        fill: [_vm.currentElId, _vm.selectedElId].includes(_vm.legend.id)\n          ? _vm.selectedColor : 'black',\n        visible: !(_vm.selectedElId === _vm.legend.id && _vm.isTextEditMode)\n      }},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.legend.id)},\"dblclick\":_vm.editText,\"contextmenu\":_vm.setContextMenuEvent}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-group\n      :config=\"{\n        x: legend.x * this.pxPerMm,\n        y: legend.y * this.pxPerMm,\n        draggable: true,\n        dragBoundFunc(pos) {\n          const x = Math.round(pos.x / 10) * 10;\n          const y = Math.round(pos.y / 10) * 10;\n          return { x, y };\n        },\n      }\"\n      @dragend=\"dragend\">\n      <v-image\n        v-if=\"legend.subType.indexOf('edge') === 0\"\n        :config=\"{\n          image: $store.state.files.edges[legend.subType.split('_')[1]],\n          width: sizeInPx,\n          height: sizeInPx,\n          offset: { x: sizeInPx * 1.5, y: sizeInPx / 6 },\n        }\" />\n      <v-rect\n        v-else-if=\"legend.subType === 'skirting'\"\n        :config=\"{\n          width: sizeInPx,\n          fill: 'black',\n          height: sizeInPx / 5,\n          offset: { x: sizeInPx * 1.5, y: -sizeInPx / 6 },\n        }\" />\n      <v-rect\n        v-else-if=\"['color', 'noBg'].includes(legend.subType)\"\n        :config=\"{\n          width: sizeInPx,\n          stroke: 'black',\n          strokeWidth: 1,\n          fill: legend.subType === 'color' ? 'rgb(200,200,200)' : 'white',\n          height: sizeInPx,\n          offset: { x: sizeInPx * 1.5, y: sizeInPx / 6 },\n        }\" />\n      <v-rect\n        v-else\n        :config=\"{\n          width: sizeInPx,\n          stroke: 'black',\n          strokeWidth: 1,\n          fill: 'white',\n          fillPatternImage: fills({ type: legend.subType, color: 'rgb(150,150,150)' }),\n          fillPriority: 'pattern',\n          height: sizeInPx,\n          offset: { x: sizeInPx * 1.5, y: sizeInPx / 6 },\n        }\" />\n      <v-text\n        :config=\"{\n          type: 'legend',\n          id: legend.id,\n          text: legend.text,\n          fontFamily: 'Calibri',\n          fontSize,\n          fill: [currentElId, selectedElId].includes(legend.id)\n            ? selectedColor : 'black',\n          visible: !(selectedElId === legend.id && isTextEditMode)\n        }\"\n        @mouseover=\"over = true\"\n        @mouseleave=\"over = false\"\n        @click=\"$store.commit('setSelectedElId', legend.id)\"\n        @dblclick=\"editText\"\n        @contextmenu=\"setContextMenuEvent\" />\n    </v-group>\n  </div>\n</template>\n\n<script>\nimport fills from '../../modules/fills';\n\nexport default {\n  props: ['legend', 'legendIndex'],\n  data() {\n    return {\n      over: false,\n      sizeInMm: 120,\n      fills,\n    };\n  },\n  computed: {\n    selectedColor() { return this.$store.state.selectedColor; },\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    fontSize() {\n      return this.$store.state.fontSizeInmM.text * this.pxPerMm * this.legend.sizeK;\n    },\n    isTextEditMode() { return this.$store.state.isTextEditMode; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    sizeInPx() { return this.sizeInMm * this.pxPerMm * this.legend.sizeK; },\n  },\n  watch: {\n    over(over) {\n      if (over) {\n        this.$store.commit('setCursor', 'move');\n        this.$store.commit('setCurrentEl', this.legend.id);\n      } else {\n        this.$store.commit('resetCursor');\n        this.$store.commit('setCurrentEl', null);\n      }\n    },\n    contextMenuAction(data) {\n      if (data.legendIndex !== this.legendIndex) return;\n      if (data.action === 'deleteLegend') {\n        setTimeout(() => {\n          this.$store.commit('deleteLegend', { i: data.legendIndex });\n          this.$store.commit('addLog');\n        }, 0);\n      }\n    },\n    // legend: {\n    //   handler() {\n    //     console.log('legend');\n    //   },\n    //   deep: true,\n    // },\n  },\n  methods: {\n    dragend(e) {\n      const pos = e.target.getPosition();\n      pos.x /= this.pxPerMm;\n      pos.y /= this.pxPerMm;\n      this.$store.commit('setLegendParams', { ...this.legend, ...pos, i: this.legendIndex });\n      this.$store.commit('addLog');\n    },\n    editText() {\n      this.$store.commit('setTextEditMode', true);\n    },\n    setContextMenuEvent(e) {\n      const { legendIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, legendIndex });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Legend.vue?vue&type=template&id=0dad2df5&\"\nimport script from \"./Legend.vue?vue&type=script&lang=js&\"\nexport * from \"./Legend.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"modal\",staticClass:\"modal\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered modal-lg\"},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"row justify-content-center\"},_vm._l((_vm.sws),function(sw){return _c('div',{key:sw.name,staticClass:\"col-3 border border-dark rounded m-2 p-2\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.addSw(sw)}}},[_c('div',{staticClass:\"text-center\"},[_c('img',{staticStyle:{\"width\":\"5rem\"},attrs:{\"src\":require((\"../../../assets/img/sinksWashings/\" + (sw.name) + \".svg\")),\"alt\":\"раковина\"}})])])}),0)]),_vm._m(1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"Выберите мойку / раковину\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Отмена\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"}},[_vm._v(\"Выбрать\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal\" ref=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">Выберите мойку / раковину</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row justify-content-center\">\n            <div\n            class=\"col-3 border border-dark rounded m-2 p-2\"\n            style=\"cursor: pointer;\"\n            v-for=\"sw in sws\"\n            :key=\"sw.name\"\n            @click=\"addSw(sw)\">\n              <div class=\"text-center\">\n                <img\n                  :src=\"require(`../../../assets/img/sinksWashings/${sw.name}.svg`)\"\n                  alt=\"раковина\"\n                  style=\"width: 5rem;\">\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Отмена</button>\n          <button type=\"button\" class=\"btn btn-primary\">Выбрать</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\nimport getId from '../../../mixins/getId';\n\nexport default {\n  mixins: [getId],\n  props: ['trigger'],\n  data() {\n    return {\n      sws: [\n        { name: 410, h: 433, w: 517 },\n        { name: 813, h: 523, w: 530 },\n        { name: 851, h: 523, w: 435 },\n        { name: 853, h: 465, w: 328 },\n        { name: 855, h: 419, w: 490 },\n        { name: 871, h: 528, w: 631 },\n      ],\n    };\n  },\n  computed: {\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    canvasWidthInMm() { return this.$store.state.canvasWidthInMm; },\n    canvasHeightInMm() { return this.$store.state.canvasHeightInMm; },\n  },\n  watch: {\n    trigger() {\n      $(this.$refs.modal).modal('show');\n    },\n  },\n  methods: {\n    addSw(sw) {\n      $(this.$refs.modal).modal('hide');\n      this.$store.commit('addWashing', {\n        i: this.trigger.partIndex,\n        id: this.getId(),\n        subType: sw.name,\n        height: sw.h,\n        width: sw.w,\n        type: 'sw',\n        x: this.trigger.left - this.trigger.partPosition.x / this.pxPerMm,\n        y: this.trigger.top - this.trigger.partPosition.y / this.pxPerMm,\n      });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddWashing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddWashing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddWashing.vue?vue&type=template&id=03b8a2f8&\"\nimport script from \"./AddWashing.vue?vue&type=script&lang=js&\"\nexport * from \"./AddWashing.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div style=\"margin-bottom: 300px;\" class=\"position-relative\">\n    <div ref=\"nocontext\">\n      <context-menu />\n      <v-stage\n        :config=\"{\n          width: canvasWidthInPx,\n          height: 500,\n          type: 'stage',\n        }\"\n        ref=\"stage\">\n        <v-layer>\n          <v-rect\n            :config=\"{\n              x: 0,\n              y: 0,\n              width: canvasWidthInPx,\n              height: 500,\n              fill: 'white',\n              type: 'bgRect',\n              fillPatternImage: bgPattern,\n              fillPriority: 'pattern',\n              fillPatternScale: { x: 0.35, y: 0.35 },\n            }\"\n            @click=\"deselect\" />\n          <part\n            v-for=\"(part, i) in parts\"\n            :key=\"part.id\"\n            :partIndex=\"i\"\n            :part=\"part\" />\n          <total-text\n            v-for=\"(text, i) in totalTexts\"\n            :key=\"text.id\"\n            :textIndex=\"i\"\n            :text=\"text\" />\n          <legends\n            v-for=\"(legend, index) in legends\"\n            :key=\"legend.id\"\n            :legend=\"legend\"\n            :legendIndex=\"index\" />\n        </v-layer>\n      </v-stage>\n    </div>\n    <element-menu />\n    <logs />\n    <text-edit />\n    <add-washing :trigger=\"addWashingTrigger\" />\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\nimport ContextMenu from './ContextMenu.vue';\nimport getId from '../../mixins/getId';\nimport Part from './Part.vue';\nimport ElementMenu from '../manage/element-menu/ElementMenu.vue';\nimport Logs from '../manage/Logs.vue';\nimport TextEdit from '../manage/TextEdit.vue';\nimport TotalText from './TotalText.vue';\nimport Legends from './Legend.vue';\nimport AddWashing from '../manage/add-menu/AddWashing.vue';\nimport fills from '../../modules/fills';\n\nexport default {\n  mixins: [getId],\n  components: {\n    ContextMenu, Part, ElementMenu, Logs, TextEdit, TotalText, Legends, AddWashing,\n  },\n  data() {\n    return {\n      content: '',\n      editorOptions: {\n        placeholder: 'Введите текст',\n      },\n      addWashingTrigger: {},\n      bgPattern: null,\n    };\n  },\n  computed: {\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    parts() { return this.$store.state.parts.partsInit; },\n    totalTexts() { return this.$store.state.parts.totalTexts; },\n    legends() { return this.$store.state.parts.legends; },\n    canvasHeightInMm() { return this.$store.state.canvasHeightInMm; },\n    canvasWidthInMm() { return this.$store.state.canvasWidthInMm; },\n    canvasWidthInPx() {\n      return this.canvasWidthInMm ? this.canvasWidthInMm * this.pxPerMm : 0;\n    },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    cursor() { return this.$store.state.cursor; },\n    selectedEl() { return this.$store.getters.selectedEl; },\n  },\n  watch: {\n    cursor(cursor) {\n      this.$refs.stage.getNode().container().style.cursor = cursor;\n    },\n    contextMenuAction(data) {\n      if (data.action === 'addWashing') {\n        const { position } = this.parts[data.partIndex];\n        this.addWashingTrigger = { ...data, partPosition: position || { x: 0, y: 0 } };\n      }\n    },\n  },\n  mounted() {\n    const pxPerMm = this.$el.clientHeight / this.canvasHeightInMm;\n    this.$store.commit('setPxPerMm', pxPerMm);\n    const canvasWidthInMm = this.$el.clientWidth / pxPerMm;\n    this.$store.commit('setCanvasWidthInMm', canvasWidthInMm);\n    const widthInMm = 1000;\n    const heightInMm = 2000;\n    const startPoint = [\n      (canvasWidthInMm - widthInMm) / 2,\n      (this.canvasHeightInMm - heightInMm) / 2,\n    ];\n    const part = {\n      id: this.getId(),\n      position: { x: 0, y: 0 },\n      fill: null,\n      type: 'part',\n      insetsBulges: [],\n      texts: [],\n      singleSizeTags: [],\n      washings: [],\n      points: [\n        { id: this.getId(), c: startPoint, angleTag: {} },\n        { id: this.getId(), c: [startPoint[0] + widthInMm, startPoint[1]], angleTag: {} },\n        {\n          id: this.getId(),\n          c: [startPoint[0] + widthInMm, startPoint[1] + heightInMm],\n          angleTag: {},\n        },\n        { id: this.getId(), c: [startPoint[0], startPoint[1] + heightInMm], angleTag: {} },\n      ],\n    };\n    part.borders = part.points.map(() => (\n      {\n        id: this.getId(),\n        type: 'lineBorder',\n        sizeTag: { isShown: true },\n        radiusPosition: 'usual',\n      }\n    ));\n    this.$store.dispatch('addPart', part);\n    this.$store.commit('addLog');\n    $(this.$refs.nocontext).on('contextmenu', (e) => e.preventDefault());\n    this.$store.commit('setStage', this.$refs.stage.getNode());\n    this.bgPattern = fills({ type: 'square', color: 'rgb(235,235,235)' });\n    window.addEventListener('keypress', (e) => {\n      if (e.code !== 'Delete' || !this.selectedEl.el) return;\n      let action;\n      switch (this.selectedEl.el.type) {\n        case 'part':\n          action = { action: 'deletePart', partIndex: this.selectedEl.i };\n          break;\n        case 'totalText':\n          action = { action: 'deleteTotalText', textIndex: this.selectedEl.i };\n          break;\n        default:\n          return;\n      }\n      this.$store.commit('setContextMenuAction', action);\n    });\n  },\n  methods: {\n    deselect(e) {\n      if (e.target.attrs.type === 'bgRect') {\n        this.$store.commit('setSelectedElId', null);\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Konva.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Konva.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Konva.vue?vue&type=template&id=545c01d5&\"\nimport script from \"./Konva.vue?vue&type=script&lang=js&\"\nexport * from \"./Konva.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <template v-if=\"isMounted\">\n      <konva />\n    </template>\n  </div>\n</template>\n\n<script>\nimport Konva from './canvas/Konva.vue';\n\nexport default {\n  components: {\n    Konva,\n  },\n  data() {\n    return {\n      isMounted: false,\n    };\n  },\n  mounted() {\n    this.isMounted = true;\n    // const ctrl = ['ControlLeft', 'ControlRight'];\n    // window.addEventListener('keydown', (e) => {\n    //   if (ctrl.includes(e.code)) {\n    //     this.$store.commit('changeControlPressed', true);\n    //   }\n    // });\n    // window.addEventListener('keyup', (e) => {\n    //   if (ctrl.includes(e.code)) {\n    //     this.$store.commit('changeControlPressed', false);\n    //   }\n    // });\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=e810eec2&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=js&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container mt-5\">\n    <manage />\n    <Canvas />\n  </div>\n</template>\n\n<script>\nimport Manage from './Manage.vue';\nimport Canvas from './Canvas.vue';\n\nexport default {\n  components: {\n    Manage,\n    Canvas,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Drawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Drawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Drawer.vue?vue&type=template&id=3375c4b3&\"\nimport script from \"./Drawer.vue?vue&type=script&lang=js&\"\nexport * from \"./Drawer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"modal\",staticClass:\"modal\",attrs:{\"id\":\"confirm_modal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\",\"data-result\":_vm.result}},[_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"}),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-body text-left\",staticStyle:{\"white-space\":\"pre-wrap\"}}),_c('div',{staticClass:\"modal-footer\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"modal\"\n    id=\"confirm_modal\"\n    ref=\"modal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalCenterTitle\"\n    aria-hidden=\"true\"\n    :data-result=\"result\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\"></h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body text-left\" style=\"white-space: pre-wrap;\">\n        </div>\n        <div class=\"modal-footer\">\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\n\nexport default {\n  data() {\n    return {\n      result: 0,\n    };\n  },\n  mounted() {\n    $(this.$refs.modal)\n      .on('show.bs.modal', () => {\n        this.result = 0;\n        if ($(this.$refs.modal).find('input').length) {\n          setTimeout(() => {\n            $(this.$refs.modal).find('input').trigger('focus');\n          }, 0);\n        }\n      })\n      .on('keypress', 'input', (e) => {\n        if (['Enter', 'NumpadEnter'].includes(e.code)) {\n          $(this.$refs.modal).find('.modal-footer > button[data-action=1]').click();\n        }\n      });\n    $(this.$refs.modal).on('click', '.modal-footer > button', (e) => {\n      this.result = Number($(e.target).attr('data-action'));\n      setTimeout(() => {\n        $(this.$refs.modal).modal('hide');\n      }, 0);\n    });\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmModal.vue?vue&type=template&id=613a86da&\"\nimport script from \"./ConfirmModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <drawer />\n    <confirm-modal />\n  </div>\n</template>\n\n<script>\nimport 'bootstrap';\nimport Drawer from './components/Drawer.vue';\nimport ConfirmModal from './components/manage/ConfirmModal.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    Drawer,\n    ConfirmModal,\n  },\n  created() {\n    this.$store.dispatch('downloadImages');\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"~bootstrap/scss/bootstrap\";\n@import '~toastr/toastr.scss';\n\n.toast {\n  opacity: 1 !important;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n@media (min-width: 576px) {\n  .container {\n      max-width: 576px;\n  }\n}\n@media (min-width: 768px) {\n  .container {\n      max-width: 768px;\n  }\n}\n@media (min-width: 992px) {\n  .container {\n      max-width: 992px;\n  }\n}\n@media (min-width: 1200px) {\n  .container {\n      max-width: 1200px;\n  }\n}\n@media (min-width: 1400px) {\n  .container {\n      max-width: 1400px;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=28d0a0e5&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\n\nconst clone = (a) => JSON.parse(JSON.stringify(a));\n\nexport default {\n  state: {\n    partsInit: [],\n    totalTexts: [],\n    legends: [],\n    boundingBoxes: [],\n    refreshSelectedElTrigger: 0,\n    defaultEdgeType: 'empty',\n  },\n  getters: {\n    canvasSizeInPx(state, getters, rootState) {\n      const { canvasHeightInMm, canvasWidthInMm, pxPerMm } = rootState;\n      const size = { width: 0, height: 0 };\n      if (canvasWidthInMm) {\n        size.width = canvasWidthInMm * pxPerMm;\n        size.height = canvasHeightInMm * pxPerMm;\n      }\n      return size;\n    },\n    selectedEl(state, getters, rootState) {\n      const id = rootState.selectedElId;\n      if (!id) return {};\n      let selectedEl = {};\n      state.partsInit.some((part, i) => {\n        if (part.id === id) {\n          selectedEl = { i, el: part };\n          return true;\n        }\n        let type = 'points';\n        let subType = null;\n        let j = part.points.findIndex((p) => p.id === id);\n        if (j < 0) {\n          subType = null;\n          type = 'borders';\n          j = part.borders.findIndex((p) => p.id === id);\n        }\n        if (j < 0) {\n          subType = 'edgeTag';\n          type = 'borders';\n          j = part.borders.findIndex((p) => p.edgeTag && p.edgeTag.id === id);\n        }\n        if (j < 0 && part.insetsBulges) {\n          subType = null;\n          type = 'insetsBulges';\n          j = part.insetsBulges.findIndex((p) => p.id === id);\n        }\n        if (j < 0 && part.texts && part.texts.length) {\n          subType = null;\n          type = 'texts';\n          j = part.texts.findIndex((p) => p.id === id);\n        }\n        if (j < 0 && part.singleSizeTags && part.singleSizeTags.length) {\n          subType = null;\n          type = 'singleSizeTags';\n          j = part.singleSizeTags.findIndex((p) => p.id === id);\n        }\n        if (j < 0) return false;\n        selectedEl = { i, j, el: subType ? part[type][j][subType] : part[type][j] };\n        return true;\n      });\n      if (!Object.keys(selectedEl).length && state.totalTexts.length) {\n        const index = state.totalTexts.findIndex((t) => t.id === id);\n        if (index >= 0) selectedEl = { i: index, el: state.totalTexts[index] };\n      }\n      if (!Object.keys(selectedEl).length && state.legends.length) {\n        const index = state.legends.findIndex((t) => t.id === id);\n        if (index >= 0) selectedEl = { i: index, el: state.legends[index] };\n      }\n      return selectedEl;\n    },\n  },\n  mutations: {\n    addPart(state, part) {\n      state.partsInit.push(part);\n    },\n    movePoint(state, { partIndex, pointIndex, c }) {\n      Vue.set(state.partsInit[partIndex].points[pointIndex], 'c', c);\n    },\n    addPoint(state, payload) {\n      const { i, j, point } = payload;\n      const { border } = payload;\n      border.sizeTag = { isShown: true };\n      border.edgeTag = { isShown: false };\n      point.angleTag = { isShown: false };\n      state.partsInit[i].points.splice(j, 0, point);\n      state.partsInit[i].borders.splice(j, 0, border);\n    },\n    deletePoint(state, { i, j }) {\n      state.partsInit[i].points.splice(j, 1);\n      const borderIndex = j > 0 ? j - 1 : state.partsInit[i].borders.length - 1;\n      state.partsInit[i].borders.splice(borderIndex, 1);\n    },\n    makeBorderCurve(state, data) {\n      const { partIndex, borderIndex, radius } = data;\n      const border = clone(state.partsInit[partIndex].borders[borderIndex]);\n      Vue.set(state.partsInit[partIndex].borders, borderIndex, Object.assign(border, {\n        type: 'curveBorder',\n        radius,\n        isInside: data.isInside,\n        radiusTag: { isShown: true },\n        edgeTag: { isShown: false },\n        sizeTag: { isShown: false },\n      }));\n    },\n    makeBorderLine(state, data) {\n      const { partIndex, borderIndex } = data;\n      const border = clone(state.partsInit[partIndex].borders[borderIndex]);\n      delete border.radius;\n      delete border.isInside;\n      border.type = 'lineBorder';\n      border.radiusTag = { isShown: false };\n      border.edgeTag = { isShown: false };\n      border.sizeTag = { isShown: true };\n      Vue.set(state.partsInit[partIndex].borders, borderIndex, border);\n    },\n    addInsetBulge(state, payload) {\n      const { partIndex, ...params } = payload;\n      const iB = { ...params, type: payload.type, pointsIndexes: [] };\n      // const insetsBulges = state.partsInit[partIndex].insetsBulges || [];\n      // insetsBulges.push({ ...params, type: payload.type });\n      // Vue.set(state.partsInit[partIndex], 'insetsBulges', insetsBulges);\n      state.partsInit[partIndex].insetsBulges.push(iB);\n    },\n    setInsetBulgeDepth(state, { i, j, depth }) {\n      Vue.set(state.partsInit[i].insetsBulges[j], 'depth', depth);\n    },\n    deleteInsetBulge(state, { i, j }) {\n      state.partsInit[i].insetsBulges.splice(j, 1);\n    },\n    refreshSelectedEl(state) {\n      setTimeout(() => {\n        state.refreshSelectedElTrigger = Math.random();\n      }, 0);\n    },\n    changePoint(state, payload) {\n      const { i, j, point } = payload;\n      Vue.set(state.partsInit[i].points[j], 'c', [point.x, point.y]);\n    },\n    changeRadius(state, payload) {\n      const { i, j, radius } = payload;\n      Vue.set(state.partsInit[i].borders[j], 'radius', radius);\n    },\n    setPartPosition(state, { i, pos }) { Vue.set(state.partsInit[i], 'position', pos); },\n    toggleSkirting(state, { i, j }) {\n      Vue.set(state.partsInit[i].borders[j], 'skirting', !state.partsInit[i].borders[j].skirting);\n    },\n    setRadiusTagParams(state, { i, j, ...payload }) {\n      state.partsInit[i].borders[j].radiusTag = payload;\n    },\n    setEdgeTagParams(state, { i, j, ...payload }) {\n      let edgeTag;\n      if (payload.isShown === false) {\n        edgeTag = {};\n      } else {\n        edgeTag = state.partsInit[i].borders[j].edgeTag || {};\n        Object.assign(edgeTag, { edgeType: state.defaultEdgeType, type: 'edge' });\n      }\n      Vue.set(state.partsInit[i].borders[j], 'edgeTag', { ...edgeTag, ...payload });\n      if (payload.edgeType) state.defaultEdgeType = payload.edgeType;\n    },\n    setSizeTagParams(state, { i, j, ...payload }) {\n      state.partsInit[i].borders[j].sizeTag = payload;\n    },\n    setAngleTagParams(state, { i, j, ...payload }) {\n      Vue.set(state.partsInit[i].points[j], 'angleTag', payload);\n    },\n    setPartFill(state, { i, fill }) {\n      Vue.set(state.partsInit[i], 'fill', fill);\n    },\n    deletePart(state, partIndex) {\n      state.partsInit.splice(partIndex, 1);\n      state.boundingBoxes.splice(partIndex, 1);\n    },\n    addTextBlock(state, payload) {\n      const { i, ...params } = payload;\n      if (payload.type === 'totalText') {\n        state.totalTexts.push({ ...params });\n      } else {\n        if (!state.partsInit[i].texts) Vue.set(state.partsInit[i], 'texts', []);\n        state.partsInit[i].texts.push({ ...params });\n      }\n    },\n    setTextBlock(state, payload) {\n      if (payload.type === 'totalText') {\n        Vue.set(state.totalTexts[payload.i], 'text', payload.text);\n      } else {\n        Vue.set(state.partsInit[payload.i].texts[payload.j], 'text', payload.text);\n      }\n    },\n    deleteTextBlock(state, payload) {\n      if (payload.type === 'totalText') {\n        state.totalTexts.splice(payload.i, 1);\n      } else {\n        state.partsInit[payload.i].texts.splice(payload.j, 1);\n      }\n    },\n    setTextParams(state, { i, j, ...payload }) {\n      if (payload.type === 'totalText') {\n        Vue.set(state.totalTexts, i, payload);\n      } else {\n        Vue.set(state.partsInit[i].texts[payload.j], 'x', payload.text);\n      }\n    },\n    setBoundingBox(state, { i, bb }) {\n      Vue.set(state.boundingBoxes, i, bb);\n    },\n    assignBordersPointsIds(state, partIndex) {\n      const { points, borders, insetsBulges } = state.partsInit[partIndex];\n      points.forEach((point, i) => {\n        const next = i < points.length - 1 ? i + 1 : 0;\n        state.partsInit[partIndex].borders[i].pointsId = [point.id, points[next].id];\n        state.partsInit[partIndex].borders[i].pointsIndexes = [i, next];\n        const prev = i ? i - 1 : points.length - 1;\n        state.partsInit[partIndex].points[i].bordersId = [borders[prev].id, borders[i].id];\n        state.partsInit[partIndex].points[i].bordersIndexes = [prev, i];\n      });\n      insetsBulges.forEach((iB, j) => {\n        const pointsIndexes = iB.pointsId.map((id) => points.findIndex((p) => p.id === id));\n        state.partsInit[partIndex].insetsBulges[j].pointsIndexes = pointsIndexes;\n      });\n    },\n    addSingleSizeTag(state, { i, ...params }) {\n      state.partsInit[i].singleSizeTags.push(params);\n    },\n    setSingleSizeTagParams(state, { i, j, ...params }) {\n      Object.assign(state.partsInit[i].singleSizeTags[j], params);\n    },\n    deleteSingleSizeTag(state, { i, j }) {\n      state.partsInit[i].singleSizeTags.splice(j, 1);\n    },\n    addLegend(state, legend) {\n      state.legends.push(legend);\n    },\n    setLegendParams(state, { i, ...params }) {\n      Object.assign(state.legends[i], params);\n    },\n    deleteLegend(state, { i }) {\n      state.legends.splice(i, 1);\n    },\n    addWashing(state, { i, ...params }) { state.partsInit[i].washings.push(params); },\n    setWashingParams(state, { i, j, ...params }) {\n      Object.assign(state.partsInit[i].washings[j], params);\n    },\n    deleteWashing(state, { i, j }) { state.partsInit[i].washings.splice(j, 1); },\n  },\n  actions: {\n    addPart({ commit, state }, part) {\n      commit('addPart', part);\n      commit('assignBordersPointsIds', state.partsInit.length - 1);\n    },\n    addPoint({ commit }, payload) {\n      commit('addPoint', payload);\n      commit('assignBordersPointsIds', payload.i);\n    },\n    deletePoint({ commit }, payload) {\n      commit('deletePoint', payload);\n      commit('assignBordersPointsIds', payload.i);\n    },\n    refreshSelectedEl({ commit, rootState }) {\n      if (rootState.selectedEl) commit('refreshSelectedEl');\n    },\n    makeBorderCurve({ commit, dispatch }, payload) {\n      commit('makeBorderCurve', payload);\n      dispatch('refreshSelectedEl');\n    },\n    makeBorderLine({ commit, dispatch }, payload) {\n      commit('makeBorderLine', payload);\n      dispatch('refreshSelectedEl');\n    },\n    changePoint({ commit }, payload) { commit('changePoint', payload); },\n    changeRadius({ commit }, payload) { commit('changeRadius', payload); },\n    addTextBlock({ commit }, payload) {\n      commit('addTextBlock', payload);\n      commit('setSelectedElId', payload.id);\n      commit('setTextEditMode', true);\n    },\n    addInsetBulge({ commit }, payload) {\n      commit('addInsetBulge', payload);\n      commit('assignBordersPointsIds', payload.partIndex);\n    },\n    deleteInsetBulge({ commit }, payload) {\n      commit('deleteInsetBulge', payload);\n      commit('assignBordersPointsIds', payload.i);\n    },\n  },\n};\n","/* eslint-disable global-require */\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport PartsModule from './parts';\n\nVue.use(Vuex);\nconst clone = (a) => JSON.parse(JSON.stringify(a));\n\nexport default new Vuex.Store({\n  state: {\n    stage: null,\n    canvasHeightInMm: 4000,\n    pxPerMm: 0,\n    contextMenuEvent: null,\n    cursor: 'default',\n    contextMenuAction: {},\n    selectedElId: null,\n    currentElId: null,\n    id: 0,\n    fontSizeInmM: {\n      sizeArrow: 90,\n      radius: 90,\n      text: 90,\n    },\n    files: { edges: {}, fills: {}, washings: {} },\n    logs: [{ parts: [], totalTexts: [], legends: [] }],\n    logStep: 0,\n    dash: [1, 2],\n    selectedColor: '#536dfe',\n    isTextEditMode: false,\n    showAllConsoleLogs: false,\n    fills: [\n      { type: 'color', title: 'Цвет' },\n      { type: 'dots', title: 'Точки' },\n      { type: 'verticalLines', title: 'Вертикальные линии' },\n      { type: 'horizontalLines', title: 'Горизонтальные линии' },\n      { type: 'rightDiagonalLines', title: 'Правый штрих' },\n      { type: 'leftDiagonalLines', title: 'Левый штрих' },\n      { type: 'rightSmallDiagonalLines', title: 'Мелкий штрих' },\n      { type: 'rhombus', title: 'Ромб' },\n    ],\n  },\n  getters: {\n    gridSize() { return 10; },\n  },\n  mutations: {\n    setStage(state, stage) { state.stage = stage; },\n    setPxPerMm(state, pxPerMm) { state.pxPerMm = pxPerMm; },\n    setCanvasWidthInMm(state, width) { Vue.set(state, 'canvasWidthInMm', width); },\n    setContextMenuEvent(state, payload) { state.contextMenuEvent = payload; },\n    setContextMenuAction(state, payload) { state.contextMenuAction = payload; },\n    setSelectedElId(state, id) { state.selectedElId = id; },\n    setCurrentEl(state, id) { state.currentElId = id; },\n    incrementId(state) { state.id += 1; },\n    addFile(state, file) {\n      Vue.set(state.files[file.type], file.name, file.image);\n    },\n    setCursor(state, cursor) { state.cursor = cursor; },\n    resetCursor(state) { state.cursor = 'default'; },\n    addLog(state) {\n      state.logStep += 1;\n      state.logs[state.logStep] = {\n        parts: clone(state.parts.partsInit),\n        totalTexts: clone(state.parts.totalTexts),\n        legends: clone(state.parts.legends),\n      };\n      state.logs.splice(state.logStep + 1);\n    },\n    logBack(state) {\n      state.selectedElId = null;\n      state.contextMenuEvent = null;\n      state.parts.partsInit = clone(state.logs[state.logStep - 1].parts);\n      state.parts.totalTexts = clone(state.logs[state.logStep - 1].totalTexts);\n      state.parts.legends = clone(state.logs[state.logStep - 1].legends);\n      state.logStep -= 1;\n    },\n    logForward(state) {\n      state.selectedElId = null;\n      state.contextMenuEvent = null;\n      state.logStep += 1;\n      state.parts.partsInit = clone(state.logs[state.logStep].parts);\n      state.parts.totalTexts = clone(state.logs[state.logStep].totalTexts);\n      state.parts.legends = clone(state.logs[state.logStep].legends);\n    },\n    setTextEditMode(state, isTextEditMode) { state.isTextEditMode = isTextEditMode; },\n  },\n  actions: {\n    downloadImages({ commit }) {\n      const files = {\n        edges: {\n          empty: require('../assets/img/edges/edge_empty.svg'),\n          half: require('../assets/img/edges/edge_half.svg'),\n          full: require('../assets/img/edges/edge_full.svg'),\n          emptyHover: require('../assets/img/edges/edge_empty_hover.svg'),\n          halfHover: require('../assets/img/edges/edge_half_hover.svg'),\n          fullHover: require('../assets/img/edges/edge_full_hover.svg'),\n        },\n        washings: {\n          410: require('../assets/img/sinksWashings/410.svg'),\n          813: require('../assets/img/sinksWashings/813.svg'),\n          851: require('../assets/img/sinksWashings/851.svg'),\n          853: require('../assets/img/sinksWashings/853.svg'),\n          855: require('../assets/img/sinksWashings/855.svg'),\n          871: require('../assets/img/sinksWashings/871.svg'),\n        },\n      };\n      Object.keys(files).forEach((type) => {\n        Object.keys(files[type]).forEach((name) => {\n          const image = new Image();\n          image.onload = (e) => {\n            commit('addFile', {\n              type,\n              name,\n              image: e.target,\n            });\n          };\n          image.src = files[type][name];\n        });\n      });\n    },\n  },\n  modules: {\n    parts: PartsModule,\n  },\n});\n","import Vue from 'vue';\nimport VueKonva from 'vue-konva';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faArrowsAltH,\n  faLongArrowAltRight,\n  faLongArrowAltLeft,\n  faReply,\n  faShare,\n  faSave,\n  faFileImage,\n  faFilePdf,\n  faFont,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport App from './App.vue';\nimport store from './store';\n\nlibrary.add(faArrowsAltH, faLongArrowAltRight, faFont,\n  faLongArrowAltLeft, faReply, faShare, faSave, faFileImage, faFilePdf);\n\nVue.component('font-awesome-icon', FontAwesomeIcon);\nVue.config.productionTip = false;\nVue.use(VueKonva);\n\nVue.mixin({\n  data() {\n    return {\n      console: {\n        log(...payload) {\n          if (store.state.showAllConsoleLogs) console.log(...payload);\n        },\n      },\n    };\n  },\n  methods: {\n    clone(a) { return JSON.parse(JSON.stringify(a)); },\n  },\n});\n\nnew Vue({\n  store,\n  render: (h) => h(App),\n}).$mount('#app');\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/edge_half_hover.a02e39f9.svg\";","module.exports = __webpack_public_path__ + \"img/410.a3e44da7.svg\";","module.exports = __webpack_public_path__ + \"img/edge_full_hover.0e25cee9.svg\";","module.exports = __webpack_public_path__ + \"img/813.bc8b7e3a.svg\";","module.exports = __webpack_public_path__ + \"img/851.84747f99.svg\";","module.exports = __webpack_public_path__ + \"img/853.b86c9ab3.svg\";","module.exports = __webpack_public_path__ + \"img/edge_empty.3662e72a.svg\";","module.exports = __webpack_public_path__ + \"img/edge_half.10bb9dfa.svg\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/edge_full.a70ba3da.svg\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementMenu.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementMenu.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}