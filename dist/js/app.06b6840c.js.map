{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/img/edges/edge_empty_hover.svg","webpack:///./src/App.vue?986f","webpack:///./src/components/Drawer.vue?bfff","webpack:///./src/components/Manage.vue?d6eb","webpack:///./src/components/manage/add-menu/AddPart.vue?e8c6","webpack:///./src/mixins/getId.js","webpack:///src/components/manage/add-menu/AddPart.vue","webpack:///./src/components/manage/add-menu/AddPart.vue?ee5b","webpack:///./src/components/manage/add-menu/AddPart.vue","webpack:///./src/components/manage/add-menu/AddText.vue?d5d3","webpack:///src/components/manage/add-menu/AddText.vue","webpack:///./src/components/manage/add-menu/AddText.vue?4e90","webpack:///./src/components/manage/add-menu/AddText.vue","webpack:///src/components/Manage.vue","webpack:///./src/components/Manage.vue?0a57","webpack:///./src/components/Manage.vue","webpack:///./src/components/Canvas.vue?b2e4","webpack:///./src/components/canvas/Konva.vue?c89a","webpack:///./src/components/canvas/ContextMenu.vue?f308","webpack:///src/components/canvas/ContextMenu.vue","webpack:///./src/components/canvas/ContextMenu.vue?1e9c","webpack:///./src/components/canvas/ContextMenu.vue","webpack:///./src/components/canvas/Part.vue?78b5","webpack:///./src/components/canvas/Borders.vue?f6f2","webpack:///./src/components/canvas/SizeArrowTag.vue?b00d","webpack:///src/components/canvas/SizeArrowTag.vue","webpack:///./src/components/canvas/SizeArrowTag.vue?d214","webpack:///./src/components/canvas/SizeArrowTag.vue","webpack:///./src/components/canvas/RadiusTag.vue?f219","webpack:///src/components/canvas/RadiusTag.vue","webpack:///./src/components/canvas/RadiusTag.vue?87f6","webpack:///./src/components/canvas/RadiusTag.vue","webpack:///./src/components/canvas/Edges.vue?8bc8","webpack:///src/components/canvas/Edges.vue","webpack:///./src/components/canvas/Edges.vue?89ea","webpack:///./src/components/canvas/Edges.vue","webpack:///src/components/canvas/Borders.vue","webpack:///./src/components/canvas/Borders.vue?055f","webpack:///./src/components/canvas/Borders.vue","webpack:///./src/components/canvas/Points.vue?84b9","webpack:///./src/components/canvas/AngleTag.vue?68d5","webpack:///src/components/canvas/AngleTag.vue","webpack:///./src/components/canvas/AngleTag.vue?3aee","webpack:///./src/components/canvas/AngleTag.vue","webpack:///./src/modules/ConfirmModal.js","webpack:///src/components/canvas/Points.vue","webpack:///./src/components/canvas/Points.vue?8c3a","webpack:///./src/components/canvas/Points.vue","webpack:///./src/components/canvas/InsetsBulges.vue?2e21","webpack:///src/components/canvas/InsetsBulges.vue","webpack:///./src/components/canvas/InsetsBulges.vue?2d73","webpack:///./src/components/canvas/InsetsBulges.vue","webpack:///./src/modules/fills.js","webpack:///src/components/canvas/Part.vue","webpack:///./src/components/canvas/Part.vue?94f2","webpack:///./src/components/canvas/Part.vue","webpack:///./src/components/manage/element-menu/ElementMenu.vue?d3a7","webpack:///./src/components/manage/element-menu/LineBorder.vue?acda","webpack:///./src/components/manage/element-menu/ChangeLineByEnd.vue?3c15","webpack:///src/components/manage/element-menu/ChangeLineByEnd.vue","webpack:///./src/components/manage/element-menu/ChangeLineByEnd.vue?24d7","webpack:///./src/components/manage/element-menu/ChangeLineByEnd.vue","webpack:///src/components/manage/element-menu/LineBorder.vue","webpack:///./src/components/manage/element-menu/LineBorder.vue?802f","webpack:///./src/components/manage/element-menu/LineBorder.vue","webpack:///./src/components/manage/element-menu/CurveBorder.vue?b369","webpack:///src/components/manage/element-menu/CurveBorder.vue","webpack:///./src/components/manage/element-menu/CurveBorder.vue?98cb","webpack:///./src/components/manage/element-menu/CurveBorder.vue","webpack:///./src/components/manage/element-menu/InsetBulge.vue?bd93","webpack:///src/components/manage/element-menu/InsetBulge.vue","webpack:///./src/components/manage/element-menu/InsetBulge.vue?b5b4","webpack:///./src/components/manage/element-menu/InsetBulge.vue","webpack:///./src/components/manage/element-menu/Edge.vue?d58d","webpack:///src/components/manage/element-menu/Edge.vue","webpack:///./src/components/manage/element-menu/Edge.vue?4b14","webpack:///./src/components/manage/element-menu/Edge.vue","webpack:///./src/components/manage/element-menu/PartMenu.vue?1125","webpack:///src/components/manage/element-menu/PartMenu.vue","webpack:///./src/components/manage/element-menu/PartMenu.vue?c70e","webpack:///./src/components/manage/element-menu/PartMenu.vue","webpack:///./src/components/manage/element-menu/TextMenu.vue?5b4f","webpack:///src/components/manage/element-menu/TextMenu.vue","webpack:///./src/components/manage/element-menu/TextMenu.vue?c016","webpack:///./src/components/manage/element-menu/TextMenu.vue","webpack:///src/components/manage/element-menu/ElementMenu.vue","webpack:///./src/components/manage/element-menu/ElementMenu.vue?a7e6","webpack:///./src/components/manage/element-menu/ElementMenu.vue","webpack:///./src/components/manage/Logs.vue?1cb7","webpack:///./src/components/manage/Save.vue?b5e9","webpack:///src/components/manage/Save.vue","webpack:///./src/components/manage/Save.vue?9204","webpack:///./src/components/manage/Save.vue","webpack:///src/components/manage/Logs.vue","webpack:///./src/components/manage/Logs.vue?4160","webpack:///./src/components/manage/Logs.vue","webpack:///./src/components/manage/TextEdit.vue?344f","webpack:///src/components/manage/TextEdit.vue","webpack:///./src/components/manage/TextEdit.vue?57b5","webpack:///./src/components/manage/TextEdit.vue","webpack:///./src/components/canvas/TotalText.vue?eeea","webpack:///src/components/canvas/TotalText.vue","webpack:///./src/components/canvas/TotalText.vue?3bd8","webpack:///./src/components/canvas/TotalText.vue","webpack:///src/components/canvas/Konva.vue","webpack:///./src/components/canvas/Konva.vue?e795","webpack:///./src/components/canvas/Konva.vue","webpack:///src/components/Canvas.vue","webpack:///./src/components/Canvas.vue?5d92","webpack:///./src/components/Canvas.vue","webpack:///src/components/Drawer.vue","webpack:///./src/components/Drawer.vue?1a5b","webpack:///./src/components/Drawer.vue","webpack:///./src/components/manage/ConfirmModal.vue?f78d","webpack:///src/components/manage/ConfirmModal.vue","webpack:///./src/components/manage/ConfirmModal.vue?0ea0","webpack:///./src/components/manage/ConfirmModal.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/store/parts.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///./src/assets/img/edges/edge_half_hover.svg","webpack:///./src/assets/img/edges/edge_full_hover.svg","webpack:///./src/assets/img/edges/edge_empty.svg","webpack:///./src/assets/img/edges/edge_half.svg","webpack:///./src/components/manage/Logs.vue?edef","webpack:///./src/assets/img/edges/edge_full.svg","webpack:///./src/components/manage/element-menu/ElementMenu.vue?18ff"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","directives","rawName","expression","modifiers","domProps","on","$event","target","composing","width","_n","$forceUpdate","_v","height","add","computed","id","$store","state","methods","getId","commit","mixins","els","pxPerMm","canvasWidthInMm","canvasHeightInMm","position","type","fill","points","part","borders","map","sizeTag","radiusPosition","component","addText","dispatch","x","y","fontSizeK","text","components","AddPart","_e","staticStyle","ref","canvasWidthInPx","deselect","_l","style","item","preventDefault","handleClick","_s","contextMenuEvent","coords","top","left","parts","items","isClickable","action","borderIndex","isShown","isHoverable","partIndex","edgeTag","isInside","radiusTag","pointIndex","watch","mounted","payload","setTimeout","groupConfig","log","assign","partShapeConfig","color","fillPatternImage","image","fillPriority","setContextMenuEvent","insetsBulges","curves","b","border","refInFor","config","stroke","currentElId","selectedElId","includes","selectedColor","allBordersIndex","lineBorders","concat","curveBorders","params","arrowPoints","pointerAtBeginning","strokeWidth","pointerLength","arrowLength","pointerWidth","dash","textPosition","rotation","angle","offset","draggable","dragBoundFunc","over","dragstart","dragend","lengthText","padding","fontSize","fontFamily","props","isCtrlKey","isControlPressed","offsetInMm","distance","skirting","halfFontSize","vec","norm","multiply","startVec","clone","rotateDeg","insideK","correctPosition","correctX","correctY","originalTextPosition","p1","p2","This","dragTag","pos","absolutePosition","partPosition","contextMenuAction","e","dragTagFree","dragTagStrict","angle1","angle2","x2","y2","evt","ctrlKey","$refs","group","getNode","clearCache","radiusText","correctAngle","correctDistance","originalAngle","centerAngle","originalDistance","label","edge","sizeInPx","imageOffset","sizeInMm","nv","middleLength","max","vec1","forEach","lineBorder","lineCap","prev","next","hitStrokeWidth","subType","curveBorder","lineJoin","innerRadius","R","outerRadius","c1","ang2","Math","PI","ang1","clockwise","refreshSelectedElTrigger","makeBorderCurve","makeBulgeInset","newPoints","toArray","k","index","point","pointsId","newPointId","insetBulgeId","cInPx","radius","angleTag","isInsetBulge","movePoint","angleText","pts","border2","pointsInPx","vec2","angleDeg","isOutside","isOpposite","getCurve","perpABdx","perpABdy","sin","res2","Promise","resolve","body","actions","input","title","confirmModal","$","find","allActions","buttons","button","attr","addClass","html","field","placeholder","append","modal","val","off","allPoints","pt","addPoint","deletePoint","makeCorderCut","makeRounded","toObject","iB","configs","deleteInsetBulge","Array","svg","size","rotate","xml","XMLSerializer","serializeToString","Image","src","Borders","Points","InsetsBulges","res1","sceneFunc","ctx","beginPath","moveTo","lineTo","arc","fillStrokeShape","shape","otherPartsBB","getters","boundingBoxes","filter","myBB","bb","x1","y1","diff","block","newPos","my","isBlock","fillParams","fills","setPartPosition","getPosition","element","edgeType","setBorderLength","lengthInMm","_m","choosedPoint","class","choosed","angleStyle","transform","handler","$emit","immediate","selectedEl","elementId","sort","currentLengthInMm","round","getLength","getLinearEquation","checkIfNeedFixCurvesRadiuses","some","pointIdIndex","minRadius","radiuses","setParams","radiusInMm","maxLength","setRadius","outLengthInMm","inLengthInMm","depthInMm","out","in","currentOutLength","sqrt","currentInLength","depth","setPoints","setDepth","depthPoints","setPoint","findIndex","_q","selectedType","files","types","initType","$$selectedVal","options","selected","_value","multiple","el","active","sizes","setFontSize","LineBorder","disabledBack","disabledForward","saveImage","savePDF","getDataUrl","pixelRatio","mimeType","logs","logStep","addEventListener","code","saveText","isTextEditMode","visible","editText","textIndex","ContextMenu","content","editorOptions","totalTexts","cursor","stage","container","Konva","isMounted","Manage","Canvas","Drawer","ConfirmModal","created","a","JSON","parse","stringify","partsInit","defaultEdgeType","rootState","partInit","bordersId","pBId","pc","radiusInPx","ib","tag","canvasSizeInPx","xs","ys","absolute","min","relative","abs","texts","keys","mutations","addPart","Vue","set","addBorder","deleteBorder","makeBorderLine","addInsetBulge","setInsetBulgeDepth","insetBulgeIndex","refreshSelectedEl","random","changePoint","changeRadius","toggleSkirting","setRadiusTagParams","setEdgeTagParams","setSizeTagParams","setAngleTagParams","setPartFill","deletePart","addTextBlock","setTextBlock","deleteTextBlock","setTextParams","use","Vuex","Store","fontSizeInmM","sizeArrow","edges","gridSize","setStage","setPxPerMm","setCanvasWidthInMm","setContextMenuAction","setSelectedElId","setCurrentEl","incrementId","addFile","file","setCursor","resetCursor","addLog","logBack","logForward","setTextEditMode","downloadImages","empty","require","half","full","emptyHover","halfHover","fullHover","onload","PartsModule","library","faArrowsAltH","faLongArrowAltRight","faFont","faLongArrowAltLeft","faReply","faShare","faSave","faFileImage","faFilePdf","FontAwesomeIcon","productionTip","VueKonva","mixin","store","render","h","App","$mount"],"mappings":"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","file":"js/app.06b6840c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Drawer/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/edge_empty_hover.8f8f3dc2.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('drawer'),_c('confirm-modal')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container mt-5\"},[_c('manage'),_c('Canvas')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-left\"},[_c('add-part'),_c('add-text',{staticClass:\"ml-2\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block w-auto\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.width),expression:\"width\",modifiers:{\"number\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.width)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.width=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" X \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.height),expression:\"height\",modifiers:{\"number\":true}}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.height)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.height=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('button',{staticClass:\"btn btn-secondary ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.add}},[_vm._v(\" Элемент \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  computed: {\n    id() { return this.$store.state.id; },\n  },\n  methods: {\n    getId() {\n      this.$store.commit('incrementId');\n      const { id } = this;\n      return id;\n    },\n  },\n};\n","<template>\n  <div class=\"d-inline-block w-auto\">\n    <input type=\"text\" v-model.number=\"width\" >\n    X\n    <input type=\"text\" v-model.number=\"height\" >\n    <button class=\"btn btn-secondary ml-2\" type=\"button\" @click=\"add\">\n      Элемент\n    </button>\n  </div>\n</template>\n\n<script>\nimport getId from '../../../mixins/getId';\n\nexport default {\n  mixins: [getId],\n  data() {\n    return {\n      els: [],\n      width: 1000,\n      height: 2000,\n    };\n  },\n  computed: {\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    canvasWidthInMm() { return this.$store.state.canvasWidthInMm; },\n    canvasHeightInMm() { return this.$store.state.canvasHeightInMm; },\n  },\n  methods: {\n    add() {\n      const widthInMm = this.width;\n      const heightInMm = this.height;\n      const startPoint = [\n        (this.canvasWidthInMm - widthInMm) / 2,\n        (this.canvasHeightInMm - heightInMm) / 2,\n      ];\n      const part = {\n        id: this.getId(),\n        position: { x: 0, y: 0 },\n        type: 'part',\n        fill: null,\n        points: [\n          { id: this.getId(), c: startPoint },\n          { id: this.getId(), c: [startPoint[0] + widthInMm, startPoint[1]] },\n          { id: this.getId(), c: [startPoint[0] + widthInMm, startPoint[1] + heightInMm] },\n          { id: this.getId(), c: [startPoint[0], startPoint[1] + heightInMm] },\n        ],\n      };\n      part.borders = part.points.map(() => (\n        {\n          id: this.getId(),\n          type: 'lineBorder',\n          sizeTag: { isShown: true },\n          radiusPosition: 'usual',\n        }\n      ));\n      this.$store.commit('addPart', part);\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddPart.vue?vue&type=template&id=1f3772e0&\"\nimport script from \"./AddPart.vue?vue&type=script&lang=js&\"\nexport * from \"./AddPart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addText}},[_vm._v(\" Текст \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-inline-block\">\n    <button\n      class=\"btn btn-secondary\"\n      type=\"button\"\n      @click=\"addText\">\n      Текст\n    </button>\n  </div>\n</template>\n\n<script>\nimport getId from '../../../mixins/getId';\n\nexport default {\n  mixins: [getId],\n  methods: {\n    addText() {\n      this.$store.dispatch('addTextBlock', {\n        id: this.getId(),\n        x: 10,\n        y: 100,\n        type: 'totalText',\n        fontSizeK: 1,\n        text: '',\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddText.vue?vue&type=template&id=0dfc119a&\"\nimport script from \"./AddText.vue?vue&type=script&lang=js&\"\nexport * from \"./AddText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"text-left\">\n    <add-part />\n    <add-text class=\"ml-2\" />\n  </div>\n</template>\n\n<script>\nimport AddPart from './manage/add-menu/AddPart.vue';\nimport AddText from './manage/add-menu/AddText.vue';\n\nexport default {\n  components: {\n    AddPart, AddText,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Manage.vue?vue&type=template&id=adc0174a&\"\nimport script from \"./Manage.vue?vue&type=script&lang=js&\"\nexport * from \"./Manage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isMounted)?[_c('konva')]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"position-relative\",staticStyle:{\"border\":\"1px solid\",\"margin-bottom\":\"300px\"}},[_c('div',{ref:\"nocontext\"},[_c('context-menu'),_c('v-stage',{ref:\"stage\",attrs:{\"config\":{\n        width: _vm.canvasWidthInPx,\n        height: 500,\n        type: 'stage',\n      }}},[_c('v-layer',[_c('v-rect',{attrs:{\"config\":{\n            width: _vm.canvasWidthInPx,\n            height: 500,\n            fill: 'white',\n            type: 'bgRect'\n          }},on:{\"click\":_vm.deselect}}),_vm._l((_vm.parts),function(part,i){return _c('part',{key:part.id,attrs:{\"partIndex\":i,\"part\":part}})}),_vm._l((_vm.totalTexts),function(text,i){return _c('total-text',{key:text.id,attrs:{\"textIndex\":i,\"text\":text}})})],2)],1)],1),_c('element-menu'),_c('logs'),_c('text-edit')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"menu\",staticClass:\"dropdown-menu\",style:(_vm.coords),attrs:{\"role\":\"menu\"}},_vm._l((_vm.items),function(item,i){return _c('a',{key:i,staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.handleClick(item)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"dropdown-menu\"\n    ref=\"menu\"\n    :style=\"coords\"\n    role=\"menu\">\n    <a\n      class=\"dropdown-item\"\n      href=\"#\"\n      v-for=\"(item, i) in items\"\n      :key=\"i\"\n      @click.prevent=\"handleClick(item)\">\n      {{ item.name }}\n    </a>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\n\nexport default {\n  computed: {\n    contextMenuEvent() { return this.$store.state.contextMenuEvent; },\n    coords() {\n      const coords = { top: 0, left: 0 };\n      if (this.contextMenuEvent) {\n        coords.top = `${this.contextMenuEvent.e.evt.layerY}px`;\n        coords.left = `${this.contextMenuEvent.e.evt.layerX}px`;\n      }\n      return coords;\n    },\n    parts() { return this.$store.getters.parts; },\n    items() {\n      if (!this.contextMenuEvent) return [];\n      const items = [];\n      const { attrs } = this.contextMenuEvent.e.target;\n      const { partIndex, borderIndex } = this.contextMenuEvent;\n      switch (attrs.type) {\n        case 'part':\n          return [\n            {\n              name: 'Удалить элемент',\n              action: 'deletePart',\n              partIndex,\n            },\n          ];\n        case 'lineBorder':\n          if (attrs.isClickable) {\n            items.push(...[\n              {\n                name: 'Вставить точку',\n                action: 'addPoint',\n                borderIndex: this.contextMenuEvent.borderIndex,\n              },\n              {\n                name: 'Сделать выпуклой',\n                isInside: false,\n                action: 'makeBorderCurve',\n                borderIndex: this.contextMenuEvent.borderIndex,\n              },\n              {\n                name: 'Сделать вогнутой',\n                isInside: true,\n                action: 'makeBorderCurve',\n                borderIndex: this.contextMenuEvent.borderIndex,\n              },\n              {\n                name: 'Сделать вырез',\n                isInside: true,\n                action: 'makeBulgeInset',\n                borderIndex: this.contextMenuEvent.borderIndex,\n              },\n              {\n                name: 'Сделать выступ',\n                isInside: false,\n                action: 'makeBulgeInset',\n                borderIndex: this.contextMenuEvent.borderIndex,\n              },\n            ]);\n          }\n          items.push({\n            name: 'Добавить/убрать бортик',\n            action: 'toggleSkirting',\n            borderIndex: this.contextMenuEvent.borderIndex,\n          });\n          if (!attrs.sizeTag.isShown && attrs.isHoverable) {\n            items.push({\n              name: 'Показать размер',\n              action: 'showSizeArrow',\n              borderIndex: this.contextMenuEvent.borderIndex,\n            });\n          }\n          if (!this.parts[partIndex].borders[borderIndex].edgeTag.isShown) {\n            items.push({\n              name: 'Добавить кромку',\n              action: 'addEdge',\n              borderIndex: this.contextMenuEvent.borderIndex,\n            });\n          }\n          return items;\n        case 'curveBorder':\n          items.push(\n            {\n              name: 'Сделать прямой',\n              action: 'makeBorderLine',\n              borderIndex: this.contextMenuEvent.borderIndex,\n            },\n            {\n              name: 'Добавить/убрать бортик',\n              action: 'toggleSkirting',\n              borderIndex: this.contextMenuEvent.borderIndex,\n            },\n          );\n          if (attrs.isInside) {\n            items.push(\n              {\n                name: 'Сделать выпуклой',\n                isInside: false,\n                action: 'makeBorderCurve',\n                borderIndex: this.contextMenuEvent.borderIndex,\n              },\n            );\n          } else {\n            items.push(\n              {\n                name: 'Сделать вогнутой',\n                isInside: true,\n                action: 'makeBorderCurve',\n                borderIndex: this.contextMenuEvent.borderIndex,\n              },\n            );\n          }\n          if (!attrs.radiusTag.isShown) {\n            items.push({\n              name: 'Показать радиус',\n              action: 'showRadius',\n              borderIndex: this.contextMenuEvent.borderIndex,\n            });\n          }\n          if (!this.parts[partIndex].borders[borderIndex].edgeTag.isShown) {\n            items.push({\n              name: 'Добавить кромку',\n              action: 'addEdge',\n              borderIndex: this.contextMenuEvent.borderIndex,\n            });\n          }\n          return items;\n        case 'point': {\n          const part = this.parts[partIndex];\n          const j2 = this.contextMenuEvent.pointIndex;\n          const j1 = j2 > 0 ? j2 - 1 : part.points.length - 1;\n          const border1 = part.borders[j1];\n          const border2 = part.borders[j2];\n          if (border1.type === 'lineBorder' && border2.type === 'lineBorder') {\n            if (!attrs.isInsetBulge) {\n              items.push(...[\n                {\n                  name: 'Удалить точку',\n                  action: 'deletePoint',\n                  pointIndex: this.contextMenuEvent.pointIndex,\n                },\n                {\n                  name: 'Сделать вырез',\n                  action: 'makeCorderCut',\n                  pointIndex: this.contextMenuEvent.pointIndex,\n                },\n              ]);\n            }\n            items.push(\n              {\n                name: 'Закруглить угол',\n                action: 'makeRounded',\n                pointIndex: this.contextMenuEvent.pointIndex,\n              },\n            );\n            if (!attrs.angleTag.isShown) {\n              items.push({\n                name: 'Показать угол',\n                action: 'showAngle',\n                pointIndex: this.contextMenuEvent.pointIndex,\n              });\n            }\n          }\n          return items;\n        }\n        case 'inset':\n        case 'bulge':\n          return [\n            {\n              name: 'Удалить выступ/вырез',\n              action: 'deleteInsetBulge',\n              insetBulgeIndex: this.contextMenuEvent.insetBulgeIndex,\n            },\n          ];\n        case 'sizeArrow':\n          return [\n            {\n              name: 'Скрыть',\n              action: 'hide',\n              borderIndex: this.contextMenuEvent.borderIndex,\n            },\n          ];\n        case 'radius':\n          return [\n            {\n              name: 'Скрыть',\n              action: 'hide',\n              borderIndex: this.contextMenuEvent.borderIndex,\n            },\n          ];\n        case 'angleTag':\n          return [\n            {\n              name: 'Скрыть',\n              action: 'hide',\n              pointIndex: this.contextMenuEvent.pointIndex,\n            },\n          ];\n        case 'edge':\n          return [\n            {\n              name: 'Скрыть',\n              action: 'hideEdge',\n              borderIndex: this.contextMenuEvent.borderIndex,\n            },\n          ];\n        case 'totalText':\n          return [\n            {\n              name: 'Удалить текст',\n              action: 'deleteTotalText',\n              textIndex: this.contextMenuEvent.textIndex,\n            },\n          ];\n        default:\n          return [];\n      }\n    },\n  },\n  watch: {\n    contextMenuEvent() {\n      $(this.$refs.menu).dropdown('show');\n    },\n  },\n  mounted() {\n    $('body')\n      .click(() => {\n        $(this.$refs.menu).dropdown('hide');\n      });\n  },\n  methods: {\n    handleClick(item) {\n      const payload = {\n        ...item,\n        partIndex: this.contextMenuEvent.partIndex,\n      };\n      this.$store.commit('setContextMenuAction', payload);\n      setTimeout(() => {\n        $(this.$refs.menu).dropdown('hide');\n      }, 0);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContextMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContextMenu.vue?vue&type=template&id=e3329940&\"\nimport script from \"./ContextMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./ContextMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-group',{attrs:{\"config\":_vm.groupConfig},on:{\"dragend\":_vm.log}},[_c('v-shape',{attrs:{\"config\":Object.assign({}, _vm.partShapeConfig,\n      {fill: _vm.fill.color,\n      fillPatternImage: _vm.fill.image,\n      fillPriority: 'pattern'})},on:{\"mouseover\":function($event){return _vm.$store.commit('setCurrentEl', _vm.partShapeConfig.id)},\"mouseleave\":function($event){return _vm.$store.commit('setCurrentEl', null)},\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.part.id)},\"contextmenu\":_vm.setContextMenuEvent}}),(_vm.part.insetsBulges && _vm.part.insetsBulges.length)?_c('insets-bulges',{attrs:{\"part\":_vm.part,\"partIndex\":_vm.partIndex}}):_vm._e(),_c('borders',{attrs:{\"part\":_vm.part,\"partIndex\":_vm.partIndex,\"curves\":_vm.curves}}),_c('points',{attrs:{\"points\":_vm.part.points,\"partIndex\":_vm.partIndex,\"part\":_vm.part}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.lineBorders),function(b){return _c('v-line',{key:b.border.id,ref:(\"border\" + (b.border.id)),refInFor:true,attrs:{\"config\":Object.assign({}, b.config,\n      {stroke: [_vm.currentElId, _vm.selectedElId].includes(b.border.id) || _vm.selectedElId === _vm.part.id\n        ? _vm.selectedColor : 'black'})},on:{\"contextmenu\":function($event){return _vm.setContextMenuEvent($event, b.config.allBordersIndex)},\"mouseover\":function($event){return _vm.$store.commit('setCurrentEl', b.border.id)},\"mouseleave\":function($event){return _vm.$store.commit('setCurrentEl', null)},\"click\":function($event){b.config.isClickable ? _vm.$store.commit('setSelectedElId', b.border.id) : ''}}})}),_vm._l((_vm.curveBorders),function(b){return _c('v-arc',{key:b.border.id,ref:(\"border\" + (b.border.id)),refInFor:true,attrs:{\"config\":Object.assign({}, b.config,\n      {stroke: [_vm.currentElId, _vm.selectedElId].includes(b.border.id) || _vm.selectedElId === _vm.part.id\n        ? _vm.selectedColor : 'black'})},on:{\"contextmenu\":function($event){return _vm.setContextMenuEvent($event, b.config.allBordersIndex)},\"mouseover\":function($event){return _vm.$store.commit('setCurrentEl', b.border.id)},\"mouseleave\":function($event){return _vm.$store.commit('setCurrentEl', null)},\"click\":function($event){return _vm.$store.commit('setSelectedElId', b.border.id)}}})}),_vm._l((_vm.lineBorders),function(b){return _c('size-arrow-tag',{key:(\"a\" + (b.border.id)),attrs:{\"border\":b,\"partIndex\":_vm.partIndex,\"part\":_vm.part}})}),_vm._l((_vm.curveBorders),function(b){return _c('radius-tag',{key:(\"c\" + (b.border.id)),attrs:{\"border\":b,\"partIndex\":_vm.partIndex,\"part\":_vm.part}})}),_vm._l((_vm.lineBorders.concat( _vm.curveBorders)),function(b){return _c('edges',{key:(\"e\" + (b.border.id)),attrs:{\"border\":b,\"partIndex\":_vm.partIndex,\"part\":_vm.part}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.border.border.sizeTag.isShown)?_c('v-group',{ref:\"group\"},[_c('v-arrow',{attrs:{\"config\":{\n    points: _vm.params.arrowPoints,\n    stroke: 'black',\n    fill: 'black',\n    pointerAtBeginning: true,\n    strokeWidth: 1,\n    pointerLength : _vm.arrowLength,\n    pointerWidth : 3,\n    dash: _vm.dash,\n  }}}),_c('v-label',{attrs:{\"config\":Object.assign({}, _vm.params.textPosition,\n      {rotation: _vm.params.angle,\n      offset: _vm.params.offset,\n      draggable: true,\n      dragBoundFunc: _vm.params.dragBoundFunc})},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"contextmenu\":_vm.setContextMenuEvent,\"dragstart\":_vm.dragstart,\"dragend\":_vm.dragend}},[_c('v-tag',{attrs:{\"config\":{fill: 'white'}}}),_c('v-text',{attrs:{\"config\":{\n      text: _vm.params.lengthText,\n      padding: _vm.params.padding,\n      fontSize: _vm.fontSize,\n      fontFamily: 'Calibri',\n      fill: _vm.over ? _vm.selectedColor : 'black',\n      type: 'sizeArrow',\n    }}})],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-group\n    v-if=\"border.border.sizeTag.isShown\"\n    ref=\"group\">\n    <v-arrow :config=\"{\n      points: params.arrowPoints,\n      stroke: 'black',\n      fill: 'black',\n      pointerAtBeginning: true,\n      strokeWidth: 1,\n      pointerLength : arrowLength,\n      pointerWidth : 3,\n      dash,\n    }\" />\n    <v-label :config=\"{\n        ...params.textPosition,\n        rotation: params.angle,\n        offset: params.offset,\n        draggable: true,\n        dragBoundFunc: params.dragBoundFunc,\n      }\"\n      @mouseover=\"over = true\"\n      @mouseleave=\"over = false\"\n      @contextmenu=\"setContextMenuEvent\"\n      @dragstart=\"dragstart\"\n      @dragend=\"dragend\">\n      <v-tag :config=\"{fill: 'white'}\" />\n      <v-text :config=\"{\n        text: params.lengthText,\n        padding: params.padding,\n        fontSize,\n        fontFamily: 'Calibri',\n        fill: over ? selectedColor : 'black',\n        type: 'sizeArrow',\n      }\" />\n    </v-label>\n  </v-group>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  props: ['border', 'partIndex', 'part'],\n  data() {\n    return {\n      over: false,\n      isCtrlKey: false,\n      arrowLength: 3,\n    };\n  },\n  computed: {\n    sizeTag() { return this.border.border.sizeTag; },\n    isControlPressed() { return this.$store.state.isControlPressed; },\n    offsetInMm() {\n      const { sizeTag } = this.border.border;\n      if ('distance' in sizeTag) return sizeTag.distance;\n      return this.border.border.skirting ? 70 : 50;\n    },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    fontSize() { return this.$store.state.fontSizeInmM.sizeArrow * this.pxPerMm; },\n    params() {\n      const { points } = this.border.config;\n      const insideK = this.border.border.sizeTag.isInside ? -1 : 1;\n      let startVec = new Victor(points[0], points[1]);\n      let vec = new Victor(points[2] - points[0], points[3] - points[1]);\n      let angle = vec.angleDeg();\n      angle = angle < 0 ? angle + 360 : angle;\n      const halfFontSize = this.fontSize / 2;\n      let length = vec.length();\n      const lengthText = Math.round(length / this.pxPerMm).toString();\n      length -= this.arrowLength * 2;\n      const offset = {\n        x: halfFontSize * lengthText.length,\n        y: halfFontSize,\n      };\n      const textOffset = length * 0.5 + offset.x / 2;\n      const offsetInPx = this.offsetInMm * this.pxPerMm;\n      vec = vec.norm().multiply(new Victor(this.arrowLength, this.arrowLength));\n      startVec = vec.clone().add(startVec);\n      vec = vec.norm().rotateDeg(-90 * insideK).multiply(new Victor(offsetInPx, offsetInPx));\n      startVec = vec.clone().add(startVec);\n      const p1 = startVec.toArray();\n      const textVec = vec.clone().norm().rotateDeg(90 * insideK)\n        .multiply(new Victor(textOffset, textOffset));\n      const originalTextPosition = textVec.add(startVec).toObject();\n      let textPosition;\n      const { correctPosition } = this.border.border.sizeTag;\n      let correctX;\n      let correctY;\n      if (correctPosition) {\n        correctX = correctPosition.x * this.pxPerMm;\n        correctY = correctPosition.y * this.pxPerMm;\n        textPosition = {\n          x: originalTextPosition.x + correctX,\n          y: originalTextPosition.y + correctY,\n        };\n        p1[0] += correctX;\n        p1[1] += correctY;\n      } else {\n        textPosition = originalTextPosition;\n      }\n      vec = vec.norm().rotateDeg(90 * insideK).multiply(new Victor(length, length));\n      startVec = vec.clone().add(startVec);\n      const p2 = startVec.toArray();\n      if (correctPosition) {\n        p2[0] += correctX;\n        p2[1] += correctY;\n      }\n      const This = this;\n      return {\n        arrowPoints: [...p1, ...p2],\n        originalTextPosition,\n        textPosition,\n        lengthText,\n        padding: 0,\n        angle,\n        offset,\n        dragBoundFunc(pos) {\n          This.dragTag(pos);\n          return this.absolutePosition();\n        },\n      };\n    },\n    partPosition() { return this.part.position; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    dash() { return this.$store.state.dash; },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.borderIndex !== this.border.config.allBordersIndex) return;\n      if (['hide', 'showSizeArrow'].includes(data.action)) {\n        const sizeTag = data.action === 'hide' ? {} : { isShown: true };\n        this.$store.commit('setSizeTagParams', {\n          i: data.partIndex,\n          j: data.borderIndex,\n          ...sizeTag,\n        });\n        this.$store.commit('addLog');\n      }\n    },\n    over(over) {\n      if (over) {\n        this.$store.commit('setCursor', 'move');\n      } else {\n        this.$store.commit('resetCursor');\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', {\n        e,\n        partIndex,\n        borderIndex: this.border.config.allBordersIndex,\n      });\n    },\n    dragTag(pos) {\n      if (this.isCtrlKey) {\n        this.dragTagFree(pos);\n      } else {\n        this.dragTagStrict(pos);\n      }\n    },\n    dragTagStrict(pos) {\n      const pts = this.border.border.pointsInPx;\n      const x2 = pos.x - this.partPosition.x;\n      const y2 = pos.y - this.partPosition.y;\n      const vec1 = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      const vec2 = new Victor(x2 - pts[0], y2 - pts[1]);\n      let angle1 = vec1.angleDeg();\n      angle1 = angle1 >= 0 ? angle1 : angle1;\n      let angle2 = vec2.angleDeg() - angle1;\n      if (angle2 < -180) {\n        angle2 += 360;\n      } else if (angle2 > 180) {\n        angle2 -= 360;\n      }\n      const cos = vec1.dot(vec2) / (vec1.length() * vec2.length());\n      const angle = Math.acos(cos);\n      const sin = Math.sin(angle);\n      const distance = (sin * vec2.length()) / this.pxPerMm;\n      this.$store.commit('setSizeTagParams', {\n        i: this.partIndex,\n        j: this.border.border.allBordersIndex,\n        distance,\n        isInside: angle2 > 0,\n        isShown: true,\n      });\n    },\n    dragTagFree(pos) {\n      const x2 = pos.x - this.partPosition.x;\n      const y2 = pos.y - this.partPosition.y;\n      const { x, y } = this.params.originalTextPosition;\n      this.$store.commit('setSizeTagParams', {\n        i: this.partIndex,\n        j: this.border.border.allBordersIndex,\n        correctPosition: {\n          x: (x2 - x) / this.pxPerMm,\n          y: (y2 - y) / this.pxPerMm,\n        },\n        isShown: true,\n      });\n    },\n    dragstart(e) {\n      this.isCtrlKey = e.evt.ctrlKey;\n    },\n    dragend() {\n      this.$refs.group.getNode().clearCache();\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SizeArrowTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SizeArrowTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SizeArrowTag.vue?vue&type=template&id=7d69b2f0&\"\nimport script from \"./SizeArrowTag.vue?vue&type=script&lang=js&\"\nexport * from \"./SizeArrowTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.border.border.radiusTag.isShown)?_c('v-label',{ref:\"label\",attrs:{\"config\":Object.assign({}, _vm.params.textPosition,\n    {rotation: _vm.params.angle,\n    offset: _vm.params.offset,\n    draggable: true,\n    dragBoundFunc: _vm.params.dragBoundFunc})},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"contextmenu\":_vm.setContextMenuEvent,\"dragend\":_vm.dragend}},[_c('v-tag',{attrs:{\"config\":{fill: 'white'}}}),_c('v-text',{attrs:{\"config\":{\n    text: _vm.params.radiusText,\n    padding: _vm.params.padding,\n    fontSize: _vm.fontSize,\n    fontFamily: 'Calibri',\n    fill: _vm.over ? _vm.selectedColor : 'black',\n    type: 'radius',\n  }}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-label\n    v-if=\"border.border.radiusTag.isShown\"\n    ref=\"label\"\n    :config=\"{\n      ...params.textPosition,\n      rotation: params.angle,\n      offset: params.offset,\n      draggable: true,\n      dragBoundFunc: params.dragBoundFunc,\n    }\"\n    @mouseover=\"over = true\"\n    @mouseleave=\"over = false\"\n    @contextmenu=\"setContextMenuEvent\"\n    @dragend=\"dragend\">\n    <v-tag :config=\"{fill: 'white'}\" />\n    <v-text :config=\"{\n      text: params.radiusText,\n      padding: params.padding,\n      fontSize,\n      fontFamily: 'Calibri',\n      fill: over ? selectedColor : 'black',\n      type: 'radius',\n    }\" />\n  </v-label>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  props: ['border', 'partIndex', 'part'],\n  data() {\n    return {\n      over: false,\n      offsetInMm: 100,\n      correctAngle: 0,\n      correctDistance: 0,\n    };\n  },\n  computed: {\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    fontSize() { return this.$store.state.fontSizeInmM.radius * this.pxPerMm; },\n    params() {\n      const { x, y } = this.border.config;\n      const correctAngle = this.border.border.radiusTag.correctAngle || 0;\n      const correctDistance = this.border.border.radiusTag.correctDistance || 0;\n      const pts = this.border.config.points;\n      let startVec = new Victor(pts[0], pts[1]);\n      let vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      let originalAngle = vec.angleDeg();\n      originalAngle = originalAngle < 0 ? originalAngle + 360 : originalAngle;\n      const angle = originalAngle + correctAngle;\n      const halfLength = vec.length() / 2;\n      vec = vec.norm().multiply(new Victor(halfLength, halfLength));\n      const halfPoint = vec.clone().add(startVec);\n      startVec = new Victor(x, y);\n      vec = new Victor(halfPoint.x - x, halfPoint.y - y);\n      const centerAngle = vec.angleDeg();\n      const isInsideK = this.border.border.isInside ? 1 : -1;\n      const originalDistance = this.border.config.innerRadius\n        - this.offsetInMm * this.pxPerMm * isInsideK;\n      const textDistance = originalDistance + correctDistance * this.pxPerMm;\n      vec = vec.norm().rotateDeg(correctAngle).multiply(new Victor(textDistance, textDistance));\n      const textPosition = vec.clone().add(startVec).toObject();\n      const halfFontSize = this.fontSize / 2;\n      const radiusText = `R ${Math.round(this.border.border.radius)}`;\n      const offset = {\n        x: (halfFontSize * radiusText.length) / 2,\n        y: halfFontSize,\n      };\n      const This = this;\n      return {\n        padding: 0,\n        textPosition,\n        angle,\n        centerAngle,\n        originalDistance: originalDistance / this.pxPerMm,\n        offset,\n        radiusText,\n        dragBoundFunc(pos) {\n          This.dragTag(pos);\n          return this.absolutePosition();\n        },\n      };\n    },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    partPosition() { return this.part.position; },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.borderIndex !== this.border.config.allBordersIndex) return;\n      if (['hide', 'showRadius'].includes(data.action)) {\n        const radiusTag = data.action === 'hide' ? {} : { isShown: true };\n        this.$store.commit('setRadiusTagParams', {\n          i: data.partIndex,\n          j: data.borderIndex,\n          ...radiusTag,\n        });\n        this.$store.commit('addLog');\n      }\n    },\n    over(over) {\n      if (over) {\n        this.$store.commit('setCursor', 'move');\n      } else {\n        this.$store.commit('resetCursor');\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', {\n        e,\n        partIndex,\n        borderIndex: this.border.config.allBordersIndex,\n      });\n    },\n    dragTag(pos) {\n      const { x, y } = this.border.config;\n      const x2 = pos.x;\n      const y2 = pos.y;\n      const x3 = this.partPosition.x;\n      const y3 = this.partPosition.y;\n      const vec = new Victor(x2 - (x + x3), y2 - (y + y3));\n      const angle = vec.angleDeg();\n      const correctAngle = angle - this.params.centerAngle;\n      const correctDistance = vec.length() / this.pxPerMm - this.params.originalDistance;\n      this.$store.commit('setRadiusTagParams', {\n        i: this.partIndex,\n        j: this.border.border.allBordersIndex,\n        correctAngle,\n        correctDistance,\n        isShown: true,\n      });\n    },\n    dragend() {\n      this.$refs.label.getNode().clearCache();\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadiusTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadiusTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RadiusTag.vue?vue&type=template&id=271a731d&\"\nimport script from \"./RadiusTag.vue?vue&type=script&lang=js&\"\nexport * from \"./RadiusTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.edge.isShown && _vm.image)?_c('v-image',{ref:\"image\",attrs:{\"config\":{\n  image: _vm.image,\n  x: _vm.params.x,\n  y: _vm.params.y,\n  width: _vm.sizeInPx,\n  height: _vm.sizeInPx,\n  rotation: _vm.params.angle,\n  offset: { x: _vm.imageOffset, y: _vm.imageOffset },\n  type: 'edge',\n  draggable: true,\n  dragBoundFunc: _vm.params.dragBoundFunc,\n}},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"contextmenu\":_vm.setContextMenuEvent,\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.edge.id)},\"dragend\":_vm.dragend}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-image :config=\"{\n    image,\n    x: params.x,\n    y: params.y,\n    width: sizeInPx,\n    height: sizeInPx,\n    rotation: params.angle,\n    offset: { x: imageOffset, y: imageOffset },\n    type: 'edge',\n    draggable: true,\n    dragBoundFunc: params.dragBoundFunc,\n  }\"\n  ref=\"image\"\n  v-if=\"edge.isShown && image\"\n  @mouseover=\"over = true\"\n  @mouseleave=\"over = false\"\n  @contextmenu=\"setContextMenuEvent\"\n  @click=\"$store.commit('setSelectedElId', edge.id)\"\n  @dragend=\"dragend\" />\n</template>\n\n<script>\nimport Victor from 'victor';\nimport getId from '../../mixins/getId';\n\nexport default {\n  mixins: [getId],\n  props: ['border', 'partIndex', 'part'],\n  data() {\n    return {\n      offsetInMm: 50,\n      over: false,\n      sizeInMm: 120,\n    };\n  },\n  computed: {\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    edge() { return this.border.border.edgeTag; },\n    image() {\n      const image = [this.selectedElId, this.currentElId].includes(this.edge.id)\n        ? this.$store.state.files.edges[`${this.edge.edgeType}Hover`]\n        : this.$store.state.files.edges[this.edge.edgeType];\n      return image;\n    },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    sizeInPx() { return this.sizeInMm * this.pxPerMm; },\n    imageOffset() { return this.sizeInPx / 2; },\n    params() {\n      if (!this.edge.isShown) return {};\n      const pts = this.border.border.pointsInPx;\n      const This = this;\n      const correctDistance = this.border.border.edgeTag.correctDistance || 0;\n      if (this.border.border.type === 'lineBorder') {\n        let startVec = new Victor(pts[0], pts[1]);\n        let vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n        const originalDistance = vec.length() / 2;\n        const middleLength = originalDistance + correctDistance * this.pxPerMm;\n        let angle = vec.angleDeg();\n        angle = angle < 0 ? angle + 180 : angle - 180;\n        vec = vec.norm().multiply(new Victor(middleLength, middleLength));\n        startVec = vec.clone().add(startVec);\n        const offset = this.offsetInMm * this.pxPerMm;\n        vec = vec.norm().rotateDeg(-90).multiply(new Victor(offset, offset));\n        const { x, y } = vec.clone().add(startVec).toObject();\n        return {\n          angle,\n          x,\n          y,\n          originalDistance: originalDistance / this.pxPerMm,\n          dragBoundFunc(pos) {\n            This.dragTag(pos, 'line');\n            return this.absolutePosition();\n          },\n        };\n      }\n      const { x, y } = this.border.config;\n      const correctAngle = this.border.border.edgeTag.correctAngle || 0;\n      let startVec = new Victor(pts[0], pts[1]);\n      let vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      let angle = vec.angleDeg();\n      angle = angle < 0 ? angle + 180 : angle - 180;\n      angle += correctAngle;\n      const halfLength = vec.length() / 2;\n      vec = vec.norm().multiply(new Victor(halfLength, halfLength));\n      const halfPoint = vec.clone().add(startVec);\n      startVec = new Victor(x, y);\n      vec = new Victor(halfPoint.x - x, halfPoint.y - y);\n      const centerAngle = vec.angleDeg();\n      const isInsideK = this.border.border.isInside ? 1 : -1;\n      const originalDistance = this.border.config.innerRadius\n        - this.offsetInMm * this.pxPerMm * isInsideK;\n      const edgeDistance = originalDistance + correctDistance * this.pxPerMm;\n      vec = vec.norm().rotateDeg(correctAngle).multiply(new Victor(edgeDistance, edgeDistance));\n      const edgePosition = vec.clone().add(startVec).toObject();\n      return {\n        ...edgePosition,\n        centerAngle,\n        originalDistance: originalDistance / this.pxPerMm,\n        angle,\n        dragBoundFunc(pos) {\n          This.dragTag(pos, 'curve');\n          return this.absolutePosition();\n        },\n      };\n    },\n    partPosition() { return this.part.position; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.borderIndex !== this.border.config.allBordersIndex) return;\n      if (['addEdge', 'hideEdge'].includes(data.action)) {\n        const payload = {\n          i: data.partIndex,\n          j: data.borderIndex,\n          isShown: data.action === 'addEdge',\n        };\n        if (data.action === 'addEdge') payload.id = this.getId();\n        this.$store.commit('setEdgeTagParams', payload);\n        this.$store.commit('addLog');\n      }\n    },\n    'params.originalDistance': function check(nv) {\n      const correctDistance = this.border.border.edgeTag.correctDistance || 0;\n      const middleLength = nv + correctDistance;\n      const imageOffset = this.imageOffset / this.pxPerMm;\n      if (middleLength < imageOffset) {\n        this.$store.commit('setEdgeTagParams', {\n          i: this.partIndex,\n          j: this.border.border.allBordersIndex,\n          correctDistance: imageOffset - nv,\n        });\n        return;\n      }\n      const max = nv * 2 - imageOffset;\n      if (middleLength > max) {\n        this.$store.commit('setEdgeTagParams', {\n          i: this.partIndex,\n          j: this.border.border.allBordersIndex,\n          correctDistance: max - nv,\n        });\n      }\n    },\n    over(over) {\n      if (over) {\n        this.$store.commit('setCurrentEl', this.edge.id);\n        this.$store.commit('setCursor', 'move');\n      } else {\n        this.$store.commit('setCurrentEl', null);\n        this.$store.commit('resetCursor');\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', {\n        e,\n        partIndex,\n        borderIndex: this.border.config.allBordersIndex,\n      });\n    },\n    dragTag(pos, type) {\n      if (type === 'curve') {\n        const { x, y } = this.border.config;\n        const x2 = pos.x;\n        const y2 = pos.y;\n        const x3 = this.partPosition.x;\n        const y3 = this.partPosition.y;\n        const vec = new Victor(x2 - (x + x3), y2 - (y + y3));\n        const angle = vec.angleDeg();\n        const correctAngle = angle - this.params.centerAngle;\n        this.$store.commit('setEdgeTagParams', {\n          i: this.partIndex,\n          j: this.border.border.allBordersIndex,\n          correctAngle,\n        });\n      } else if (type === 'line') {\n        const x2 = pos.x + this.partPosition.x;\n        const y2 = pos.y + this.partPosition.y;\n        const pts = this.border.border.pointsInPx;\n        const vec1 = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n        const vec2 = new Victor(x2 - pts[0], y2 - pts[1]);\n        const cos = vec1.dot(vec2) / (vec1.length() * vec2.length());\n        const angle = Math.acos(cos);\n        const distance = cos * vec2.length();\n        let correctDistance;\n        if (angle > Math.PI / 2) {\n          correctDistance = -this.params.originalDistance + this.imageOffset / this.sizeInPx;\n        } else {\n          correctDistance = distance > vec1.length()\n            ? this.params.originalDistance - this.imageOffset / this.sizeInPx\n            : distance / this.pxPerMm - this.params.originalDistance;\n        }\n        this.$store.commit('setEdgeTagParams', {\n          i: this.partIndex,\n          j: this.border.border.allBordersIndex,\n          correctDistance,\n        });\n      }\n    },\n    dragend() {\n      this.$refs.image.getNode().clearCache();\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edges.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edges.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edges.vue?vue&type=template&id=17d8f665&\"\nimport script from \"./Edges.vue?vue&type=script&lang=js&\"\nexport * from \"./Edges.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <v-line\n      v-for=\"b in lineBorders\"\n      :key=\"b.border.id\"\n      :config=\"{\n        ...b.config,\n        stroke: [currentElId, selectedElId].includes(b.border.id) || selectedElId === part.id\n          ? selectedColor : 'black',\n      }\"\n      :ref=\"`border${b.border.id}`\"\n      @contextmenu=\"setContextMenuEvent($event, b.config.allBordersIndex)\"\n      @mouseover=\"$store.commit('setCurrentEl', b.border.id)\"\n      @mouseleave=\"$store.commit('setCurrentEl', null)\"\n      @click=\"b.config.isClickable ? $store.commit('setSelectedElId', b.border.id) : ''\" />\n    <v-arc\n      v-for=\"b in curveBorders\"\n      :key=\"b.border.id\"\n      :config=\"{\n        ...b.config,\n        stroke: [currentElId, selectedElId].includes(b.border.id) || selectedElId === part.id\n          ? selectedColor : 'black',\n      }\"\n      :ref=\"`border${b.border.id}`\"\n      @contextmenu=\"setContextMenuEvent($event, b.config.allBordersIndex)\"\n      @mouseover=\"$store.commit('setCurrentEl', b.border.id)\"\n      @mouseleave=\"$store.commit('setCurrentEl', null)\"\n      @click=\"$store.commit('setSelectedElId', b.border.id)\" />\n    <size-arrow-tag\n      v-for=\"b in lineBorders\"\n      :key=\"`a${b.border.id}`\"\n      :border=\"b\"\n      :partIndex=\"partIndex\"\n      :part=\"part\" />\n    <radius-tag v-for=\"b in curveBorders\"\n      :key=\"`c${b.border.id}`\"\n      :border=\"b\"\n      :partIndex=\"partIndex\"\n      :part=\"part\" />\n    <edges\n      v-for=\"(b) in [...lineBorders, ...curveBorders]\"\n      :key=\"`e${b.border.id}`\"\n      :border=\"b\"\n      :partIndex=\"partIndex\"\n      :part=\"part\" />\n  </div>\n</template>\n\n<script>\n// import $ from 'jquery';\nimport Victor from 'victor';\nimport getId from '../../mixins/getId';\nimport SizeArrowTag from './SizeArrowTag.vue';\nimport RadiusTag from './RadiusTag.vue';\nimport Edges from './Edges.vue';\n\nexport default {\n  mixins: [getId],\n  props: ['part', 'partIndex', 'curves'],\n  components: { SizeArrowTag, RadiusTag, Edges },\n  data() {\n    return {\n    };\n  },\n  computed: {\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    borders() {\n      const borders = {};\n      this.part.borders.forEach((border, i) => {\n        if (!(border.type in borders)) borders[border.type] = [];\n        borders[border.type].push({ ...border, allBordersIndex: i });\n      });\n      return borders;\n    },\n    lineBorders() {\n      if (!this.borders.lineBorder) return [];\n      return this.borders.lineBorder.map((border) => {\n        const prev = border.allBordersIndex ? this.part.borders[border.allBordersIndex - 1]\n          : this.part.borders[this.part.borders.length - 1];\n        const next = border.allBordersIndex < this.part.borders.length - 1\n          ? this.part.borders[border.allBordersIndex + 1] : this.part.borders[0];\n        const { type, id, points } = border;\n        const config = {\n          type,\n          id,\n          points: points.map((p) => p * this.pxPerMm),\n          strokeWidth: border.skirting ? 4 : 1,\n          lineCap: prev.skirting && next.skirting ? 'square' : 'butt',\n          hitStrokeWidth: 5,\n          allBordersIndex: border.allBordersIndex,\n          isClickable: !['inset', 'bulge'].includes(border.subType),\n          // isHoverable: !['inset', 'bulge'].includes(border.subType) || !border.sizeTag.isShown,\n          sizeTag: border.sizeTag,\n        };\n        return { config, border };\n      });\n    },\n    curveBorders() {\n      if (!this.borders.curveBorder) return [];\n      return this.borders.curveBorder.map((border) => {\n        const prev = border.allBordersIndex ? this.part.borders[border.allBordersIndex - 1]\n          : this.part.borders[this.part.borders.length - 1];\n        const next = border.allBordersIndex < this.part.borders.length - 1\n          ? this.part.borders[border.allBordersIndex + 1] : this.part.borders[0];\n        const { type, id, points } = border;\n        const c = { ...this.curves[border.id] };\n        const config = {\n          type,\n          id,\n          points: points.map((p) => p * this.pxPerMm),\n          isInside: border.isInside,\n          strokeWidth: border.skirting ? 4 : 1,\n          lineJoin: prev.skirting && next.skirting ? 'round' : 'miter',\n          hitStrokeWidth: 5,\n          allBordersIndex: border.allBordersIndex,\n          innerRadius: c.R,\n          outerRadius: c.R,\n          x: c.c1.x,\n          y: c.c1.y,\n          angle: c.ang2 * (180 / Math.PI) - c.ang1 * (180 / Math.PI),\n          rotation: c.ang1 * (180 / Math.PI),\n          clockwise: c.isInside,\n          radiusTag: border.radiusTag,\n        };\n        return { config, border };\n      });\n    },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    refreshSelectedElTrigger() { return this.$store.state.parts.refreshSelectedElTrigger; },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.action === 'makeBorderCurve') {\n        this.makeBorderCurve(data);\n      } else if (data.action === 'makeBorderLine') {\n        this.$store.dispatch('makeBorderLine', data);\n        this.$store.commit('addLog');\n      } else if (data.action === 'makeBulgeInset') {\n        this.makeBulgeInset(data);\n      } else if (data.action === 'toggleSkirting') {\n        this.$store.commit('toggleSkirting', { i: data.partIndex, j: data.borderIndex });\n        this.$store.commit('addLog');\n      }\n    },\n    refreshSelectedElTrigger() {\n      this.$refs[`border${this.selectedElId}`][0].getNode().fire('click');\n    },\n  },\n  methods: {\n    setContextMenuEvent(e, index) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, partIndex, borderIndex: index });\n    },\n    makeBorderCurve(data) {\n      const pts = this.clone(this.part.borders[data.borderIndex].points);\n      const borderLength = Math.sqrt((pts[2] - pts[0]) ** 2 + (pts[3] - pts[1]) ** 2);\n      const radius = data.isInside ? borderLength : borderLength / 2 + 2;\n      this.$store.dispatch('makeBorderCurve', Object.assign(data, { radius }));\n      this.$store.commit('addLog');\n    },\n    makeBulgeInset(data) {\n      const pts = this.clone(this.part.borders[data.borderIndex].points);\n      const newPoints = [];\n      const depth = 300;\n      const k = data.isInside ? 1 : -1;\n      let startVec = new Victor(pts[0], pts[1]);\n      let vec = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      const length = vec.length();\n      const norm = vec.norm();\n      vec = norm.multiply(new Victor(length / 3, length / 3));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      vec = vec.norm().rotateDeg(90 * k).multiply(new Victor(depth, depth));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      vec = vec.norm().rotateDeg(-90 * k).multiply(new Victor(length / 3, length / 3));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      vec = vec.norm().rotateDeg(-90 * k).multiply(new Victor(depth, depth));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      const { partIndex, borderIndex } = data;\n      const subType = data.isInside ? 'inset' : 'bulge';\n      const pointsId = [];\n      const insetBulgeId = this.getId();\n      newPoints.forEach((p, index) => {\n        const border = { id: this.getId(), type: 'lineBorder', sizeTag: { isShown: true } };\n        if (index < 3) border.subType = subType;\n        this.$store.commit('addBorder', {\n          partIndex,\n          borderIndex: borderIndex + index + 1,\n          border,\n        });\n        const newPointId = this.getId();\n        const point = { id: newPointId, c: p, subType };\n        this.$store.commit('addPoint', {\n          partIndex,\n          pointIndex: borderIndex + index + 1,\n          point: { ...point, insetBulgeId },\n        });\n        pointsId.push(newPointId);\n      });\n      const insetBulge = { partIndex, pointsId, id: insetBulgeId };\n      this.$store.commit('addInsetBulge', { ...insetBulge, type: subType, depth });\n      this.$store.commit('setSelectedElId', insetBulgeId);\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Borders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Borders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Borders.vue?vue&type=template&id=1288c7c1&\"\nimport script from \"./Borders.vue?vue&type=script&lang=js&\"\nexport * from \"./Borders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.allPoints),function(point,index){return _c('v-circle',{key:point.id,attrs:{\"config\":{\n      type: 'point',\n      x: point.cInPx[0],\n      y: point.cInPx[1],\n      radius: _vm.radius,\n      fill: [_vm.currentElId, _vm.selectedElId].includes(point.id)\n        ? _vm.selectedColor : 'transparent',\n      angleTag: point.angleTag,\n      isInsetBulge: !!point.insetBulgeId,\n    }},on:{\"mouseover\":function($event){point.isClickable ? _vm.$store.commit('setCurrentEl', point.id) : ''},\"mouseleave\":function($event){point.isClickable ? _vm.$store.commit('setCurrentEl', null) : ''},\"dragmove\":function($event){return _vm.movePoint($event, index)},\"click\":function($event){point.isClickable ? _vm.$store.commit('setSelectedElId', point.id) : ''},\"contextmenu\":function($event){point.isClickable ? _vm.setContextMenuEvent($event, index) : ''}}})}),_vm._l((_vm.allPoints),function(point,index){return _c('angle-tag',{key:(\"a\" + (point.id)),attrs:{\"partIndex\":_vm.partIndex,\"point\":point,\"pointIndex\":index,\"part\":_vm.part}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.point.angleTag.isShown)?_c('div',[_c('v-label',{ref:\"angle\",attrs:{\"config\":Object.assign({}, _vm.params.textPosition,\n      {rotation: _vm.params.angle,\n      offset: _vm.params.offset,\n      draggable: true,\n      dragBoundFunc: _vm.params.dragBoundFunc})},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"contextmenu\":_vm.setContextMenuEvent,\"dragend\":_vm.dragend}},[_c('v-tag',{attrs:{\"config\":{fill: 'transparent'}}}),_c('v-text',{attrs:{\"config\":{\n      text: _vm.params.angleText,\n      fontSize: _vm.fontSize,\n      fontFamily: 'Calibri',\n      fill: _vm.over ? _vm.selectedColor : 'black',\n      type: 'angleTag',\n    }}})],1),_c('v-arc',{attrs:{\"config\":{\n    stroke: 'black',\n    strokeWidth: 1,\n    innerRadius: _vm.params.radius,\n    outerRadius: _vm.params.radius,\n    x: _vm.params.c1.x,\n    y: _vm.params.c1.y,\n    angle: _vm.params.ang2 * (180 / Math.PI) - _vm.params.ang1 * (180 / Math.PI),\n    rotation: _vm.params.ang1 * (180 / Math.PI),\n    clockwise: true,\n    dash: _vm.dash,\n  }}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"point.angleTag.isShown\">\n    <v-label\n      :config=\"{\n        ...params.textPosition,\n        rotation: params.angle,\n        offset: params.offset,\n        draggable: true,\n        dragBoundFunc: params.dragBoundFunc,\n      }\"\n      ref=\"angle\"\n      @mouseover=\"over = true\"\n      @mouseleave=\"over = false\"\n      @contextmenu=\"setContextMenuEvent\"\n      @dragend=\"dragend\">\n      <v-tag :config=\"{fill: 'transparent'}\" />\n      <v-text :config=\"{\n        text: params.angleText,\n        fontSize,\n        fontFamily: 'Calibri',\n        fill: over ? selectedColor : 'black',\n        type: 'angleTag',\n      }\" />\n    </v-label>\n    <v-arc :config=\"{\n      stroke: 'black',\n      strokeWidth: 1,\n      innerRadius: params.radius,\n      outerRadius: params.radius,\n      x: params.c1.x,\n      y: params.c1.y,\n      angle: params.ang2 * (180 / Math.PI) - params.ang1 * (180 / Math.PI),\n      rotation: params.ang1 * (180 / Math.PI),\n      clockwise: true,\n      dash,\n    }\" />\n  </div>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  props: ['point', 'partIndex', 'pointIndex', 'part'],\n  data() {\n    return {\n      over: false,\n      offsetInMm: 100,\n    };\n  },\n  computed: {\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    fontSize() { return this.$store.state.fontSizeInmM.radius * this.pxPerMm; },\n    params() {\n      const distance = this.point.angleTag.distance || 0;\n      const border1 = this.part.borders.find((b) => b.id === this.point.bordersId[1]);\n      const border2 = this.part.borders.find((b) => b.id === this.point.bordersId[0]);\n      let pts = border1.pointsInPx;\n      const startVec = new Victor(pts[2], pts[3]);\n      const vec1 = new Victor(pts[0] - pts[2], pts[1] - pts[3]);\n      const offsetVec = this.offsetInMm * this.pxPerMm;\n      let vec = vec1.clone().norm().multiply(new Victor(offsetVec, offsetVec));\n      const p1Vec = vec.add(startVec);\n      pts = border2.pointsInPx;\n      const vec2 = new Victor(pts[2] - pts[0], pts[3] - pts[1]);\n      vec = vec2.clone().norm().multiply(new Victor(offsetVec, offsetVec));\n      const p2Vec = vec.add(startVec);\n      const radius = p2Vec.clone().subtract(p1Vec).length() / 2 + 2;\n      const angle1 = vec2.angleDeg();\n      let angleDeg = vec1.angleDeg() - angle1;\n      if (angleDeg < 0) {\n        angleDeg += 360;\n      }\n      let isOpposite = angleDeg >= 180;\n      if (this.point.angleTag.isOutside) isOpposite = !isOpposite;\n      const { ang1, ang2, c1 } = this.getCurve(p1Vec.toObject(),\n        p2Vec.toObject(), radius, isOpposite);\n      const angleText = `${Math.round(angleDeg)} °`;\n      vec = new Victor(p2Vec.x - p1Vec.x, p2Vec.y - p1Vec.y);\n      const middlePoingthLength = vec.length() / 2;\n      vec = vec.clone().norm()\n        .multiply(new Victor(middlePoingthLength, middlePoingthLength)).add(p1Vec);\n      const middlePointVec = new Victor(vec.x - c1.x, vec.y - c1.y);\n      const textOffset = distance ? distance * this.pxPerMm : radius + offsetVec * 1.2;\n      const originalAngle = middlePointVec.angleDeg();\n      let correctAngle = this.point.angleTag.correctAngle || 0;\n      if (isOpposite) correctAngle += 180;\n      const textPosition = middlePointVec.clone().norm()\n        .rotateDeg(correctAngle)\n        .multiply(new Victor(textOffset, textOffset))\n        .add(new Victor(c1.x, c1.y))\n        .toObject();\n      const halfFontSize = this.fontSize / 2;\n      const offset = {\n        x: (halfFontSize * angleText.length) / 2,\n        y: halfFontSize,\n      };\n      const This = this;\n      return {\n        padding: 0,\n        textPosition,\n        angle: 0,\n        offset,\n        angleText,\n        ang1,\n        ang2,\n        radius,\n        c1,\n        originalAngle,\n        angleDeg,\n        isOpposite,\n        pts,\n        dragBoundFunc(pos) {\n          This.dragTag(pos);\n          return this.absolutePosition();\n        },\n      };\n    },\n    partPosition() { return this.part.position; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    dash() { return this.$store.state.dash; },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.pointIndex !== this.pointIndex) return;\n      if (['hide', 'showAngle'].includes(data.action)) {\n        const angleTag = data.action === 'hide' ? {} : { isShown: true, isOutside: false };\n        this.$store.commit('setAngleTagParams', {\n          i: data.partIndex,\n          j: data.pointIndex,\n          ...angleTag,\n        });\n        this.$store.commit('addLog');\n      }\n    },\n    over(over) {\n      if (over) {\n        this.$store.commit('setCursor', 'move');\n      } else {\n        this.$store.commit('resetCursor');\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e) {\n      const { partIndex, pointIndex } = this;\n      this.$store.commit('setContextMenuEvent', {\n        e,\n        partIndex,\n        pointIndex,\n      });\n    },\n    getCurve(p1, p2, radius, isOpposite) {\n      const pm = { x: 0.5 * (p1.x + p2.x), y: 0.5 * (p1.y + p2.y) };\n      let perpABdx = !isOpposite ? -(p2.y - p1.y) : -(p1.y - p2.y);\n      let perpABdy = !isOpposite ? p2.x - p1.x : p1.x - p2.x;\n      const norm = Math.sqrt(perpABdx ** 2 + perpABdy ** 2);\n      perpABdx /= norm;\n      perpABdy /= norm;\n      const dpmp1 = Math.sqrt((pm.x - p1.x) ** 2 + (pm.y - p1.y) ** 2);\n      const sin = dpmp1 / radius;\n      if (sin < -1 || sin > 1) return {};\n      const cos = Math.sqrt(1 - (sin) ** 2);\n      const d = radius * cos;\n      const res1 = { x: pm.x + perpABdx * d, y: pm.y + perpABdy * d };\n      const res2 = { x: pm.x - perpABdx * d, y: pm.y - perpABdy * d };\n      const ang1 = Math.atan2(p1.y - res1.y, p1.x - res1.x);\n      const ang2 = Math.atan2(p2.y - res1.y, p2.x - res1.x);\n      const p1p2Length = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n      const p1p2Cos = (p2.x - p1.x) / p1p2Length;\n      const p1p2Angle = Math.acos(p1p2Cos);\n      const diffY = p1.x > p2.x ? p1.y - p2.y : p2.y - p1.y;\n      const m = diffY > 0 ? -1 : 1;\n      return {\n        c1: res2,\n        p1,\n        p2,\n        R: radius,\n        ang1: (Math.PI + Math.abs(1.57 - p1p2Angle) * 2 * m) - ang1,\n        ang2: (Math.PI + Math.abs(1.57 - p1p2Angle) * 2 * m) - ang2,\n      };\n    },\n    dragTag(pos) {\n      const { pts } = this.params;\n      const x2 = pos.x;\n      const y2 = pos.y;\n      const x3 = this.partPosition.x;\n      const y3 = this.partPosition.y;\n      const vec = new Victor(x2 - (pts[0] + x3), y2 - (pts[1] + y3));\n      const angle = vec.angleDeg();\n      const correctAngle = angle - this.params.originalAngle;\n      const distance = vec.length() / this.pxPerMm;\n      this.$store.commit('setAngleTagParams', {\n        i: this.partIndex,\n        j: this.pointIndex,\n        correctAngle: this.params.isOpposite ? correctAngle + 180 : correctAngle,\n        distance,\n        isShown: true,\n        isOutside: this.point.angleTag.isOutside,\n      });\n    },\n    dragend() {\n      this.$refs.angle.getNode().clearCache();\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AngleTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AngleTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AngleTag.vue?vue&type=template&id=1e93370e&\"\nimport script from \"./AngleTag.vue?vue&type=script&lang=js&\"\nexport * from \"./AngleTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import $ from 'jquery';\n\nexport default (payload) => new Promise((resolve) => {\n  const { body, actions, input } = payload;\n  const { title } = payload;\n  const confirmModal = $('#confirm_modal');\n  $(confirmModal).find('.modal-body').text(body);\n  $(confirmModal).find('.modal-title').text(title);\n  const allActions = actions || [\n    {\n      action: '0',\n      style: 'secondary',\n      text: 'Нет',\n    },\n    {\n      action: '1',\n      style: 'primary',\n      text: 'Да',\n    },\n  ];\n  const buttons = allActions.map((action) => {\n    const button = $('<button class=\"btn\" type=\"button\"></button>');\n    $(button).attr('data-action', action.action).addClass(`btn-${action.style}`).text(action.text);\n    return button;\n  });\n  $(confirmModal).find('.modal-footer').html(buttons);\n  if (input) {\n    const field = $(`<input id=\"data\" type=\"${input.type}\" placeholder=\"${input.placeholder}\" />`);\n    $(field).addClass('form-control mt-3');\n    $(confirmModal).find('.modal-body').append(field);\n  }\n  $(confirmModal).modal('show').on('hide.bs.modal', (e) => {\n    const result = $(e.target).attr('data-result');\n    if (input && result === '1') {\n      const data = $(confirmModal).find('#data').val();\n      resolve(data);\n    } else {\n      resolve(result === '1');\n    }\n    $(confirmModal).off('hide.bs.modal');\n  });\n});\n","<template>\n  <div>\n    <v-circle\n      v-for=\"(point, index) in allPoints\"\n      :key=\"point.id\"\n      :config=\"{\n        type: 'point',\n        x: point.cInPx[0],\n        y: point.cInPx[1],\n        radius,\n        fill: [currentElId, selectedElId].includes(point.id)\n          ? selectedColor : 'transparent',\n        angleTag: point.angleTag,\n        isInsetBulge: !!point.insetBulgeId,\n      }\"\n      @mouseover=\"point.isClickable ? $store.commit('setCurrentEl', point.id) : ''\"\n      @mouseleave=\"point.isClickable ? $store.commit('setCurrentEl', null) : ''\"\n      @dragmove=\"movePoint($event, index)\"\n      @click=\"point.isClickable ? $store.commit('setSelectedElId', point.id) : ''\"\n      @contextmenu=\"point.isClickable ? setContextMenuEvent($event, index) : ''\">\n    </v-circle>\n    <angle-tag\n      v-for=\"(point, index) in allPoints\"\n      :key=\"`a${point.id}`\"\n      :partIndex=\"partIndex\"\n      :point=\"point\"\n      :pointIndex=\"index\"\n      :part=\"part\" />\n  </div>\n</template>\n\n<script>\nimport Victor from 'victor';\nimport toastr from 'toastr';\nimport getId from '../../mixins/getId';\nimport AngleTag from './AngleTag.vue';\nimport confirmModal from '../../modules/ConfirmModal';\n\nexport default {\n  mixins: [getId],\n  components: { AngleTag },\n  props: ['points', 'partIndex', 'part'],\n  computed: {\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    radius() { return 60 * this.pxPerMm; },\n    allPoints() {\n      return this.points.map((point) => {\n        const pt = {\n          ...point,\n          // isClickable: !['inset', 'bulge'].includes(point.subType),\n          isClickable: true,\n        };\n        return pt;\n      });\n    },\n    selectedColor() { return this.$store.state.selectedColor; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      this.$store.commit('setContextMenuEvent', null);\n      if (data.action === 'addPoint') {\n        this.addPoint(data);\n      } else if (data.action === 'deletePoint') {\n        this.deletePoint(data);\n      } else if (data.action === 'makeCorderCut') {\n        this.makeCorderCut(data);\n      } else if (data.action === 'makeRounded') {\n        this.makeRounded(data);\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e, index) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, partIndex, pointIndex: index });\n    },\n    movePoint(event, pointIndex) {\n      const { partIndex } = this;\n      const c = Object.values(event.target.position()).map((pc) => pc / this.pxPerMm);\n      this.$store.commit('movePoint', { pointIndex, partIndex, c });\n    },\n    addPoint(data) {\n      const index = data.borderIndex;\n      const pt1 = this.part.points[index].c;\n      const pt2 = index < this.part.points.length - 1\n        ? this.part.points[index + 1].c : this.part.points[0].c;\n      const pt3 = [pt1[0] + (pt2[0] - pt1[0]) / 2, pt1[1] + (pt2[1] - pt1[1]) / 2];\n      const { partIndex } = data;\n      this.$store.commit('addBorder', {\n        partIndex,\n        borderIndex: index + 1,\n        border: { id: this.getId(), type: 'lineBorder' },\n      });\n      this.$store.commit('addPoint', { partIndex, pointIndex: index + 1, point: { id: this.getId(), c: pt3 } });\n      this.$store.commit('addLog');\n    },\n    deletePoint(data) {\n      this.$store.commit('deletePoint', data);\n      this.$store.commit('addLog');\n    },\n    makeCorderCut(data) {\n      const { pointIndex, partIndex } = data;\n      const point = this.points[pointIndex];\n      const prev = pointIndex ? this.points[pointIndex - 1] : this.points[this.points.length - 1];\n      const newPoints = [];\n      const depth = 300;\n      let startVec = new Victor(point.c[0], point.c[1]);\n      let vec = new Victor(prev.c[0] - point.c[0], prev.c[1] - point.c[1]);\n      vec = vec.norm().multiply(new Victor(depth, depth));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toObject());\n      vec = vec.norm().rotateDeg(-90).multiply(new Victor(depth, depth));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      vec = vec.norm().rotateDeg(-90).multiply(new Victor(depth, depth));\n      startVec = vec.clone().add(startVec);\n      newPoints.push(startVec.toArray());\n      newPoints.forEach((p, index) => {\n        if (!index) {\n          const payload = { i: partIndex, j: pointIndex, point: p };\n          this.$store.dispatch('changePoint', payload);\n          return;\n        }\n        const border = { id: this.getId(), type: 'lineBorder', sizeTag: { isShown: true } };\n        this.$store.commit('addBorder', {\n          partIndex,\n          borderIndex: pointIndex + index,\n          border,\n        });\n        const newPointId = this.getId();\n        this.$store.commit('addPoint', {\n          partIndex,\n          pointIndex: pointIndex + index,\n          point: { id: newPointId, c: p },\n        });\n      });\n      this.$store.commit('addLog');\n    },\n    async makeRounded(data) {\n      let payload = { body: 'Введите радиус', title: 'Закруглить угол' };\n      payload = { ...payload, input: { type: 'number', placeholder: 'радиус в мм' } };\n      payload.actions = [\n        { action: '0', style: 'secondary', text: 'Отмена' },\n        { action: '1', style: 'primary', text: 'Применить' },\n      ];\n      const confirmation = await confirmModal(payload);\n      if (!confirmation) return;\n      const radius = parseInt(confirmation, 10);\n      if (Number.isNaN(radius)) {\n        toastr.warning('Радиус введен неверно');\n      }\n      const j2 = data.pointIndex;\n      const j1 = j2 > 0 ? j2 - 1 : this.points.length - 1;\n      const border1 = this.part.borders[j1];\n      const pts1 = border1.points;\n      const border2 = this.part.borders[j2];\n      const pts2 = border2.points;\n      const startVec = new Victor(pts1[2], pts1[3]);\n      const vec1 = new Victor(pts1[0] - pts1[2], pts1[1] - pts1[3]);\n      const newPoint1 = vec1.norm().multiply(new Victor(radius, radius)).add(startVec).toArray();\n      const vec2 = new Victor(pts2[2] - pts2[0], pts2[3] - pts2[1]);\n      const newPoint2 = vec2.norm().multiply(new Victor(radius, radius)).add(startVec).toArray();\n      const { partIndex, pointIndex } = data;\n      this.$store.commit('addBorder', {\n        partIndex,\n        borderIndex: j2 + 1,\n        border: { id: this.getId(), type: 'lineBorder' },\n      });\n      this.$store.commit('addPoint', {\n        partIndex,\n        pointIndex: j2 + 1,\n        point: { id: this.getId(), c: newPoint2 },\n      });\n      this.$store.commit('movePoint', { pointIndex, partIndex, c: newPoint1 });\n      const params = { borderIndex: j2, radius, isInside: false };\n      this.$store.dispatch('makeBorderCurve', { ...params, partIndex });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Points.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Points.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Points.vue?vue&type=template&id=30426eb8&\"\nimport script from \"./Points.vue?vue&type=script&lang=js&\"\nexport * from \"./Points.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.insetsBulges),function(iB,i){return _c('v-line',{key:iB.id,attrs:{\"config\":Object.assign({}, _vm.configs[i],\n      {strokeWidth: [_vm.currentElId, _vm.selectedElId].includes(iB.id) ? 2 : 0})},on:{\"mouseover\":function($event){return _vm.$store.commit('setCurrentEl', iB.id)},\"mouseleave\":function($event){return _vm.$store.commit('setCurrentEl', null)},\"click\":function($event){return _vm.$store.commit('setSelectedElId', iB.id)},\"contextmenu\":function($event){return _vm.setContextMenuEvent($event, i)}}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-line\n      v-for=\"(iB, i) in insetsBulges\"\n      :key=\"iB.id\"\n      :config=\"{\n        ...configs[i],\n        strokeWidth: [currentElId, selectedElId].includes(iB.id) ? 2 : 0,\n      }\"\n      @mouseover=\"$store.commit('setCurrentEl', iB.id)\"\n      @mouseleave=\"$store.commit('setCurrentEl', null)\"\n      @click=\"$store.commit('setSelectedElId', iB.id)\"\n      @contextmenu=\"setContextMenuEvent($event, i)\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['part', 'partIndex'],\n  computed: {\n    insetsBulges() { return this.part.insetsBulges; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    dash() { return [this.pxPerMm * 30, this.pxPerMm * 15]; },\n    selectedColor() { return this.$store.state.selectedColor; },\n    configs() {\n      return this.insetsBulges.map((iB) => ({\n        id: iB.id,\n        points: iB.pointsInPx,\n        closed: true,\n        dash: this.dash,\n        stroke: this.selectedColor,\n        type: iB.type,\n      }));\n    },\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.action === 'deleteInsetBulge') {\n        this.deleteInsetBulge(data);\n      }\n    },\n  },\n  methods: {\n    setContextMenuEvent(e, index) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, partIndex, insetBulgeIndex: index });\n    },\n    deleteInsetBulge(data) {\n      const { pointsId } = this.insetsBulges[data.insetBulgeIndex];\n      const { partIndex } = this;\n      this.$store.commit('setSelectedElId', null);\n      const pointIndex = this.part.points.findIndex((p) => pointsId.includes(p.id));\n      new Array(4).fill('').forEach(() => {\n        this.$store.commit('deletePoint', { partIndex, pointIndex });\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsetsBulges.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsetsBulges.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InsetsBulges.vue?vue&type=template&id=a9691248&\"\nimport script from \"./InsetsBulges.vue?vue&type=script&lang=js&\"\nexport * from \"./InsetsBulges.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import $ from 'jquery';\n\nexport default (params) => {\n  const { type, color } = params;\n  const size = params.size || 10;\n  let svg;\n  const rotate = `rotate(90 ${size / 2} ${size / 2})`;\n  switch (type) {\n    case 'dots':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='${size}' height='${size}'>\n          <circle cx=\"1\" cy=\"1\" r=\"1\" fill=\"${color}\"/>\n        </svg>\n      `;\n      break;\n    case 'verticalLines':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='${size / 2}' height='${size}'>\n          <rect x='0' y='0' width='1' height='${size}' fill='${color}' />\n        </svg>\n      `;\n      break;\n    case 'horizontalLines':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='${size}' height='${size / 2}'>\n          <rect x='0' y='0' width='${size}' height='1' fill='${color}' />\n        </svg>\n      `;\n      break;\n    case 'rightDiagonalLines':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='${size}' height='${size}'>\n          <path d='M-1,1 l2,-2 M0,10 l10,-10 M9,11 l2,-2' stroke='${color}' stroke-width='1'/>\n        </svg>\n      `;\n      break;\n    case 'leftDiagonalLines':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='${size}' height='${size}'>\n          <path d='M-1,1 l2,-2 M0,10 l10,-10 M9,11 l2,-2' stroke='${color}' stroke-width='1' transform=\"${rotate}\"/>\n        </svg>\n      `;\n      break;\n    case 'rightSmallDiagonalLines':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='5' height='5'>\n          <path d='M0 5L5 0ZM6 4L4 6ZM-1 1L1 -1Z' stroke='${color}' stroke-width='1'/>\n        </svg>\n      `;\n      break;\n    case 'rhombus':\n      svg = `\n        <svg xmlns='http://www.w3.org/2000/svg' width='8' height='8'>\n          <path d='M0 0L8 8ZM8 0L0 8Z' stroke-width='0.5' stroke='${color}'/>\n        </svg>\n      `;\n      break;\n    default:\n      return null;\n  }\n  const xml = (new XMLSerializer()).serializeToString($(svg)[0]);\n  const image = new Image();\n  image.src = `data:image/svg+xml;charset=utf-8,${xml}`;\n  return image;\n};\n","<template>\n  <div>\n    <v-group\n      :config=\"groupConfig\"\n      @dragend=\"log\">\n      <v-shape :config=\"{\n        ...partShapeConfig,\n        fill: fill.color,\n        fillPatternImage: fill.image,\n        fillPriority: 'pattern',\n      }\"\n      @mouseover=\"$store.commit('setCurrentEl', partShapeConfig.id)\"\n      @mouseleave=\"$store.commit('setCurrentEl', null)\"\n      @click=\"$store.commit('setSelectedElId', part.id)\"\n      @contextmenu=\"setContextMenuEvent\" />\n      <insets-bulges\n        :part=\"part\"\n        :partIndex=\"partIndex\"\n        v-if=\"part.insetsBulges && part.insetsBulges.length\" />\n      <borders\n        :part=\"part\"\n        :partIndex=\"partIndex\"\n        :curves=\"curves\" />\n      <points :points=\"part.points\" :partIndex=\"partIndex\" :part=\"part\" />\n    </v-group>\n  </div>\n</template>\n\n<script>\nimport Borders from './Borders.vue';\nimport Points from './Points.vue';\nimport InsetsBulges from './InsetsBulges.vue';\nimport fills from '../../modules/fills';\n\nexport default {\n  props: ['partIndex', 'part'],\n  data() {\n    return {\n    };\n  },\n  components: {\n    Borders,\n    Points,\n    InsetsBulges,\n  },\n  computed: {\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    curves() {\n      const curves = {};\n      this.part.borders.forEach((border) => {\n        if (border.type !== 'curveBorder') return;\n        const radius = border.radiusInPx;\n        const points = border.pointsInPx;\n        const p1 = { x: points[0], y: points[1] };\n        const p2 = { x: points[2], y: points[3] };\n        const pm = { x: 0.5 * (p1.x + p2.x), y: 0.5 * (p1.y + p2.y) };\n        let perpABdx = -(p2.y - p1.y);\n        let perpABdy = p2.x - p1.x;\n        const norm = Math.sqrt(perpABdx ** 2 + perpABdy ** 2);\n        perpABdx /= norm;\n        perpABdy /= norm;\n        const dpmp1 = Math.sqrt((pm.x - p1.x) ** 2 + (pm.y - p1.y) ** 2);\n        const sin = dpmp1 / radius;\n        if (sin < -1 || sin > 1) return;\n        const cos = Math.sqrt(1 - (sin) ** 2);\n        const d = radius * cos;\n        const res1 = { x: pm.x + perpABdx * d, y: pm.y + perpABdy * d };\n        const res2 = { x: pm.x - perpABdx * d, y: pm.y - perpABdy * d };\n        const ang1 = Math.atan2(p1.y - res1.y, p1.x - res1.x);\n        const ang2 = Math.atan2(p2.y - res1.y, p2.x - res1.x);\n        const p1p2Length = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n        const p1p2Cos = (p2.x - p1.x) / p1p2Length;\n        const p1p2Angle = Math.acos(p1p2Cos);\n        const diffY = p1.x > p2.x ? p1.y - p2.y : p2.y - p1.y;\n        const m = diffY > 0 ? -1 : 1;\n        curves[border.id] = {\n          c1: border.isInside ? res2 : res1,\n          p1,\n          p2,\n          R: radius,\n          ang1: border.isInside ? (Math.PI + Math.abs(1.57 - p1p2Angle) * 2 * m) - ang1 : ang1,\n          ang2: border.isInside ? (Math.PI + Math.abs(1.57 - p1p2Angle) * 2 * m) - ang2 : ang2,\n          isInside: border.isInside,\n        };\n      });\n      return curves;\n    },\n    partShapeConfig() {\n      const { points, borders, type } = this.part;\n      const { curves } = this;\n      return {\n        type,\n        id: this.part.id,\n        sceneFunc(ctx, shape) {\n          ctx.beginPath();\n          ctx.moveTo(...points[0].cInPx);\n          points.forEach((point, i) => {\n            if (borders[i].type === 'lineBorder') {\n              ctx.lineTo(...point.cInPx);\n            } else if (borders[i].type === 'curveBorder') {\n              const c = curves[borders[i].id];\n              ctx.arc(c.c1.x, c.c1.y, c.R, c.ang1, c.ang2, c.isInside);\n            }\n          });\n          ctx.fillStrokeShape(shape);\n        },\n      };\n    },\n    otherPartsBB() {\n      return this.$store.getters.boundingBoxes.filter((bb) => bb.id !== this.part.id);\n    },\n    myBB() {\n      return this.$store.getters.boundingBoxes[this.partIndex];\n    },\n    groupConfig() {\n      const bb = this.otherPartsBB;\n      const my = this.myBB.absolute;\n      let block = null;\n      const config = {\n        type: 'part',\n        draggable: true,\n        dragBoundFunc(pos) {\n          const newPos = pos;\n          if (bb.length) {\n            const x1 = my.x1 + pos.x;\n            const x2 = my.x2 + pos.x;\n            const y1 = my.y1 + pos.y;\n            const y2 = my.y2 + pos.y;\n            const isBlock = bb.some((bBox) => {\n              const b = bBox.relative;\n              if (x1 >= b.x2 || x2 <= b.x1) return false;\n              if (y1 >= b.y2 || y2 <= b.y1) return false;\n              const diff = { x: 0, y: 0 };\n              diff.x = x2 > b.x2 ? b.x2 - x1 : x2 - b.x1;\n              diff.y = y2 > b.y2 ? b.y2 - y1 : y2 - b.y1;\n              if (diff.x < diff.y && (block === null || block === 'x')) {\n                newPos.x = x2 >= b.x2 ? b.x2 - my.x1 : b.x1 - my.x2;\n                block = 'x';\n              } else {\n                newPos.y = y2 >= b.y2 ? b.y2 - my.y1 : b.y1 - my.y2;\n                block = 'y';\n              }\n              return true;\n            });\n            block = isBlock ? block : null;\n          }\n          return newPos;\n        },\n      };\n      if (this.part.position) {\n        Object.assign(config, { ...this.part.position });\n      }\n      return config;\n    },\n    fill() {\n      const { fill } = this.$store.state.parts.partsInit[this.partIndex];\n      const fillParams = { color: null, image: null };\n      if (!fill) return fillParams;\n      if (fill === 'color') {\n        fillParams.color = '#80808054';\n      } else {\n        fillParams.image = fills({ type: fill, color: 'rgb(200,200,200)' });\n      }\n      return fillParams;\n    },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n  },\n  watch: {\n    contextMenuAction(data) {\n      if (data.partIndex !== this.partIndex) return;\n      if (data.action === 'deletePart') {\n        setTimeout(() => {\n          this.$store.commit('deletePart', data.partIndex);\n          this.$store.commit('addLog');\n        }, 0);\n      }\n    },\n  },\n  methods: {\n    log(e) {\n      if (e.target.attrs.type !== 'part') return;\n      this.setPartPosition(e.target.getPosition());\n    },\n    setPartPosition(pos) {\n      this.$store.commit('setPartPosition', { i: this.partIndex, pos });\n      this.$store.commit('addLog');\n    },\n    setContextMenuEvent(e) {\n      const { partIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, partIndex });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Part.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Part.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Part.vue?vue&type=template&id=5db3c008&\"\nimport script from \"./Part.vue?vue&type=script&lang=js&\"\nexport * from \"./Part.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.element)?_c('div',{staticClass:\"d-inline-block bg-white p-4 position-absolute element-menu\"},[(_vm.element.type === 'lineBorder')?_c('line-border'):_vm._e(),(_vm.element.type === 'curveBorder')?_c('curve-border'):_vm._e(),(['inset', 'bulge'].includes(_vm.element.type))?_c('inset-bulge'):_vm._e(),(_vm.element.type === 'edge')?_c('edge',{attrs:{\"initType\":_vm.element.edgeType}}):_vm._e(),(_vm.element.type === 'part')?_c('part-menu'):_vm._e(),(['totalText', 'partText'].includes(_vm.element.type))?_c('text-menu'):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setBorderLength($event)}}},[_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Длина\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lengthInMm),expression:\"lengthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.lengthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.lengthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_vm._m(0),_c('div',{staticClass:\"col-auto\"},[_c('change-line-by-end',{attrs:{\"element\":_vm.element,\"points\":_vm.points},on:{\"setChoosedPoint\":function($event){_vm.choosedPoint = $event}}})],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-auto text-left\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Установить\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-group ml-3\",attrs:{\"role\":\"group\",\"title\":\"За счет какой стороны менять длину\"}},[_c('button',{staticClass:\"btn\",class:[(\"btn\" + (_vm.choosed === 1 ? '' : '-outline') + \"-secondary\")],attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.choosed = 1}}},[_c('font-awesome-icon',{style:(_vm.angleStyle),attrs:{\"icon\":\"long-arrow-alt-right\"}})],1),_c('button',{staticClass:\"btn\",class:[(\"btn\" + (!_vm.choosed ? '' : '-outline') + \"-secondary\")],attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.choosed = 0}}},[_c('font-awesome-icon',{style:(_vm.angleStyle),attrs:{\"icon\":\"long-arrow-alt-left\"}})],1),_c('button',{staticClass:\"btn\",class:[(\"btn\" + (_vm.choosed === 'both' ? '' : '-outline') + \"-secondary\")],attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.choosed = 'both'}}},[_c('font-awesome-icon',{style:(_vm.angleStyle),attrs:{\"icon\":\"arrows-alt-h\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"btn-group ml-3\"\n    role=\"group\"\n    title=\"За счет какой стороны менять длину\">\n    <button\n      type=\"button\"\n      @click=\"choosed = 1\"\n      :class=\"[`btn${choosed === 1 ? '' : '-outline'}-secondary`]\"\n      class=\"btn\">\n      <font-awesome-icon icon=\"long-arrow-alt-right\" :style=\"angleStyle\" />\n    </button>\n    <button\n      type=\"button\"\n      @click=\"choosed = 0\"\n      :class=\"[`btn${!choosed ? '' : '-outline'}-secondary`]\"\n      class=\"btn\">\n      <font-awesome-icon icon=\"long-arrow-alt-left\" :style=\"angleStyle\" />\n    </button>\n    <button\n      type=\"button\"\n      @click=\"choosed = 'both'\"\n      :class=\"[`btn${choosed === 'both' ? '' : '-outline'}-secondary`]\"\n      class=\"btn\">\n      <font-awesome-icon icon=\"arrows-alt-h\" :style=\"angleStyle\" />\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['element', 'points'],\n  data() {\n    return {\n      choosed: 1,\n    };\n  },\n  computed: {\n    angleStyle() {\n      if (!this.points) return null;\n      const { points } = this;\n      const p1 = points[0];\n      const p2 = points[1];\n      const length = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n      const cos = (p2.x - p1.x) / length;\n      let angle = Math.acos(cos) * (180 / Math.PI);\n      angle = p2.y > p1.y ? angle : -angle;\n      return {\n        transform: `rotate(${angle}deg)`,\n      };\n    },\n  },\n  watch: {\n    choosed: {\n      handler(choosed) {\n        // const pts = this.points;\n        // const changePointId = typeof choosed === 'string'\n        // ? [pts[0].id, pts[1].id] : pts[choosed];\n        this.$emit('setChoosedPoint', choosed);\n      },\n      immediate: true,\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeLineByEnd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeLineByEnd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangeLineByEnd.vue?vue&type=template&id=6b5327ec&\"\nimport script from \"./ChangeLineByEnd.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangeLineByEnd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <form @submit.prevent=\"setBorderLength\">\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Длина</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"lengthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <div class=\"col-auto text-left\">\n          <button type=\"submit\" class=\"btn btn-primary\">Установить</button>\n        </div>\n        <div class=\"col-auto\">\n          <change-line-by-end\n            :element=\"element\"\n            :points=\"points\"\n            @setChoosedPoint=\"choosedPoint = $event\" />\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport ChangeLineByEnd from './ChangeLineByEnd.vue';\nimport confirmModal from '../../../modules/ConfirmModal';\n\nexport default {\n  components: { ChangeLineByEnd },\n  data() {\n    return {\n      choosedPoint: null,\n      lengthInMm: 0,\n    };\n  },\n  computed: {\n    parts() { return this.$store.getters.parts; },\n    selectedEl() { return this.$store.getters.selectedEl; },\n    part() { return this.parts[this.selectedEl.i]; },\n    element() { return this.selectedEl.el; },\n    elementId() { return this.element.id; },\n    points() {\n      let pts = this.clone(this.element.points);\n      const { pointsId } = this.element;\n      pts = [\n        { x: pts[0], y: pts[1], id: pointsId[0] },\n        { x: pts[2], y: pts[3], id: pointsId[1] },\n      ].sort((p1, p2) => p1.x - p2.x);\n      if (pts[0].x === pts[1].x) pts = pts.sort((p1, p2) => p1.y - p2.y);\n      return pts;\n    },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    currentLengthInMm() {\n      const [p1, p2] = this.points;\n      const length = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n      return Math.round(length);\n    },\n  },\n  watch: {\n    points: {\n      handler() {\n        this.getLength();\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    getLength() {\n      this.lengthInMm = this.currentLengthInMm;\n    },\n    async setBorderLength() {\n      const { m, n } = this.getLinearEquation();\n      const pts = this.points;\n      const nums = this.choosedPoint === 'both' ? [0, 1] : [this.choosedPoint];\n      const newCoords = [];\n      const currentLength = this.currentLengthInMm;\n      const diffX = (pts[0].x - pts[1].x) / currentLength;\n      const newLength = this.lengthInMm;\n      nums.forEach((num) => {\n        const p = this.clone(pts[num]);\n        const other = !num ? this.clone(pts[1]) : this.clone(pts[0]);\n        const diffLength = this.choosedPoint === 'both'\n          ? (newLength - currentLength) / 2 : newLength - currentLength;\n        if (p.x === other.x) {\n          const sign = p.y > other.y ? 1 : -1;\n          p.y += diffLength * sign;\n        } else if (p.y === other.y) {\n          const sign = p.x > other.x ? 1 : -1;\n          p.x += diffLength * sign;\n        } else {\n          const sign = (p.y > other.y && m < 0) || (p.y < other.y && m > 0) ? 1 : -1;\n          const addX = diffX * diffLength * sign;\n          p.x += addX;\n          p.y = p.x * m + n;\n        }\n        newCoords.push(p);\n      });\n      const { i } = this.selectedEl;\n      const radiuses = this.checkIfNeedFixCurvesRadiuses(newCoords, i);\n      if (radiuses.length) {\n        const body = 'При изменении данной длины будут увеличены радиус(ы) прилегающих выпуклых/вогнутых линий. Продолжить?';\n        const title = 'Подтверждение';\n        const confirmation = await confirmModal({ body, title });\n        if (!confirmation) return;\n      }\n      if (radiuses.length) {\n        radiuses.forEach((r) => {\n          const { j, radius } = r;\n          this.$store.dispatch('changeRadius', { i, j, radius });\n        });\n      }\n      const insetsBulges = [];\n      this.parts[i].points.some((point, j) => {\n        const index = newCoords.findIndex((p) => p.id === point.id);\n        if (index >= 0) {\n          if (['inset', 'bulge'].includes(point.subType)) {\n            insetsBulges.push({\n              insetBulgeId: point.insetBulgeId,\n              fromPointId: point.id,\n              x: newCoords[index].x - point.c[0],\n              y: newCoords[index].y - point.c[1],\n            });\n          }\n          this.$store.dispatch('changePoint', {\n            i,\n            j,\n            point: newCoords.splice(index, 1)[0],\n          });\n        }\n        return !newCoords.length;\n      });\n      if (insetsBulges.length) {\n        insetsBulges.forEach((iB) => {\n          const insetBulge = this.part.insetsBulges.find((ib) => ib.id === iB.insetBulgeId);\n          insetBulge.pointsId.filter((id) => id !== iB.fromPointId).forEach((id) => {\n            const index = this.part.points.findIndex((p) => p.id === id);\n            const [x, y] = this.part.points[index].c;\n            this.$store.dispatch('changePoint', {\n              i,\n              j: index,\n              point: { x: x + iB.x, y: y + iB.y },\n            });\n          });\n        });\n      }\n      this.$store.commit('addLog');\n    },\n    getLinearEquation() {\n      // y = mx + n - формула линейного уравнения\n      const pts = this.points;\n      const m = (pts[1].y - pts[0].y) / (pts[1].x - pts[0].x);\n      const n = -pts[0].x * m + pts[0].y;\n      return { m, n };\n    },\n    checkIfNeedFixCurvesRadiuses(pts, i) {\n      const ids = pts.map((p) => p.id);\n      const radiuses = [];\n      this.parts[i].borders.some((border, j) => {\n        if (border.type !== 'curveBorder') return false;\n        const pointIdIndex = border.pointsId.findIndex((id) => ids.includes(id));\n        if (pointIdIndex < 0) return false;\n        const p1 = pts.find((p) => p.id === border.pointsId[pointIdIndex]);\n        const p2 = pointIdIndex === 0\n          ? { x: border.points[2], y: border.points[3] }\n          : { x: border.points[0], y: border.points[1] };\n        const minRadius = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2) / 2 + 2;\n        if (border.radius >= minRadius) return false;\n        radiuses.push({ j, radius: minRadius });\n        return true;\n      });\n      return radiuses;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineBorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LineBorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LineBorder.vue?vue&type=template&id=7f0916a6&\"\nimport script from \"./LineBorder.vue?vue&type=script&lang=js&\"\nexport * from \"./LineBorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setParams($event)}}},[_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Радиус\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.radiusInMm),expression:\"radiusInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.radiusInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.radiusInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")]),_c('div',{staticClass:\"w-100\"}),_c('small',{staticClass:\"form-text text-muted col-auto text-left\"},[_vm._v(\" \"+_vm._s((\"Минимальный радиус \" + _vm.minRadius + \" мм\"))+\" \")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Длина по прямой\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.lengthInMm),expression:\"lengthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.lengthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.lengthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")]),_c('div',{staticClass:\"w-100\"}),_c('small',{staticClass:\"form-text text-muted col-auto text-left\"},[_vm._v(\" \"+_vm._s((\"Максимальная длина \" + _vm.maxLength + \" мм\"))+\" \")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_vm._m(0),_c('div',{staticClass:\"col-auto\"},[_c('change-line-by-end',{attrs:{\"element\":_vm.element,\"points\":_vm.points},on:{\"setChoosedPoint\":function($event){_vm.choosedPoint = $event}}})],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-auto text-left\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Установить\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <form @submit.prevent=\"setParams\">\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Радиус</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"radiusInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n        <div class=\"w-100\"></div>\n        <small\n          class=\"form-text text-muted col-auto text-left\">\n          {{ `Минимальный радиус ${minRadius} мм` }}\n        </small>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Длина по прямой</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"lengthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n        <div class=\"w-100\"></div>\n        <small\n          class=\"form-text text-muted col-auto text-left\">\n          {{ `Максимальная длина ${maxLength} мм` }}\n        </small>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <div class=\"col-auto text-left\">\n          <button type=\"submit\" class=\"btn btn-primary\">Установить</button>\n        </div>\n        <div class=\"col-auto\">\n          <change-line-by-end\n            :element=\"element\"\n            :points=\"points\"\n            @setChoosedPoint=\"choosedPoint = $event\" />\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport toastr from 'toastr';\nimport ChangeLineByEnd from './ChangeLineByEnd.vue';\nimport confirmModal from '../../../modules/ConfirmModal';\n\nexport default {\n  components: { ChangeLineByEnd },\n  data() {\n    return {\n      radiusInMm: 0,\n      choosedPoint: null,\n      lengthInMm: 0,\n    };\n  },\n  computed: {\n    parts() { return this.$store.getters.parts; },\n    selectedEl() { return this.$store.getters.selectedEl; },\n    element() { return this.selectedEl.el; },\n    elementId() { return this.element.id; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    points() {\n      let pts = this.clone(this.element.points);\n      const { pointsId } = this.element;\n      pts = [\n        { x: pts[0], y: pts[1], id: pointsId[0] },\n        { x: pts[2], y: pts[3], id: pointsId[1] },\n      ].sort((p1, p2) => p1.x - p2.x);\n      if (pts[0].x === pts[1].x) pts = pts.sort((p1, p2) => p1.y - p2.y);\n      return pts;\n    },\n    currentLengthInMm() {\n      const [p1, p2] = this.points;\n      const length = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2);\n      return Math.round(length);\n    },\n    minRadius() {\n      return Math.round(this.lengthInMm / 2) + 2;\n    },\n    maxLength() {\n      return this.radiusInMm * 2 - 2;\n    },\n  },\n  watch: {\n    points: {\n      handler() {\n        this.radiusInMm = Math.round(this.element.radius);\n        this.lengthInMm = this.currentLengthInMm;\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    setParams() {\n      if (this.lengthInMm > this.maxLength) {\n        toastr.warning(`При таком радиусе длина не может быть больше ${this.maxLength} мм`);\n        return;\n      }\n      if (this.radiusInMm < this.minRadius) {\n        toastr.warning(`Радиус не может быть меньше ${this.minRadius} мм`);\n        return;\n      }\n      this.setRadius();\n      this.setBorderLength();\n      this.$store.commit('addLog');\n    },\n    setRadius() {\n      const { i, j } = this.selectedEl;\n      this.$store.dispatch('changeRadius', { i, j, radius: this.radiusInMm });\n    },\n    async setBorderLength() {\n      const { m, n } = this.getLinearEquation();\n      const pts = this.points;\n      const nums = this.choosedPoint === 'both' ? [0, 1] : [this.choosedPoint];\n      const newCoords = [];\n      const currentLength = this.currentLengthInMm;\n      const diffX = (pts[0].x - pts[1].x) / currentLength;\n      const newLength = this.lengthInMm;\n      nums.forEach((num) => {\n        const p = this.clone(pts[num]);\n        const other = !num ? this.clone(pts[1]) : this.clone(pts[0]);\n        const diffLength = this.choosedPoint === 'both'\n          ? (newLength - currentLength) / 2 : newLength - currentLength;\n        if (p.x === other.x) {\n          const sign = p.y > other.y ? 1 : -1;\n          p.y += diffLength * sign;\n        } else if (p.y === other.y) {\n          const sign = p.x > other.x ? 1 : -1;\n          p.x += diffLength * sign;\n        } else {\n          const sign = (p.y > other.y && m < 0) || (p.y < other.y && m > 0) ? 1 : -1;\n          const addX = diffX * diffLength * sign;\n          p.x += addX;\n          p.y = p.x * m + n;\n        }\n        newCoords.push(p);\n      });\n      const { i } = this.selectedEl;\n      const radiuses = this.checkIfNeedFixCurvesRadiuses(newCoords, i);\n      if (radiuses.length) {\n        const body = 'При изменении данной длины будут увеличены радиус(ы) прилегающих выпуклых/вогнутых линий. Продолжить?';\n        const title = 'Подтверждение';\n        const confirmation = await confirmModal({ body, title });\n        if (!confirmation) return;\n      }\n      if (radiuses.length) {\n        radiuses.forEach((r) => {\n          const { j, radius } = r;\n          this.$store.dispatch('changeRadius', { i, j, radius });\n        });\n      }\n      this.parts[i].points.some((point, j) => {\n        const index = newCoords.findIndex((p) => p.id === point.id);\n        if (index >= 0) {\n          this.$store.dispatch('changePoint', {\n            i,\n            j,\n            point: newCoords.splice(index, 1)[0],\n          });\n        }\n        return !newCoords.length;\n      });\n    },\n    getLinearEquation() {\n      // y = mx + n - формула линейного уравнения\n      const pts = this.points;\n      const m = (pts[1].y - pts[0].y) / (pts[1].x - pts[0].x);\n      const n = -pts[0].x * m + pts[0].y;\n      return { m, n };\n    },\n    checkIfNeedFixCurvesRadiuses(pts, i) {\n      const ids = pts.map((p) => p.id);\n      const radiuses = [];\n      this.parts[i].borders.some((border, j) => {\n        if (border.type !== 'curveBorder') return false;\n        const pointIdIndex = border.pointsId.findIndex((id) => ids.includes(id));\n        if (pointIdIndex < 0) return false;\n        const p1 = pts.find((p) => p.id === border.pointsId[pointIdIndex]);\n        const p2 = pointIdIndex === 0\n          ? { x: border.points[2], y: border.points[3] }\n          : { x: border.points[0], y: border.points[1] };\n        const minRadius = Math.sqrt((p2.x - p1.x) ** 2 + (p2.y - p1.y) ** 2) / 2 + 2;\n        if (border.radius >= minRadius) return false;\n        radiuses.push({ j, radius: minRadius });\n        return true;\n      });\n      return radiuses;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurveBorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CurveBorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CurveBorder.vue?vue&type=template&id=1f62330b&\"\nimport script from \"./CurveBorder.vue?vue&type=script&lang=js&\"\nexport * from \"./CurveBorder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setParams($event)}}},[_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Внешняя длина\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.outLengthInMm),expression:\"outLengthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.outLengthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.outLengthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Внутренняя длина\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inLengthInMm),expression:\"inLengthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.inLengthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inLengthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_c('div',{staticClass:\"form-group row no-gutters\"},[_c('label',{staticClass:\"col-auto col-form-label text-left\"},[_vm._v(\"Глубина\")]),_c('div',{staticClass:\"col-auto px-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.depthInMm),expression:\"depthInMm\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.depthInMm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.depthInMm=$event.target.value}}})]),_c('span',{staticClass:\"col-auto d-flex align-items-center\"},[_vm._v(\"мм\")])]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group row no-gutters\"},[_c('div',{staticClass:\"col-auto text-left\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Установить\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <form @submit.prevent=\"setParams\">\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Внешняя длина</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"outLengthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Внутренняя длина</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"inLengthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <label class=\"col-auto col-form-label text-left\">Глубина</label>\n        <div class=\"col-auto px-1\">\n          <input type=\"text\" class=\"form-control\" v-model=\"depthInMm\">\n        </div>\n        <span class=\"col-auto d-flex align-items-center\">мм</span>\n      </div>\n      <div class=\"form-group row no-gutters\">\n        <div class=\"col-auto text-left\">\n          <button type=\"submit\" class=\"btn btn-primary\">Установить</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Victor from 'victor';\n\nexport default {\n  data() {\n    return {\n      outLengthInMm: 0,\n      inLengthInMm: 0,\n      depthInMm: 0,\n    };\n  },\n  computed: {\n    parts() { return this.$store.getters.parts; },\n    selectedEl() { return this.$store.getters.selectedEl; },\n    element() { return this.selectedEl.el; },\n    points() {\n      const points = this.element.pointsId.map((id, i) => (\n        { id, c: [this.element.points[i * 2], this.element.points[i * 2 + 1]] }\n      ));\n      return {\n        out: this.element.type === 'inset' ? [points[0], points[3]] : [points[1], points[2]],\n        in: this.element.type === 'inset' ? [points[1], points[2]] : [points[0], points[3]],\n      };\n    },\n    currentOutLength() {\n      const pts = this.points.out.map((p) => p.c);\n      return Math.sqrt((pts[1][0] - pts[0][0]) ** 2 + (pts[1][1] - pts[0][1]) ** 2);\n    },\n    currentInLength() {\n      const pts = this.points.in.map((p) => p.c);\n      return Math.sqrt((pts[1][0] - pts[0][0]) ** 2 + (pts[1][1] - pts[0][1]) ** 2);\n    },\n  },\n  watch: {\n    points: {\n      handler() {\n        this.outLengthInMm = Math.round(this.currentOutLength);\n        this.inLengthInMm = Math.round(this.currentInLength);\n        this.depthInMm = this.element.depth;\n      },\n      immediate: true,\n    },\n    // outLengthInMm(l) { this.inLengthInMm = l; },\n    // inLengthInMm(l) { this.outLengthInMm = l; },\n  },\n  methods: {\n    setParams() {\n      if (Math.round(this.outLengthInMm) !== Math.round(this.currentOutLength)) {\n        this.setPoints(this.points.out, this.outLengthInMm, this.currentOutLength);\n      }\n      if (Math.round(this.inLengthInMm) !== Math.round(this.currentInLength)) {\n        this.setPoints(this.points.in, this.inLengthInMm, this.currentInLength);\n      }\n      if (Math.round(this.depthInMm) !== Math.round(this.element.depth)) {\n        const depthPoints = this.points[this.element.type === 'inset' ? 'in' : 'out'];\n        this.setDepth(depthPoints, this.depthInMm, this.element.depth);\n      }\n      this.$store.commit('addLog');\n    },\n    setPoints(pts, newLength, currentLength) {\n      let startVec = new Victor(pts[0].c[0], pts[0].c[1]);\n      let vec = new Victor(pts[1].c[0] - pts[0].c[0], pts[1].c[1] - pts[0].c[1]);\n      const diffLength = Math.abs(newLength - currentLength) / 2;\n      const angle = newLength > currentLength ? 180 : 0;\n      vec = vec.norm().rotateDeg(angle).multiply(new Victor(diffLength, diffLength));\n      startVec = vec.clone().add(startVec);\n      this.setPoint({ id: pts[0].id, c: startVec.toObject() });\n      vec = vec.norm().rotateDeg(angle).multiply(new Victor(newLength, newLength));\n      startVec = vec.clone().add(startVec);\n      this.setPoint({ id: pts[1].id, c: startVec.toObject() });\n    },\n    setPoint(point) {\n      const payload = {\n        i: this.selectedEl.i,\n        j: this.parts[this.selectedEl.i].points.findIndex((p) => p.id === point.id),\n        point: point.c,\n      };\n      this.$store.dispatch('changePoint', payload);\n    },\n    setDepth(pts, newDepth, currentDepth) {\n      let startVec = new Victor(pts[0].c[0], pts[0].c[1]);\n      let vec = new Victor(pts[1].c[0] - pts[0].c[0], pts[1].c[1] - pts[0].c[1]);\n      const length = vec.length();\n      const diffDepth = Math.abs(newDepth - currentDepth);\n      const k = (newDepth > currentDepth && this.element.type === 'inset')\n        || (newDepth < currentDepth && this.element.type === 'bulge') ? 1 : -1;\n      vec = vec.norm().rotateDeg(90 * k).multiply(new Victor(diffDepth, diffDepth));\n      startVec = vec.clone().add(startVec);\n      this.setPoint({ id: pts[0].id, c: startVec.toObject() });\n      vec = vec.norm().rotateDeg(-90 * k).multiply(new Victor(length, length));\n      startVec = vec.clone().add(startVec);\n      this.setPoint({ id: pts[1].id, c: startVec.toObject() });\n      const { i, j } = this.selectedEl;\n      this.$store.commit('setInsetBulgeDepth', { i, j, depth: newDepth });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsetBulge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsetBulge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InsetBulge.vue?vue&type=template&id=bac35a3e&\"\nimport script from \"./InsetBulge.vue?vue&type=script&lang=js&\"\nexport * from \"./InsetBulge.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"mb-0 text-left\"},[_vm._v(\"Тип\")]),_vm._l((_vm.types),function(type){return _c('div',{key:type.type,staticClass:\"custom-control custom-radio text-left\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedType),expression:\"selectedType\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"radio\",\"id\":type.type},domProps:{\"value\":type.type,\"checked\":_vm._q(_vm.selectedType,type.type)},on:{\"change\":function($event){_vm.selectedType=type.type}}}),_c('label',{staticClass:\"custom-control-label d-flex align-items-center\",attrs:{\"for\":type.type}},[_c('img',{staticClass:\"mx-2\",staticStyle:{\"width\":\"1rem\"},attrs:{\"src\":_vm.files[type.type].src}}),_vm._v(\" \"+_vm._s(type.name)+\" \")])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p class=\"mb-0 text-left\">Тип</p>\n    <div\n      class=\"custom-control custom-radio text-left\"\n      v-for=\"type in types\"\n      :key=\"type.type\">\n      <input\n        type=\"radio\"\n        :id=\"type.type\"\n        :value=\"type.type\"\n        class=\"custom-control-input\"\n        v-model=\"selectedType\">\n      <label\n        class=\"custom-control-label d-flex align-items-center\"\n        :for=\"type.type\">\n        <img :src=\"files[type.type].src\" style=\"width: 1rem;\" class=\"mx-2\">\n        {{ type.name }}\n      </label>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['initType'],\n  data() {\n    return {\n      types: [\n        { name: 'Empty', type: 'empty' },\n        { name: 'Half', type: 'half' },\n        { name: 'Full', type: 'full' },\n      ],\n      selectedType: this.initType,\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    files() { return this.$store.state.files.edges; },\n  },\n  watch: {\n    selectedType(nv) {\n      const { i, j } = this.selectedEl;\n      this.$store.commit('setEdgeTagParams', { i, j, edgeType: nv });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edge.vue?vue&type=template&id=4af5a7fe&\"\nimport script from \"./Edge.vue?vue&type=script&lang=js&\"\nexport * from \"./Edge.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"mb-0 text-left\"},[_vm._v(\"Фон\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fill),expression:\"fill\"}],staticClass:\"custom-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.fill=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"Без фона\")]),_c('option',{attrs:{\"value\":\"color\"}},[_vm._v(\"Цвет\")]),_c('option',{attrs:{\"value\":\"dots\"}},[_vm._v(\"Точки\")]),_c('option',{attrs:{\"value\":\"verticalLines\"}},[_vm._v(\"Вертикальные линии\")]),_c('option',{attrs:{\"value\":\"horizontalLines\"}},[_vm._v(\"Горизонтальные линии\")]),_c('option',{attrs:{\"value\":\"rightDiagonalLines\"}},[_vm._v(\"Правый штрих\")]),_c('option',{attrs:{\"value\":\"leftDiagonalLines\"}},[_vm._v(\"Левый штрих\")]),_c('option',{attrs:{\"value\":\"rightSmallDiagonalLines\"}},[_vm._v(\"Мелкий штрих\")]),_c('option',{attrs:{\"value\":\"rhombus\"}},[_vm._v(\"Ромб\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p class=\"mb-0 text-left\">Фон</p>\n    <select class=\"custom-select\" v-model=\"fill\">\n      <option :value=\"null\">Без фона</option>\n      <option value=\"color\">Цвет</option>\n      <option value=\"dots\">Точки</option>\n      <option value=\"verticalLines\">Вертикальные линии</option>\n      <option value=\"horizontalLines\">Горизонтальные линии</option>\n      <option value=\"rightDiagonalLines\">Правый штрих</option>\n      <option value=\"leftDiagonalLines\">Левый штрих</option>\n      <option value=\"rightSmallDiagonalLines\">Мелкий штрих</option>\n      <option value=\"rhombus\">Ромб</option>\n    </select>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      fill: null,\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n  },\n  watch: {\n    fill(fill) {\n      this.$store.commit('setPartFill', {\n        fill,\n        i: this.selectedEl.i,\n      });\n      this.$store.commit('addLog');\n    },\n    selectedEl(selectedEl) {\n      if (selectedEl.el.fill !== this.fill) this.fill = this.selectedEl.el.fill;\n    },\n  },\n  mounted() {\n    this.fill = this.selectedEl.el.fill;\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PartMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PartMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PartMenu.vue?vue&type=template&id=63048343&\"\nimport script from \"./PartMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./PartMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-left\"},[_c('p',{staticClass:\"mb-0 text-left\"},[_vm._v(\"Размер шрифта\")]),_vm._l((5),function(i){return _c('button',{key:i,staticClass:\"btn btn-outline-secondary mr-1\",class:{active: _vm.fontSizeK === _vm.sizes[i - 1]},on:{\"click\":function($event){return _vm.setFontSize(i - 1)}}},[_c('font-awesome-icon',{style:({transform: (\"scale(\" + (_vm.sizes[i - 1] / 3) + \")\")}),attrs:{\"icon\":\"font\"}})],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"text-left\">\n    <p class=\"mb-0 text-left\">Размер шрифта</p>\n    <button\n      v-for=\"i in 5\"\n      :key=\"i\"\n      @click=\"setFontSize(i - 1)\"\n      :class=\"{active: fontSizeK === sizes[i - 1]}\"\n      class=\"btn btn-outline-secondary mr-1\">\n      <font-awesome-icon\n        icon=\"font\"\n        :style=\"{transform: `scale(${sizes[i - 1] / 3})`}\" />\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      sizes: [1, 1.5, 2, 2.5, 3],\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    fontSizeK() { return this.selectedEl.el.fontSizeK; },\n  },\n  watch: {\n    fill(fill) {\n      this.$store.commit('setPartFill', {\n        fill,\n        i: this.selectedEl.i,\n      });\n      this.$store.commit('addLog');\n    },\n    selectedEl(selectedEl) {\n      if (selectedEl.el.fill !== this.fill) this.fill = this.selectedEl.el.fill;\n    },\n  },\n  mounted() {\n    this.fill = this.selectedEl.el.fill;\n  },\n  methods: {\n    setFontSize(i) {\n      if (this.fontSizeK === this.sizes[i]) return;\n      this.$store.commit('setTextParams', {\n        i: this.selectedEl.i,\n        ...this.selectedEl.el,\n        fontSizeK: this.sizes[i],\n      });\n      this.$store.commit('addLog');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextMenu.vue?vue&type=template&id=6baaba6c&\"\nimport script from \"./TextMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./TextMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"d-inline-block bg-white p-4 position-absolute element-menu\"\n    v-if=\"element\">\n      <line-border v-if=\"element.type === 'lineBorder'\" />\n      <curve-border v-if=\"element.type === 'curveBorder'\" />\n      <inset-bulge v-if=\"['inset', 'bulge'].includes(element.type)\" />\n      <edge v-if=\"element.type === 'edge'\" :initType=\"element.edgeType\" />\n      <part-menu v-if=\"element.type === 'part'\" />\n      <text-menu v-if=\"['totalText', 'partText'].includes(element.type)\" />\n  </div>\n</template>\n\n<script>\nimport LineBorder from './LineBorder.vue';\nimport CurveBorder from './CurveBorder.vue';\nimport InsetBulge from './InsetBulge.vue';\nimport Edge from './Edge.vue';\nimport PartMenu from './PartMenu.vue';\nimport TextMenu from './TextMenu.vue';\n\nexport default {\n  components: {\n    LineBorder, CurveBorder, InsetBulge, Edge, PartMenu, TextMenu,\n  },\n  computed: {\n    element() { return this.$store.getters.selectedEl.el; },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.element-menu {\n  top: 10%;\n  right: 5%;\n  width: 300px;\n  input {\n    width: 5rem;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElementMenu.vue?vue&type=template&id=cec7571a&\"\nimport script from \"./ElementMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./ElementMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ElementMenu.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block bg-white position-absolute logs-menu\"},[_c('button',{ref:\"logBack\",staticClass:\"btn btn-outline-dark mr-2\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabledBack},on:{\"click\":function($event){return _vm.$store.commit('logBack')}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"reply\"}})],1),_c('button',{ref:\"logForward\",staticClass:\"btn btn-outline-dark\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabledForward},on:{\"click\":function($event){return _vm.$store.commit('logForward')}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"share\"}})],1),_c('save')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-inline-block\"},[_c('button',{staticClass:\"btn btn-outline-dark ml-2\",attrs:{\"type\":\"button\",\"title\":\"Скачать изображение\"},on:{\"click\":_vm.saveImage}},[_c('font-awesome-icon',{attrs:{\"icon\":\"file-image\"}})],1),_c('button',{staticClass:\"btn btn-outline-dark ml-2\",attrs:{\"type\":\"button\",\"title\":\"Скачать PDF\"},on:{\"click\":_vm.savePDF}},[_c('font-awesome-icon',{attrs:{\"icon\":\"file-pdf\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-inline-block\">\n    <button\n      class=\"btn btn-outline-dark ml-2\"\n      type=\"button\"\n      title=\"Скачать изображение\"\n      @click=\"saveImage\">\n      <font-awesome-icon icon=\"file-image\" />\n    </button>\n    <button\n      class=\"btn btn-outline-dark ml-2\"\n      type=\"button\"\n      title=\"Скачать PDF\"\n      @click=\"savePDF\">\n      <font-awesome-icon icon=\"file-pdf\" />\n    </button>\n  </div>\n</template>\n\n<script>\nimport jsPDF from 'jspdf';\n\nexport default {\n  methods: {\n    getDataUrl() {\n      return new Promise((resolve) => {\n        const { selectedElId } = this.$store.state;\n        if (selectedElId) {\n          this.$store.commit('setSelectedElId', null);\n        }\n        setTimeout(() => {\n          const params = {\n            pixelRatio: 3,\n            mimeType: 'image/jpeg',\n          };\n          resolve(this.$store.state.stage.toDataURL(params));\n          if (selectedElId) {\n            this.$store.commit('setSelectedElId', selectedElId);\n          }\n        }, 0);\n      });\n    },\n    async saveImage() {\n      const dataURL = await this.getDataUrl();\n      const link = document.createElement('a');\n      link.download = 'stage.jpg';\n      link.href = dataURL;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    },\n    async savePDF() {\n      const dataURL = await this.getDataUrl();\n      // eslint-disable-next-line new-cap\n      const pdf = new jsPDF('l', 'mm', 'a4');\n      let width = pdf.internal.pageSize.getWidth();\n      let height = pdf.internal.pageSize.getHeight();\n      const pdfRatio = width / height;\n      const stageRatio = this.$store.state.stage.width() / this.$store.state.stage.height();\n      let top = 0;\n      let left = 0;\n      if (pdfRatio < stageRatio) {\n        height = width / stageRatio;\n        top = (pdf.internal.pageSize.getHeight() - height) / 2;\n      } else {\n        width = height / stageRatio;\n        left = (pdf.internal.pageSize.getWidth() - width) / 2;\n      }\n      pdf.addImage(dataURL, 'JPEG', left, top, width, height);\n      pdf.save('stage.pdf');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Save.vue?vue&type=template&id=40c80ebe&\"\nimport script from \"./Save.vue?vue&type=script&lang=js&\"\nexport * from \"./Save.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"d-inline-block bg-white position-absolute logs-menu\">\n    <button\n      class=\"btn btn-outline-dark mr-2\"\n      type=\"button\"\n      ref=\"logBack\"\n      :disabled=\"disabledBack\"\n      @click=\"$store.commit('logBack')\">\n      <font-awesome-icon icon=\"reply\" />\n    </button>\n    <button\n      class=\"btn btn-outline-dark\"\n      type=\"button\"\n      :disabled=\"disabledForward\"\n      ref=\"logForward\"\n      @click=\"$store.commit('logForward')\">\n      <font-awesome-icon icon=\"share\" />\n    </button>\n    <save />\n  </div>\n</template>\n\n<script>\nimport Save from './Save.vue';\n\nexport default {\n  components: { Save },\n  computed: {\n    logs() { return this.$store.state.logs; },\n    logStep() { return this.$store.state.logStep; },\n    disabledBack() {\n      return !this.logs.length || !this.logStep;\n    },\n    disabledForward() {\n      return this.logStep >= this.logs.length - 1;\n    },\n  },\n  mounted() {\n    window.addEventListener('keydown', (e) => {\n      if (!e.ctrlKey) return;\n      if (e.code === 'KeyZ') {\n        this.$refs.logBack.click();\n      } else if (e.code === 'KeyY') {\n        this.$refs.logForward.click();\n      }\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.logs-menu {\n  top: 10px;\n  left: 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Logs.vue?vue&type=template&id=6ef8575a&\"\nimport script from \"./Logs.vue?vue&type=script&lang=js&\"\nexport * from \"./Logs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Logs.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.style)?_c('div',{staticClass:\"position-absolute\",style:(_vm.style)},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],ref:\"text\",staticClass:\"w-100 h-100\",staticStyle:{\"line-height\":\"1\",\"resize\":\"none\"},domProps:{\"value\":(_vm.text)},on:{\"blur\":_vm.saveText,\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    v-if=\"style\"\n    class=\"position-absolute\"\n    :style=\"style\">\n    <textarea\n      class=\"w-100 h-100\"\n      @blur=\"saveText\"\n      ref=\"text\"\n      style=\"line-height: 1; resize: none;\"\n      v-model=\"text\">\n    </textarea>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      text: '',\n      width: 0,\n      height: 0,\n    };\n  },\n  computed: {\n    selectedEl() { return this.$store.getters.selectedEl; },\n    isTextEditMode() { return this.$store.state.isTextEditMode; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    style() {\n      const { el } = this.selectedEl;\n      if (!el || !this.isTextEditMode) return null;\n      if (!['text', 'totalText'].includes(el.type)) return null;\n      const fontSize = this.$store.state.fontSizeInmM.text\n        * this.pxPerMm * this.selectedEl.el.fontSizeK;\n      let style;\n      if (el.type === 'totalText') {\n        style = { top: `${el.y}px`, left: `${el.x}px`, fontSize: `${Math.round(fontSize)}px` };\n        const textNodes = this.$store.state.stage.find('Text');\n        const textNode = textNodes.toArray().find((t) => t.id() === el.id);\n        const width = textNode.width();\n        const height = textNode.height();\n        if (width) style.width = `${width + 30}px`;\n        if (height > fontSize) style.height = `${height + 10}px`;\n        return style;\n      }\n      return null;\n    },\n  },\n  watch: {\n    style(nv) {\n      if (nv) {\n        this.text = this.selectedEl.el.text;\n        setTimeout(() => {\n          this.$refs.text.focus();\n        }, 0);\n      }\n    },\n  },\n  methods: {\n    saveText() {\n      const text = this.text.trim();\n      const { i, j, el } = this.selectedEl;\n      const { type } = el;\n      const payload = { i, j, type };\n      if (!text.length) {\n        this.$store.commit('deleteTextBlock', payload);\n        if (el.text.length) {\n          this.$store.commit('addLog');\n        }\n      } else {\n        this.$store.commit('setTextBlock', { ...payload, text });\n        this.$store.commit('addLog');\n      }\n      this.$store.commit('setTextEditMode', false);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextEdit.vue?vue&type=template&id=1ab0a07b&\"\nimport script from \"./TextEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./TextEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text',{attrs:{\"config\":{\n      type: _vm.text.type,\n      id: _vm.text.id,\n      x: _vm.text.x,\n      y: _vm.text.y,\n      text: _vm.text.text,\n      fontFamily: 'Calibri',\n      fontSize: _vm.fontSize,\n      fill: [_vm.currentElId, _vm.selectedElId].includes(_vm.text.id)\n        ? _vm.selectedColor : 'black',\n      draggable: true,\n      visible: !(_vm.selectedElId === _vm.text.id && _vm.isTextEditMode)\n    }},on:{\"mouseover\":function($event){_vm.over = true},\"mouseleave\":function($event){_vm.over = false},\"dragend\":_vm.dragend,\"click\":function($event){return _vm.$store.commit('setSelectedElId', _vm.text.id)},\"dblclick\":_vm.editText,\"contextmenu\":_vm.setContextMenuEvent}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-text\n      :config=\"{\n        type: text.type,\n        id: text.id,\n        x: text.x,\n        y: text.y,\n        text: text.text,\n        fontFamily: 'Calibri',\n        fontSize,\n        fill: [currentElId, selectedElId].includes(text.id)\n          ? selectedColor : 'black',\n        draggable: true,\n        visible: !(selectedElId === text.id && isTextEditMode)\n      }\"\n      @mouseover=\"over = true\"\n      @mouseleave=\"over = false\"\n      @dragend=\"dragend\"\n      @click=\"$store.commit('setSelectedElId', text.id)\"\n      @dblclick=\"editText\"\n      @contextmenu=\"setContextMenuEvent\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['text', 'textIndex'],\n  data() {\n    return {\n      over: false,\n    };\n  },\n  computed: {\n    selectedColor() { return this.$store.state.selectedColor; },\n    selectedElId() { return this.$store.state.selectedElId; },\n    currentElId() { return this.$store.state.currentElId; },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    fontSize() { return this.$store.state.fontSizeInmM.text * this.pxPerMm * this.text.fontSizeK; },\n    isTextEditMode() { return this.$store.state.isTextEditMode; },\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n  },\n  watch: {\n    over(over) {\n      if (over) {\n        this.$store.commit('setCursor', 'move');\n        this.$store.commit('setCurrentEl', this.text.id);\n      } else {\n        this.$store.commit('resetCursor');\n        this.$store.commit('setCurrentEl', null);\n      }\n    },\n    contextMenuAction(data) {\n      if (data.textIndex !== this.textIndex) return;\n      if (data.action === 'deleteTotalText') {\n        this.$store.commit('deleteTextBlock', { type: 'totalText', i: data.textIndex });\n        this.$store.commit('addLog');\n      }\n    },\n  },\n  methods: {\n    dragend(e) {\n      const pos = e.target.getPosition();\n      this.$store.commit('setTextParams', { ...this.text, ...pos, i: this.textIndex });\n      this.$store.commit('addLog');\n    },\n    editText() {\n      this.$store.commit('setTextEditMode', true);\n    },\n    setContextMenuEvent(e) {\n      const { textIndex } = this;\n      this.$store.commit('setContextMenuEvent', { e, textIndex, type: 'totalText' });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TotalText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TotalText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TotalText.vue?vue&type=template&id=25b3954c&\"\nimport script from \"./TotalText.vue?vue&type=script&lang=js&\"\nexport * from \"./TotalText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div style=\"border: 1px solid; margin-bottom: 300px;\" class=\"position-relative\">\n    <div ref=\"nocontext\">\n      <context-menu />\n      <v-stage\n        :config=\"{\n          width: canvasWidthInPx,\n          height: 500,\n          type: 'stage',\n        }\"\n        ref=\"stage\">\n        <v-layer>\n          <v-rect\n            :config=\"{\n              width: canvasWidthInPx,\n              height: 500,\n              fill: 'white',\n              type: 'bgRect'\n            }\"\n            @click=\"deselect\" />\n          <part\n            v-for=\"(part, i) in parts\"\n            :key=\"part.id\"\n            :partIndex=\"i\"\n            :part=\"part\" />\n          <total-text\n            v-for=\"(text, i) in totalTexts\"\n            :key=\"text.id\"\n            :textIndex=\"i\"\n            :text=\"text\" />\n        </v-layer>\n      </v-stage>\n    </div>\n    <element-menu />\n    <logs />\n    <text-edit />\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\nimport ContextMenu from './ContextMenu.vue';\nimport getId from '../../mixins/getId';\nimport Part from './Part.vue';\nimport ElementMenu from '../manage/element-menu/ElementMenu.vue';\nimport Logs from '../manage/Logs.vue';\nimport TextEdit from '../manage/TextEdit.vue';\nimport TotalText from './TotalText.vue';\n\nexport default {\n  mixins: [getId],\n  components: {\n    ContextMenu, Part, ElementMenu, Logs, TextEdit, TotalText,\n  },\n  data() {\n    return {\n      content: '',\n      editorOptions: {\n        placeholder: 'Введите текст',\n      },\n    };\n  },\n  computed: {\n    contextMenuAction() { return this.$store.state.contextMenuAction; },\n    parts() { return this.$store.getters.parts; },\n    totalTexts() { return this.$store.state.parts.totalTexts; },\n    canvasHeightInMm() { return this.$store.state.canvasHeightInMm; },\n    canvasWidthInMm() { return this.$store.state.canvasWidthInMm; },\n    canvasWidthInPx() {\n      return this.canvasWidthInMm ? this.canvasWidthInMm * this.pxPerMm : 0;\n    },\n    pxPerMm() { return this.$store.state.pxPerMm; },\n    cursor() { return this.$store.state.cursor; },\n    selectedEl() { return this.$store.getters.selectedEl; },\n  },\n  watch: {\n    cursor(cursor) {\n      this.$refs.stage.getNode().container().style.cursor = cursor;\n    },\n  },\n  mounted() {\n    const pxPerMm = this.$el.clientHeight / this.canvasHeightInMm;\n    this.$store.commit('setPxPerMm', pxPerMm);\n    const canvasWidthInMm = this.$el.clientWidth / pxPerMm;\n    this.$store.commit('setCanvasWidthInMm', canvasWidthInMm);\n    const widthInMm = 1000;\n    const heightInMm = 2000;\n    const startPoint = [\n      (canvasWidthInMm - widthInMm) / 2,\n      (this.canvasHeightInMm - heightInMm) / 2,\n    ];\n    const part = {\n      id: this.getId(),\n      position: { x: 0, y: 0 },\n      fill: null,\n      type: 'part',\n      points: [\n        { id: this.getId(), c: startPoint },\n        { id: this.getId(), c: [startPoint[0] + widthInMm, startPoint[1]] },\n        { id: this.getId(), c: [startPoint[0] + widthInMm, startPoint[1] + heightInMm] },\n        { id: this.getId(), c: [startPoint[0], startPoint[1] + heightInMm] },\n      ],\n    };\n    part.borders = part.points.map(() => (\n      {\n        id: this.getId(),\n        type: 'lineBorder',\n        sizeTag: { isShown: true },\n        radiusPosition: 'usual',\n      }\n    ));\n    this.$store.commit('addPart', part);\n    this.$store.commit('addLog');\n    $(this.$refs.nocontext).on('contextmenu', (e) => e.preventDefault());\n    this.$store.commit('setStage', this.$refs.stage.getNode());\n    window.addEventListener('keypress', (e) => {\n      if (e.code !== 'Delete' || !this.selectedEl.el) return;\n      let action;\n      switch (this.selectedEl.el.type) {\n        case 'part':\n          action = { action: 'deletePart', partIndex: this.selectedEl.i };\n          break;\n        case 'totalText':\n          action = { action: 'deleteTotalText', textIndex: this.selectedEl.i };\n          break;\n        default:\n          return;\n      }\n      this.$store.commit('setContextMenuAction', action);\n    });\n  },\n  methods: {\n    deselect(e) {\n      if (e.target.attrs.type === 'bgRect') {\n        this.$store.commit('setSelectedElId', null);\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Konva.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Konva.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Konva.vue?vue&type=template&id=83b3f7ac&\"\nimport script from \"./Konva.vue?vue&type=script&lang=js&\"\nexport * from \"./Konva.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <template v-if=\"isMounted\">\n      <konva />\n    </template>\n  </div>\n</template>\n\n<script>\nimport Konva from './canvas/Konva.vue';\n\nexport default {\n  components: {\n    Konva,\n  },\n  data() {\n    return {\n      isMounted: false,\n    };\n  },\n  mounted() {\n    this.isMounted = true;\n    // const ctrl = ['ControlLeft', 'ControlRight'];\n    // window.addEventListener('keydown', (e) => {\n    //   if (ctrl.includes(e.code)) {\n    //     this.$store.commit('changeControlPressed', true);\n    //   }\n    // });\n    // window.addEventListener('keyup', (e) => {\n    //   if (ctrl.includes(e.code)) {\n    //     this.$store.commit('changeControlPressed', false);\n    //   }\n    // });\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=e810eec2&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=js&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container mt-5\">\n    <manage />\n    <Canvas />\n  </div>\n</template>\n\n<script>\nimport Manage from './Manage.vue';\nimport Canvas from './Canvas.vue';\n\nexport default {\n  components: {\n    Manage,\n    Canvas,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Drawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Drawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Drawer.vue?vue&type=template&id=3375c4b3&\"\nimport script from \"./Drawer.vue?vue&type=script&lang=js&\"\nexport * from \"./Drawer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"modal\",staticClass:\"modal\",attrs:{\"id\":\"confirm_modal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\",\"data-result\":_vm.result}},[_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"}),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-body text-left\",staticStyle:{\"white-space\":\"pre-wrap\"}}),_c('div',{staticClass:\"modal-footer\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"modal\"\n    id=\"confirm_modal\"\n    ref=\"modal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalCenterTitle\"\n    aria-hidden=\"true\"\n    :data-result=\"result\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\"></h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body text-left\" style=\"white-space: pre-wrap;\">\n        </div>\n        <div class=\"modal-footer\">\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\n\nexport default {\n  data() {\n    return {\n      result: 0,\n    };\n  },\n  mounted() {\n    $(this.$refs.modal)\n      .on('show.bs.modal', () => {\n        this.result = 0;\n        if ($(this.$refs.modal).find('input').length) {\n          setTimeout(() => {\n            $(this.$refs.modal).find('input').trigger('focus');\n          }, 0);\n        }\n      })\n      .on('keypress', 'input', (e) => {\n        if (['Enter', 'NumpadEnter'].includes(e.code)) {\n          $(this.$refs.modal).find('.modal-footer > button[data-action=1]').click();\n        }\n      });\n    $(this.$refs.modal).on('click', '.modal-footer > button', (e) => {\n      this.result = Number($(e.target).attr('data-action'));\n      setTimeout(() => {\n        $(this.$refs.modal).modal('hide');\n      }, 0);\n    });\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmModal.vue?vue&type=template&id=613a86da&\"\nimport script from \"./ConfirmModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <drawer />\n    <confirm-modal />\n  </div>\n</template>\n\n<script>\nimport 'bootstrap';\nimport Drawer from './components/Drawer.vue';\nimport ConfirmModal from './components/manage/ConfirmModal.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    Drawer,\n    ConfirmModal,\n  },\n  created() {\n    this.$store.dispatch('downloadImages');\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"~bootstrap/scss/bootstrap\";\n@import '~toastr/toastr.scss';\n\n.toast {\n  opacity: 1 !important;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n@media (min-width: 576px) {\n  .container {\n      max-width: 576px;\n  }\n}\n@media (min-width: 768px) {\n  .container {\n      max-width: 768px;\n  }\n}\n@media (min-width: 992px) {\n  .container {\n      max-width: 992px;\n  }\n}\n@media (min-width: 1200px) {\n  .container {\n      max-width: 1200px;\n  }\n}\n@media (min-width: 1400px) {\n  .container {\n      max-width: 1400px;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=28d0a0e5&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\n\nconst clone = (a) => JSON.parse(JSON.stringify(a));\n\nexport default {\n  state: {\n    partsInit: [],\n    totalTexts: [],\n    refreshSelectedElTrigger: 0,\n    defaultEdgeType: 'empty',\n  },\n  getters: {\n    parts(state, getters, rootState) {\n      return state.partsInit.map((partInit) => {\n        const part = clone(partInit);\n        const { points, borders } = part;\n        const { pxPerMm } = rootState;\n        points.forEach((point, i) => {\n          const next = i < points.length - 1 ? i + 1 : 0;\n          borders[i].points = [...point.c, ...points[next].c];\n          borders[i].pointsId = [point.id, points[next].id];\n          const prev = i ? i - 1 : points.length - 1;\n          points[i].bordersId = [borders[i].id, borders[prev].id];\n          points[i].pBId = [...points[i].bordersId, point.id];\n          points[i].cInPx = point.c.map((pc) => pc * pxPerMm);\n          borders[i].pointsInPx = borders[i].points.map((pc) => pc * pxPerMm);\n          if (borders[i].radius) borders[i].radiusInPx = borders[i].radius * pxPerMm;\n          if (['inset', 'bulge'].includes(point.subType)) {\n            const index = part.insetsBulges.findIndex((ib) => ib.id === point.insetBulgeId);\n            part.insetsBulges[index].points.push(...point.c);\n            part.insetsBulges[index].pointsInPx.push(...points[i].cInPx);\n          }\n          ['radiusTag', 'edgeTag', 'sizeTag'].forEach((tag) => {\n            if (!(tag in borders[i])) borders[i][tag] = {};\n          });\n          if (!('angleTag' in point)) points[i].angleTag = {};\n        });\n        return part;\n      });\n    },\n    canvasSizeInPx(state, getters, rootState) {\n      const { canvasHeightInMm, canvasWidthInMm, pxPerMm } = rootState;\n      const size = { width: 0, height: 0 };\n      if (canvasWidthInMm) {\n        size.width = canvasWidthInMm * pxPerMm;\n        size.height = canvasHeightInMm * pxPerMm;\n      }\n      return size;\n    },\n    boundingBoxes(state, getters) {\n      return getters.parts.map((part) => {\n        const xs = part.points.map((p) => p.cInPx[0]);\n        const ys = part.points.map((p) => p.cInPx[1]);\n        const bb = {\n          id: part.id,\n          absolute: {\n            x1: Math.min(...xs),\n            x2: Math.max(...xs),\n            y1: Math.min(...ys),\n            y2: Math.max(...ys),\n          },\n        };\n        bb.relative = {\n          x1: bb.absolute.x1 + part.position.x,\n          x2: bb.absolute.x2 + part.position.x,\n          y1: bb.absolute.y1 + part.position.y,\n          y2: bb.absolute.y2 + part.position.y,\n        };\n        bb.width = Math.abs(bb.absolute.x2 - bb.absolute.x1);\n        bb.height = Math.abs(bb.absolute.y2 - bb.absolute.y1);\n        return bb;\n      });\n    },\n    selectedEl(state, getters, rootState) {\n      const id = rootState.selectedElId;\n      if (!id) return {};\n      let selectedEl = {};\n      getters.parts.some((part, i) => {\n        if (part.id === id) {\n          selectedEl = { i, el: part };\n          return true;\n        }\n        let type = 'points';\n        let subType = null;\n        let j = part.points.findIndex((p) => p.id === id);\n        if (j < 0) {\n          subType = null;\n          type = 'borders';\n          j = part.borders.findIndex((p) => p.id === id);\n        }\n        if (j < 0) {\n          subType = 'edgeTag';\n          type = 'borders';\n          j = part.borders.findIndex((p) => p.edgeTag && p.edgeTag.id === id);\n        }\n        if (j < 0 && part.insetsBulges) {\n          subType = null;\n          type = 'insetsBulges';\n          j = part.insetsBulges.findIndex((p) => p.id === id);\n        }\n        if (j < 0 && part.texts && part.texts.length) {\n          subType = null;\n          type = 'texts';\n          j = part.texts.findIndex((p) => p.id === id);\n        }\n        if (j < 0) return false;\n        selectedEl = { i, j, el: subType ? part[type][j][subType] : part[type][j] };\n        return true;\n      });\n      if (!Object.keys(selectedEl).length && state.totalTexts.length) {\n        const index = state.totalTexts.findIndex((t) => t.id === id);\n        if (index >= 0) selectedEl = { i: index, el: state.totalTexts[index] };\n      }\n      return selectedEl;\n    },\n  },\n  mutations: {\n    addPart(state, part) {\n      state.partsInit.push(part);\n    },\n    movePoint(state, { partIndex, pointIndex, c }) {\n      Vue.set(state.partsInit[partIndex].points[pointIndex], 'c', c);\n    },\n    addPoint(state, { partIndex, pointIndex, point }) {\n      state.partsInit[partIndex].points.splice(pointIndex, 0, point);\n    },\n    addBorder(state, { partIndex, borderIndex, border }) {\n      const sizeTag = border.sizeTag || { isShown: true };\n      state.partsInit[partIndex].borders.splice(borderIndex, 0, { ...border, sizeTag });\n    },\n    deleteBorder(state, { partIndex, borderIndex }) {\n      state.partsInit[partIndex].borders.splice(borderIndex, 1);\n    },\n    deletePoint(state, { partIndex, pointIndex }) {\n      state.partsInit[partIndex].borders.splice(pointIndex, 1);\n      state.partsInit[partIndex].points.splice(pointIndex, 1);\n    },\n    makeBorderCurve(state, data) {\n      const { partIndex, borderIndex, radius } = data;\n      const border = clone(state.partsInit[partIndex].borders[borderIndex]);\n      Vue.set(state.partsInit[partIndex].borders, borderIndex, Object.assign(border, {\n        type: 'curveBorder',\n        radius,\n        isInside: data.isInside,\n        radiusTag: { isShown: true },\n        edgeTag: { isShown: false },\n        sizeTag: { isShown: false },\n      }));\n    },\n    makeBorderLine(state, data) {\n      const { partIndex, borderIndex } = data;\n      const border = clone(state.partsInit[partIndex].borders[borderIndex]);\n      delete border.radius;\n      delete border.isInside;\n      border.type = 'lineBorder';\n      border.radiusTag = { isShown: false };\n      border.edgeTag = { isShown: false };\n      border.sizeTag = { isShown: true };\n      Vue.set(state.partsInit[partIndex].borders, borderIndex, border);\n    },\n    addInsetBulge(state, payload) {\n      const { partIndex, ...params } = payload;\n      const insetsBulges = state.partsInit[partIndex].insetsBulges || [];\n      params.points = [];\n      insetsBulges.push({ ...params, pointsInPx: [], type: payload.type });\n      Vue.set(state.partsInit[partIndex], 'insetsBulges', insetsBulges);\n    },\n    setInsetBulgeDepth(state, { i, j, depth }) {\n      Vue.set(state.partsInit[i].insetsBulges[j], 'depth', depth);\n    },\n    deleteInsetBulge(state, { partIndex, insetBulgeIndex }) {\n      state.partsInit[partIndex].insetsBulges.splice(insetBulgeIndex, 1);\n    },\n    refreshSelectedEl(state) {\n      setTimeout(() => {\n        state.refreshSelectedElTrigger = Math.random();\n      }, 0);\n    },\n    changePoint(state, payload) {\n      const { i, j, point } = payload;\n      Vue.set(state.partsInit[i].points[j], 'c', [point.x, point.y]);\n    },\n    changeRadius(state, payload) {\n      const { i, j, radius } = payload;\n      Vue.set(state.partsInit[i].borders[j], 'radius', radius);\n    },\n    setPartPosition(state, { i, pos }) { Vue.set(state.partsInit[i], 'position', pos); },\n    toggleSkirting(state, { i, j }) {\n      Vue.set(state.partsInit[i].borders[j], 'skirting', !state.partsInit[i].borders[j].skirting);\n    },\n    setRadiusTagParams(state, { i, j, ...payload }) {\n      Vue.set(state.partsInit[i].borders[j], 'radiusTag', payload);\n    },\n    setEdgeTagParams(state, { i, j, ...payload }) {\n      let edgeTag;\n      if (payload.isShown === false) {\n        edgeTag = {};\n      } else {\n        edgeTag = state.partsInit[i].borders[j].edgeTag || {};\n        Object.assign(edgeTag, { edgeType: state.defaultEdgeType, type: 'edge' });\n      }\n      Vue.set(state.partsInit[i].borders[j], 'edgeTag', { ...edgeTag, ...payload });\n      if (payload.edgeType) state.defaultEdgeType = payload.edgeType;\n    },\n    setSizeTagParams(state, { i, j, ...payload }) {\n      Vue.set(state.partsInit[i].borders[j], 'sizeTag', payload);\n    },\n    setAngleTagParams(state, { i, j, ...payload }) {\n      Vue.set(state.partsInit[i].points[j], 'angleTag', payload);\n    },\n    setPartFill(state, { i, fill }) {\n      Vue.set(state.partsInit[i], 'fill', fill);\n    },\n    deletePart(state, partIndex) {\n      state.partsInit.splice(partIndex, 1);\n    },\n    addTextBlock(state, payload) {\n      const { i, ...params } = payload;\n      if (payload.type === 'totalText') {\n        state.totalTexts.push({ ...params });\n      } else {\n        if (!state.partsInit[i].texts) Vue.set(state.partsInit[i], 'texts', []);\n        state.partsInit[i].texts.push({ ...params });\n      }\n    },\n    setTextBlock(state, payload) {\n      if (payload.type === 'totalText') {\n        Vue.set(state.totalTexts[payload.i], 'text', payload.text);\n      } else {\n        Vue.set(state.partsInit[payload.i].texts[payload.j], 'text', payload.text);\n      }\n    },\n    deleteTextBlock(state, payload) {\n      if (payload.type === 'totalText') {\n        state.totalTexts.splice(payload.i, 1);\n      } else {\n        state.partsInit[payload.i].texts.splice(payload.j, 1);\n      }\n    },\n    setTextParams(state, { i, j, ...payload }) {\n      if (payload.type === 'totalText') {\n        Vue.set(state.totalTexts, i, payload);\n      } else {\n        Vue.set(state.partsInit[i].texts[payload.j], 'x', payload.text);\n      }\n    },\n  },\n  actions: {\n    refreshSelectedEl({ commit, rootState }) {\n      if (rootState.selectedEl) commit('refreshSelectedEl');\n    },\n    makeBorderCurve({ commit, dispatch }, payload) {\n      commit('makeBorderCurve', payload);\n      dispatch('refreshSelectedEl');\n    },\n    makeBorderLine({ commit, dispatch }, payload) {\n      commit('makeBorderLine', payload);\n      dispatch('refreshSelectedEl');\n    },\n    changePoint({ commit }, payload) { commit('changePoint', payload); },\n    changeRadius({ commit }, payload) { commit('changeRadius', payload); },\n    addTextBlock({ commit }, payload) {\n      commit('addTextBlock', payload);\n      commit('setSelectedElId', payload.id);\n      commit('setTextEditMode', true);\n    },\n  },\n};\n","/* eslint-disable global-require */\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport PartsModule from './parts';\n\nVue.use(Vuex);\nconst clone = (a) => JSON.parse(JSON.stringify(a));\n\nexport default new Vuex.Store({\n  state: {\n    stage: null,\n    canvasHeightInMm: 4000,\n    pxPerMm: 0,\n    contextMenuEvent: null,\n    cursor: 'default',\n    contextMenuAction: {},\n    selectedElId: null,\n    currentElId: null,\n    id: 0,\n    fontSizeInmM: {\n      sizeArrow: 90,\n      radius: 90,\n      text: 90,\n    },\n    files: { edges: {}, fills: {} },\n    logs: [{ parts: [], totalTexts: [] }],\n    logStep: 0,\n    dash: [1, 2],\n    selectedColor: '#536dfe',\n    isTextEditMode: false,\n  },\n  getters: {\n    gridSize() { return 10; },\n  },\n  mutations: {\n    setStage(state, stage) { state.stage = stage; },\n    setPxPerMm(state, pxPerMm) { state.pxPerMm = pxPerMm; },\n    setCanvasWidthInMm(state, width) { Vue.set(state, 'canvasWidthInMm', width); },\n    setContextMenuEvent(state, payload) { state.contextMenuEvent = payload; },\n    setContextMenuAction(state, payload) { state.contextMenuAction = payload; },\n    setSelectedElId(state, id) { state.selectedElId = id; },\n    setCurrentEl(state, id) { state.currentElId = id; },\n    incrementId(state) { state.id += 1; },\n    addFile(state, file) {\n      Vue.set(state.files[file.type], file.name, file.image);\n    },\n    setCursor(state, cursor) { state.cursor = cursor; },\n    resetCursor(state) { state.cursor = 'default'; },\n    addLog(state) {\n      state.logs.push({\n        parts: clone(state.parts.partsInit),\n        totalTexts: clone(state.parts.totalTexts),\n      });\n      state.logStep += 1;\n      state.logs.splice(state.logStep + 1);\n    },\n    logBack(state) {\n      state.selectedElId = null;\n      state.contextMenuEvent = null;\n      state.parts.partsInit = clone(state.logs[state.logStep - 1].parts);\n      state.parts.totalTexts = clone(state.logs[state.logStep - 1].totalTexts);\n      state.logStep -= 1;\n    },\n    logForward(state) {\n      state.selectedElId = null;\n      state.contextMenuEvent = null;\n      state.logStep += 1;\n      state.parts.partsInit = clone(state.logs[state.logStep].parts);\n      state.parts.totalTexts = clone(state.logs[state.logStep].totalTexts);\n    },\n    setTextEditMode(state, isTextEditMode) { state.isTextEditMode = isTextEditMode; },\n  },\n  actions: {\n    downloadImages({ commit }) {\n      const files = {\n        edges: {\n          empty: require('../assets/img/edges/edge_empty.svg'),\n          half: require('../assets/img/edges/edge_half.svg'),\n          full: require('../assets/img/edges/edge_full.svg'),\n          emptyHover: require('../assets/img/edges/edge_empty_hover.svg'),\n          halfHover: require('../assets/img/edges/edge_half_hover.svg'),\n          fullHover: require('../assets/img/edges/edge_full_hover.svg'),\n        },\n      };\n      Object.keys(files).forEach((type) => {\n        Object.keys(files[type]).forEach((name) => {\n          const image = new Image();\n          image.onload = (e) => {\n            commit('addFile', {\n              type,\n              name,\n              image: e.target,\n            });\n          };\n          image.src = files[type][name];\n        });\n      });\n    },\n  },\n  modules: {\n    parts: PartsModule,\n  },\n});\n","import Vue from 'vue';\nimport VueKonva from 'vue-konva';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faArrowsAltH,\n  faLongArrowAltRight,\n  faLongArrowAltLeft,\n  faReply,\n  faShare,\n  faSave,\n  faFileImage,\n  faFilePdf,\n  faFont,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport App from './App.vue';\nimport store from './store';\n\nlibrary.add(faArrowsAltH, faLongArrowAltRight, faFont,\n  faLongArrowAltLeft, faReply, faShare, faSave, faFileImage, faFilePdf);\n\nVue.component('font-awesome-icon', FontAwesomeIcon);\nVue.config.productionTip = false;\nVue.use(VueKonva);\n\nVue.mixin({\n  methods: {\n    clone(a) { return JSON.parse(JSON.stringify(a)); },\n  },\n});\n\nnew Vue({\n  store,\n  render: (h) => h(App),\n}).$mount('#app');\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/edge_half_hover.a02e39f9.svg\";","module.exports = __webpack_public_path__ + \"img/edge_full_hover.0e25cee9.svg\";","module.exports = __webpack_public_path__ + \"img/edge_empty.3662e72a.svg\";","module.exports = __webpack_public_path__ + \"img/edge_half.10bb9dfa.svg\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logs.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/edge_full.a70ba3da.svg\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementMenu.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementMenu.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}